import{eventSource as e,event_types as t,setExtensionPrompt as n,extension_prompt_types as s,extension_prompt_roles as i,saveSettingsDebounced as o}from'../../../../../script.js';import{extension_settings as r,getContext as a}from'../../../../../scripts/extensions.js';import{t as l}from'../../../../../scripts/i18n.js';import{Popup as c,POPUP_TYPE as u,POPUP_RESULT as d}from'../../../../../scripts/popup.js';
/**
* @vue/shared v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
function f(e){const t=Object.create(null);for(const n of e.split(','))t[n]=1;return e=>e in t}const p={},h=[],m=()=>{},g=()=>!1,v=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),y=e=>e.startsWith('onUpdate:'),b=Object.assign,w=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},k=Object.prototype.hasOwnProperty,S=(e,t)=>k.call(e,t),E=Array.isArray,x=e=>'[object Map]'===j(e),T=e=>'[object Set]'===j(e),N=e=>'[object Date]'===j(e),O=e=>'function'==typeof e,A=e=>'string'==typeof e,I=e=>'symbol'==typeof e,C=e=>null!==e&&'object'==typeof e,D=e=>(C(e)||O(e))&&O(e.then)&&O(e.catch),P=Object.prototype.toString,j=e=>P.call(e),L=e=>'[object Object]'===j(e),M=e=>A(e)&&'NaN'!==e&&'-'!==e[0]&&''+parseInt(e,10)===e,F=f(',key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted'),R=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},B=/-\w/g,U=R(e=>e.replace(B,e=>e.slice(1).toUpperCase())),V=/\B([A-Z])/g,K=R(e=>e.replace(V,'-$1').toLowerCase()),Z=R(e=>e.charAt(0).toUpperCase()+e.slice(1)),q=R(e=>e?`on${Z(e)}`:''),W=(e,t)=>!Object.is(e,t),Y=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},H=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},G=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let X;const J=()=>X||(X='undefined'!=typeof globalThis?globalThis:'undefined'!=typeof self?self:'undefined'!=typeof window?window:'undefined'!=typeof global?global:{});function Q(e){if(E(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],i=A(s)?se(s):Q(s);if(i)for(const e in i)t[e]=i[e]}return t}if(A(e)||C(e))return e}const ee=/;(?![^(]*\))/g,te=/:([^]+)/,ne=/\/\*[^]*?\*\//g;function se(e){const t={};return e.replace(ne,'').split(ee).forEach(e=>{if(e){const n=e.split(te);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function ie(e){let t='';if(A(e))t=e;else if(E(e))for(let n=0;n<e.length;n++){const s=ie(e[n]);s&&(t+=s+' ')}else if(C(e))for(const n in e)e[n]&&(t+=n+' ');return t.trim()}const oe=f('itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly');function re(e){return!!e||''===e}function ae(e,t){if(e===t)return!0;let n=N(e),s=N(t);if(n||s)return!(!n||!s)&&e.getTime()===t.getTime();if(n=I(e),s=I(t),n||s)return e===t;if(n=E(e),s=E(t),n||s)return!(!n||!s)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=ae(e[s],t[s]);return n}(e,t);if(n=C(e),s=C(t),n||s){if(!n||!s)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const s=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(s&&!i||!s&&i||!ae(e[n],t[n]))return!1}}return String(e)===String(t)}function le(e,t){return e.findIndex(e=>ae(e,t))}const ce=e=>!(!e||!0!==e.__v_isRef),ue=e=>A(e)?e:null==e?'':E(e)||C(e)&&(e.toString===P||!O(e.toString))?ce(e)?ue(e.value):JSON.stringify(e,de,2):String(e),de=(e,t)=>ce(t)?de(e,t.value):x(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,n],s)=>(e[fe(t,s)+' =>']=n,e),{})}:T(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>fe(e))}:I(t)?fe(t):!C(t)||E(t)||L(t)?t:String(t),fe=(e,t='')=>{var n;return I(e)?`Symbol(${null!=(n=e.description)?n:t})`:e};
/**
* @vue/reactivity v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
let pe,he;class me{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=pe,!e&&pe&&(this.index=(pe.scopes||(pe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){let e,t;if(this._isPaused=!0,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){let e,t;if(this._isPaused=!1,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=pe;try{return pe=this,e()}finally{pe=t}}}on(){1===++this._on&&(this.prevScope=pe,pe=this)}off(){this._on>0&&0===--this._on&&(pe=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){let t,n;for(this._active=!1,t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}}function ge(e){return new me(e)}function ve(){return pe}const ye=new WeakSet;class be{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,pe&&pe.active&&pe.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,ye.has(this)&&(ye.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||Se(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,je(this),Te(this);const e=he,t=$e;he=this,$e=!0;try{return this.fn()}finally{Ne(this),he=e,$e=t,this.flags&=-3}}stop(){if(1&this.flags){for(let e=this.deps;e;e=e.nextDep)Ie(e);this.deps=this.depsTail=void 0,je(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?ye.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Oe(this)&&this.run()}get dirty(){return Oe(this)}}let _e,we,ke=0;function Se(e,t=!1){if(e.flags|=8,t)return e.next=we,void(we=e);e.next=_e,_e=e}function Ee(){ke++}function xe(){if(--ke>0)return;if(we){let e=we;for(we=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let e;for(;_e;){let n=_e;for(_e=void 0;n;){const s=n.next;if(n.next=void 0,n.flags&=-9,1&n.flags)try{n.trigger()}catch(t){e||(e=t)}n=s}}if(e)throw e}function Te(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ne(e){let t,n=e.depsTail,s=n;for(;s;){const e=s.prevDep;-1===s.version?(s===n&&(n=e),Ie(s),Ce(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=e}e.deps=t,e.depsTail=n}function Oe(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ae(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ae(e){if(4&e.flags&&!(16&e.flags))return;if(e.flags&=-17,e.globalVersion===Le)return;if(e.globalVersion=Le,!e.isSSR&&128&e.flags&&(!e.deps&&!e._dirty||!Oe(e)))return;e.flags|=2;const t=e.dep,n=he,s=$e;he=e,$e=!0;try{Te(e);const n=e.fn(e._value);(0===t.version||W(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(i){throw t.version++,i}finally{he=n,$e=s,Ne(e),e.flags&=-3}}function Ie(e,t=!1){const{dep:n,prevSub:s,nextSub:i}=e;if(s&&(s.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let e=n.computed.deps;e;e=e.nextDep)Ie(e,!0)}t||--n.sc||!n.map||n.map.delete(n.key)}function Ce(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let $e=!0;const De=[];function Pe(){De.push($e),$e=!1}function ze(){const e=De.pop();$e=void 0===e||e}function je(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const e=he;he=void 0;try{t()}finally{he=e}}}let Le=0;class Me{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Fe{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!he||!$e||he===this.computed)return;let t=this.activeLink;if(void 0===t||t.sub!==he)t=this.activeLink=new Me(he,this),he.deps?(t.prevDep=he.depsTail,he.depsTail.nextDep=t,he.depsTail=t):he.deps=he.depsTail=t,Re(t);else if(-1===t.version&&(t.version=this.version,t.nextDep)){const e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=he.depsTail,t.nextDep=void 0,he.depsTail.nextDep=t,he.depsTail=t,he.deps===t&&(he.deps=e)}return t}trigger(e){this.version++,Le++,this.notify(e)}notify(e){Ee();try{0;for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{xe()}}}function Re(e){if(e.dep.sc++,4&e.sub.flags){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)Re(e)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Be=new WeakMap,Ue=Symbol(''),Ve=Symbol(''),Ke=Symbol('');function Ze(e,t,n){if($e&&he){let t=Be.get(e);t||Be.set(e,t=new Map);let s=t.get(n);s||(t.set(n,s=new Fe),s.map=t,s.key=n),s.track()}}function qe(e,t,n,s,i,o){const r=Be.get(e);if(!r)return void Le++;const a=e=>{e&&e.trigger()};if(Ee(),'clear'===t)r.forEach(a);else{const i=E(e),o=i&&M(n);if(i&&'length'===n){const e=Number(s);r.forEach((t,n)=>{('length'===n||n===Ke||!I(n)&&n>=e)&&a(t)})}else switch((void 0!==n||r.has(void 0))&&a(r.get(n)),o&&a(r.get(Ke)),t){case'add':i?o&&a(r.get('length')):(a(r.get(Ue)),x(e)&&a(r.get(Ve)));break;case'delete':i||(a(r.get(Ue)),x(e)&&a(r.get(Ve)));break;case'set':x(e)&&a(r.get(Ue))}}xe()}function We(e){const t=$t(e);return t===e?t:(Ze(t,0,Ke),It(e)?t:t.map(Pt))}function Ye(e){return Ze(e=$t(e),0,Ke),e}function He(e,t){return At(e)?Ot(e)?zt(Pt(t)):zt(t):Pt(t)}const Ge={__proto__:null,[Symbol.iterator](){return Xe(this,Symbol.iterator,e=>He(this,e))},concat(...e){return We(this).concat(...e.map(e=>E(e)?We(e):e))},entries(){return Xe(this,'entries',e=>(e[1]=He(this,e[1]),e))},every(e,t){return Qe(this,'every',e,t,void 0,arguments)},filter(e,t){return Qe(this,'filter',e,t,e=>e.map(e=>He(this,e)),arguments)},find(e,t){return Qe(this,'find',e,t,e=>He(this,e),arguments)},findIndex(e,t){return Qe(this,'findIndex',e,t,void 0,arguments)},findLast(e,t){return Qe(this,'findLast',e,t,e=>He(this,e),arguments)},findLastIndex(e,t){return Qe(this,'findLastIndex',e,t,void 0,arguments)},forEach(e,t){return Qe(this,'forEach',e,t,void 0,arguments)},includes(...e){return tt(this,'includes',e)},indexOf(...e){return tt(this,'indexOf',e)},join(e){return We(this).join(e)},lastIndexOf(...e){return tt(this,'lastIndexOf',e)},map(e,t){return Qe(this,'map',e,t,void 0,arguments)},pop(){return nt(this,'pop')},push(...e){return nt(this,'push',e)},reduce(e,...t){return et(this,'reduce',e,t)},reduceRight(e,...t){return et(this,'reduceRight',e,t)},shift(){return nt(this,'shift')},some(e,t){return Qe(this,'some',e,t,void 0,arguments)},splice(...e){return nt(this,'splice',e)},toReversed(){return We(this).toReversed()},toSorted(e){return We(this).toSorted(e)},toSpliced(...e){return We(this).toSpliced(...e)},unshift(...e){return nt(this,'unshift',e)},values(){return Xe(this,'values',e=>He(this,e))}};function Xe(e,t,n){const s=Ye(e),i=s[t]();return s===e||It(e)||(i._next=i.next,i.next=()=>{const e=i._next();return e.done||(e.value=n(e.value)),e}),i}const Je=Array.prototype;function Qe(e,t,n,s,i,o){const r=Ye(e),a=r!==e&&!It(e),l=r[t];if(l!==Je[t]){const t=l.apply(e,o);return a?Pt(t):t}let c=n;r!==e&&(a?c=function(t,s){return n.call(this,He(e,t),s,e)}:n.length>2&&(c=function(t,s){return n.call(this,t,s,e)}));const u=l.call(r,c,s);return a&&i?i(u):u}function et(e,t,n,s){const i=Ye(e);let o=n;return i!==e&&(It(e)?n.length>3&&(o=function(t,s,i){return n.call(this,t,s,i,e)}):o=function(t,s,i){return n.call(this,t,He(e,s),i,e)}),i[t](o,...s)}function tt(e,t,n){const s=$t(e);Ze(s,0,Ke);const i=s[t](...n);return-1!==i&&!1!==i||!Ct(n[0])?i:(n[0]=$t(n[0]),s[t](...n))}function nt(e,t,n=[]){Pe(),Ee();const s=$t(e)[t].apply(e,n);return xe(),ze(),s}const st=f('__proto__,__v_isRef,__isVue'),it=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>'arguments'!==e&&'caller'!==e).map(e=>Symbol[e]).filter(I));function ot(e){I(e)||(e=String(e));const t=$t(this);return Ze(t,0,e),t.hasOwnProperty(e)}class rt{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if('__v_skip'===t)return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if('__v_isReactive'===t)return!s;if('__v_isReadonly'===t)return s;if('__v_isShallow'===t)return i;if('__v_raw'===t)return n===(s?i?St:kt:i?wt:_t).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=E(e);if(!s){let e;if(o&&(e=Ge[t]))return e;if('hasOwnProperty'===t)return ot}const r=Reflect.get(e,t,jt(e)?e:n);if(I(t)?it.has(t):st(t))return r;if(s||Ze(e,0,t),i)return r;if(jt(r)){const e=o&&M(t)?r:r.value;return s&&C(e)?Tt(e):e}return C(r)?s?Tt(r):xt(r):r}}class at extends rt{constructor(e=!1){super(!1,e)}set(e,t,n,s){let i=e[t];const o=E(e)&&M(t);if(!this._isShallow){const e=At(i);if(It(n)||At(n)||(i=$t(i),n=$t(n)),!o&&jt(i)&&!jt(n))return e||(i.value=n),!0}const r=o?Number(t)<e.length:S(e,t),a=Reflect.set(e,t,n,jt(e)?e:s);return e===$t(s)&&(r?W(n,i)&&qe(e,'set',t,n):qe(e,'add',t,n)),a}deleteProperty(e,t){const n=S(e,t);e[t];const s=Reflect.deleteProperty(e,t);return s&&n&&qe(e,'delete',t,void 0),s}has(e,t){const n=Reflect.has(e,t);return I(t)&&it.has(t)||Ze(e,0,t),n}ownKeys(e){return Ze(e,0,E(e)?'length':Ue),Reflect.ownKeys(e)}}class lt extends rt{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const ct=new at,ut=new lt,dt=new at(!0),ft=e=>e,pt=e=>Reflect.getPrototypeOf(e);function ht(e){return function(...t){return'delete'!==e&&('clear'===e?void 0:this)}}function mt(e,t){const n={get(n){const s=this.__v_raw,i=$t(s),o=$t(n);e||(W(n,o)&&Ze(i,0,n),Ze(i,0,o));const{has:r}=pt(i),a=t?ft:e?zt:Pt;return r.call(i,n)?a(s.get(n)):r.call(i,o)?a(s.get(o)):void(s!==i&&s.get(n))},get size(){const t=this.__v_raw;return!e&&Ze($t(t),0,Ue),t.size},has(t){const n=this.__v_raw,s=$t(n),i=$t(t);return e||(W(t,i)&&Ze(s,0,t),Ze(s,0,i)),t===i?n.has(t):n.has(t)||n.has(i)},forEach(n,s){const i=this,o=i.__v_raw,r=$t(o),a=t?ft:e?zt:Pt;return!e&&Ze(r,0,Ue),o.forEach((e,t)=>n.call(s,a(e),a(t),i))}};b(n,e?{add:ht('add'),set:ht('set'),delete:ht('delete'),clear:ht('clear')}:{add(e){t||It(e)||At(e)||(e=$t(e));const n=$t(this);return pt(n).has.call(n,e)||(n.add(e),qe(n,'add',e,e)),this},set(e,n){t||It(n)||At(n)||(n=$t(n));const s=$t(this),{has:i,get:o}=pt(s);let r=i.call(s,e);r||(e=$t(e),r=i.call(s,e));const a=o.call(s,e);return s.set(e,n),r?W(n,a)&&qe(s,'set',e,n):qe(s,'add',e,n),this},delete(e){const t=$t(this),{has:n,get:s}=pt(t);let i=n.call(t,e);i||(e=$t(e),i=n.call(t,e)),s&&s.call(t,e);const o=t.delete(e);return i&&qe(t,'delete',e,void 0),o},clear(){const e=$t(this),t=0!==e.size,n=e.clear();return t&&qe(e,'clear',void 0,void 0),n}});return['keys','values','entries',Symbol.iterator].forEach(s=>{n[s]=function(e,t,n){return function(...s){const i=this.__v_raw,o=$t(i),r=x(o),a='entries'===e||e===Symbol.iterator&&r,l='keys'===e&&r,c=i[e](...s),u=n?ft:t?zt:Pt;return!t&&Ze(o,0,l?Ve:Ue),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:a?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}(s,e,t)}),n}function gt(e,t){const n=mt(e,t);return(t,s,i)=>'__v_isReactive'===s?!e:'__v_isReadonly'===s?e:'__v_raw'===s?t:Reflect.get(S(n,s)&&s in t?n:t,s,i)}const vt={get:gt(!1,!1)},yt={get:gt(!1,!0)},bt={get:gt(!0,!1)},_t=new WeakMap,wt=new WeakMap,kt=new WeakMap,St=new WeakMap;function Et(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case'Object':case'Array':return 1;case'Map':case'Set':case'WeakMap':case'WeakSet':return 2;default:return 0}}((e=>j(e).slice(8,-1))(e))}function xt(e){return At(e)?e:Nt(e,!1,ct,vt,_t)}function Tt(e){return Nt(e,!0,ut,bt,kt)}function Nt(e,t,n,s,i){if(!C(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const o=Et(e);if(0===o)return e;const r=i.get(e);if(r)return r;const a=new Proxy(e,2===o?s:n);return i.set(e,a),a}function Ot(e){return At(e)?Ot(e.__v_raw):!(!e||!e.__v_isReactive)}function At(e){return!(!e||!e.__v_isReadonly)}function It(e){return!(!e||!e.__v_isShallow)}function Ct(e){return!!e&&!!e.__v_raw}function $t(e){const t=e&&e.__v_raw;return t?$t(t):e}function Dt(e){return!S(e,'__v_skip')&&Object.isExtensible(e)&&H(e,'__v_skip',!0),e}const Pt=e=>C(e)?xt(e):e,zt=e=>C(e)?Tt(e):e;function jt(e){return!!e&&!0===e.__v_isRef}function Lt(e){return function(e,t){if(jt(e))return e;return new Mt(e,t)}(e,!1)}class Mt{constructor(e,t){this.dep=new Fe,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:$t(e),this._value=t?e:Pt(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,n=this.__v_isShallow||It(e)||At(e);e=n?e:$t(e),W(e,t)&&(this._rawValue=e,this._value=n?e:Pt(e),this.dep.trigger())}}function Ft(e){return jt(e)?e.value:e}const Rt={get:(e,t,n)=>'__v_raw'===t?e:Ft(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const i=e[t];return jt(i)&&!jt(n)?(i.value=n,!0):Reflect.set(e,t,n,s)}};function Bt(e){return Ot(e)?e:new Proxy(e,Rt)}class Ut{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0,this._raw=$t(e);let s=!0,i=e;if(!E(e)||!M(String(t)))do{s=!Ct(i)||It(i)}while(s&&(i=i.__v_raw));this._shallow=s}get value(){let e=this._object[this._key];return this._shallow&&(e=Ft(e)),this._value=void 0===e?this._defaultValue:e}set value(e){if(this._shallow&&jt(this._raw[this._key])){const t=this._object[this._key];if(jt(t))return void(t.value=e)}this._object[this._key]=e}get dep(){return function(e,t){const n=Be.get(e);return n&&n.get(t)}(this._raw,this._key)}}class Vt{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Kt(e,t,n){return jt(e)?e:O(e)?new Vt(e):C(e)&&arguments.length>1?Zt(e,t,n):Lt(e)}function Zt(e,t,n){return new Ut(e,t,n)}class qt{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Fe(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Le-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(8&this.flags)&&he!==this)return Se(this,!0),!0}get value(){const e=this.dep.track();return Ae(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}const Wt={},Yt=new WeakMap;let Ht;function Gt(e,t,n=p){const{immediate:s,deep:i,once:o,scheduler:r,augmentJob:a,call:l}=n,c=e=>i?e:It(e)||!1===i||0===i?Xt(e,1):Xt(e);let u,d,f,h,g=!1,v=!1;if(jt(e)?(d=()=>e.value,g=It(e)):Ot(e)?(d=()=>c(e),g=!0):E(e)?(v=!0,g=e.some(e=>Ot(e)||It(e)),d=()=>e.map(e=>jt(e)?e.value:Ot(e)?c(e):O(e)?l?l(e,2):e():void 0)):d=O(e)?t?l?()=>l(e,2):e:()=>{if(f){Pe();try{f()}finally{ze()}}const t=Ht;Ht=u;try{return l?l(e,3,[h]):e(h)}finally{Ht=t}}:m,t&&i){const e=d,t=!0===i?1/0:i;d=()=>Xt(e(),t)}const y=ve(),b=()=>{u.stop(),y&&y.active&&w(y.effects,u)};if(o&&t){const e=t;t=(...t)=>{e(...t),b()}}let k=v?new Array(e.length).fill(Wt):Wt;const S=e=>{if(1&u.flags&&(u.dirty||e))if(t){const e=u.run();if(i||g||(v?e.some((e,t)=>W(e,k[t])):W(e,k))){f&&f();const n=Ht;Ht=u;try{const n=[e,k===Wt?void 0:v&&k[0]===Wt?[]:k,h];k=e,l?l(t,3,n):t(...n)}finally{Ht=n}}}else u.run()};return a&&a(S),u=new be(d),u.scheduler=r?()=>r(S,!1):S,h=e=>function(e,t=!1,n=Ht){if(n){let t=Yt.get(n);t||Yt.set(n,t=[]),t.push(e)}}(e,!1,u),f=u.onStop=()=>{const e=Yt.get(u);if(e){if(l)l(e,4);else for(const t of e)t();Yt.delete(u)}},t?s?S(!0):k=u.run():r?r(S.bind(null,!0),!0):u.run(),b.pause=u.pause.bind(u),b.resume=u.resume.bind(u),b.stop=b,b}function Xt(e,t=1/0,n){if(t<=0||!C(e)||e.__v_skip)return e;if(((n=n||new Map).get(e)||0)>=t)return e;if(n.set(e,t),t--,jt(e))Xt(e.value,t,n);else if(E(e))for(let s=0;s<e.length;s++)Xt(e[s],t,n);else if(T(e)||x(e))e.forEach(e=>{Xt(e,t,n)});else if(L(e)){for(const s in e)Xt(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Xt(e[s],t,n)}return e}
/**
* @vue/runtime-core v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Jt(e,t,n,s){try{return s?e(...s):e()}catch(i){en(i,t,n)}}function Qt(e,t,n,s){if(O(e)){const i=Jt(e,t,n,s);return i&&D(i)&&i.catch(e=>{en(e,t,n)}),i}if(E(e)){const i=[];for(let o=0;o<e.length;o++)i.push(Qt(e[o],t,n,s));return i}}function en(e,t,n,s=!0){t&&t.vnode;const{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||p;if(t){let s=t.parent;const o=t.proxy,r=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const t=s.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,o,r))return;s=s.parent}if(i)return Pe(),Jt(i,null,10,[e,o,r]),void ze()}!function(e,t,n,s=!0,i=!1){if(i)throw e;console.error(e)}(e,0,0,s,o)}const tn=[];let nn=-1;const sn=[];let on=null,rn=0;const an=Promise.resolve();let ln=null;function cn(e){const t=ln||an;return e?t.then(this?e.bind(this):e):t}function un(e){if(!(1&e.flags)){const t=hn(e),n=tn[tn.length-1];!n||!(2&e.flags)&&t>=hn(n)?tn.push(e):tn.splice(function(e){let t=nn+1,n=tn.length;for(;t<n;){const s=t+n>>>1,i=tn[s],o=hn(i);o<e||o===e&&2&i.flags?t=s+1:n=s}return t}(t),0,e),e.flags|=1,dn()}}function dn(){ln||(ln=an.then(mn))}function fn(e,t,n=nn+1){for(;n<tn.length;n++){const t=tn[n];if(t&&2&t.flags){if(e&&t.id!==e.uid)continue;tn.splice(n,1),n--,4&t.flags&&(t.flags&=-2),t(),4&t.flags||(t.flags&=-2)}}}function pn(e){if(sn.length){const e=[...new Set(sn)].sort((e,t)=>hn(e)-hn(t));if(sn.length=0,on)return void on.push(...e);for(on=e,rn=0;rn<on.length;rn++){const e=on[rn];4&e.flags&&(e.flags&=-2),8&e.flags||e(),e.flags&=-2}on=null,rn=0}}const hn=e=>null==e.id?2&e.flags?-1:1/0:e.id;function mn(e){try{for(nn=0;nn<tn.length;nn++){const e=tn[nn];!e||8&e.flags||(4&e.flags&&(e.flags&=-2),Jt(e,e.i,e.i?15:14),4&e.flags||(e.flags&=-2))}}finally{for(;nn<tn.length;nn++){const e=tn[nn];e&&(e.flags&=-2)}nn=-1,tn.length=0,pn(),ln=null,(tn.length||sn.length)&&mn()}}let gn=null,vn=null;function yn(e){const t=gn;return gn=e,vn=e&&e.type.__scopeId||null,t}function bn(e,t){if(null===gn)return e;const n=ii(gn),s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[e,o,r,a=p]=t[i];e&&(O(e)&&(e={mounted:e,updated:e}),e.deep&&Xt(o),s.push({dir:e,instance:n,value:o,oldValue:void 0,arg:r,modifiers:a}))}return e}function _n(e,t,n,s){const i=e.dirs,o=t&&t.dirs;for(let r=0;r<i.length;r++){const a=i[r];o&&(a.oldValue=o[r].value);let l=a.dir[s];l&&(Pe(),Qt(l,n,8,[e.el,a,e,t]),ze())}}const wn=Symbol('_vte'),kn=Symbol('_leaveCb');function Sn(e,t){6&e.shapeFlag&&e.component?(e.transition=t,Sn(e.component.subTree,t)):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function En(e,t){return O(e)?(()=>b({name:e.name},t,{setup:e}))():e}const xn=new WeakMap;function Tn(e,t,n,s,i=!1){if(E(e))return void e.forEach((e,o)=>Tn(e,t&&(E(t)?t[o]:t),n,s,i));if(On(s)&&!i)return void(512&s.shapeFlag&&s.type.__asyncResolved&&s.component.subTree.component&&Tn(e,t,n,s.component.subTree));const o=4&s.shapeFlag?ii(s.component):s.el,r=i?null:o,{i:a,r:l}=e,c=t&&t.r,u=a.refs===p?a.refs={}:a.refs,d=a.setupState,f=$t(d),h=d===p?g:e=>S(f,e);if(null!=c&&c!==l)if(Nn(t),A(c))u[c]=null,h(c)&&(d[c]=null);else if(jt(c)){c.value=null;const e=t;e.k&&(u[e.k]=null)}if(O(l))Jt(l,a,12,[r,u]);else{const t=A(l),s=jt(l);if(t||s){const a=()=>{if(e.f){const n=t?h(l)?d[l]:u[l]:l.value;if(i)E(n)&&w(n,o);else if(E(n))n.includes(o)||n.push(o);else if(t)u[l]=[o],h(l)&&(d[l]=u[l]);else{const t=[o];l.value=t,e.k&&(u[e.k]=t)}}else t?(u[l]=r,h(l)&&(d[l]=r)):s&&(l.value=r,e.k&&(u[e.k]=r))};if(r){const t=()=>{a(),xn.delete(e)};t.id=-1,xn.set(e,t),ds(t,n)}else Nn(e),a()}}}function Nn(e){const t=xn.get(e);t&&(t.flags|=8,xn.delete(e))}J().requestIdleCallback,J().cancelIdleCallback;const On=e=>!!e.type.__asyncLoader;const An=(In='m',(e,t=Ws)=>{ei&&'sp'!==In||function(e,t,n=Ws,s=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...s)=>{Pe();const i=Xs(n),o=Qt(t,n,e,s);return i(),ze(),o});s?i.unshift(o):i.push(o)}}(In,(...t)=>e(...t),t)});var In;const Cn=Symbol.for('v-ndc');function $n(e,t,n,s){let i;const o=n,r=E(e);if(r||A(e)){let n=!1,s=!1;r&&Ot(e)&&(n=!It(e),s=At(e),e=Ye(e)),i=new Array(e.length);for(let r=0,a=e.length;r<a;r++)i[r]=t(n?s?zt(Pt(e[r])):Pt(e[r]):e[r],r,void 0,o)}else if('number'==typeof e){i=new Array(e);for(let n=0;n<e;n++)i[n]=t(n+1,n,void 0,o)}else if(C(e))if(e[Symbol.iterator])i=Array.from(e,(e,n)=>t(e,n,void 0,o));else{const n=Object.keys(e);i=new Array(n.length);for(let s=0,r=n.length;s<r;s++){const r=n[s];i[s]=t(e[r],r,s,o)}}else i=[];return i}const Dn=e=>e?Qs(e)?ii(e):Dn(e.parent):null,Pn=b(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Dn(e.parent),$root:e=>Dn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>e.type,$forceUpdate:e=>e.f||(e.f=()=>{un(e.update)}),$nextTick:e=>e.n||(e.n=cn.bind(e.proxy)),$watch:e=>m}),zn=(e,t)=>e!==p&&!e.__isScriptSetup&&S(e,t),jn={get({_:e},t){if('__v_skip'===t)return!0;const{ctx:n,setupState:s,data:i,props:o,accessCache:r,type:a,appContext:l}=e;if('$'!==t[0]){const e=r[t];if(void 0!==e)switch(e){case 1:return s[t];case 2:return i[t];case 4:return n[t];case 3:return o[t]}else{if(zn(s,t))return r[t]=1,s[t];if(S(o,t))return r[t]=3,o[t];if(n!==p&&S(n,t))return r[t]=4,n[t];r[t]=0}}const c=Pn[t];let u,d;return c?('$attrs'===t&&Ze(e.attrs,0,''),c(e)):(u=a.__cssModules)&&(u=u[t])?u:n!==p&&S(n,t)?(r[t]=4,n[t]):(d=l.config.globalProperties,S(d,t)?d[t]:void 0)},set({_:e},t,n){const{data:s,setupState:i,ctx:o}=e;return zn(i,t)?(i[t]=n,!0):!S(e.props,t)&&(('$'!==t[0]||!(t.slice(1)in e))&&(o[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:i,props:o,type:r}},a){let l;return!!(n[a]||zn(t,a)||S(o,a)||S(s,a)||S(Pn,a)||S(i.config.globalProperties,a)||(l=r.__cssModules)&&l[a])},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:S(n,'value')&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Ln(){return{app:null,config:{isNativeTag:g,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Mn=0;function Fn(e,t){return function(t,n=null){O(t)||(t=b({},t)),null==n||C(n)||(n=null);const s=Ln(),i=new WeakSet,o=[];let r=!1;const a=s.app={_uid:Mn++,_component:t,_props:n,_container:null,_context:s,_instance:null,version:ai,get config(){return s.config},set config(e){},use:(e,...t)=>(i.has(e)||(e&&O(e.install)?(i.add(e),e.install(a,...t)):O(e)&&(i.add(e),e(a,...t))),a),mixin:e=>a,component:(e,t)=>t?(s.components[e]=t,a):s.components[e],directive:(e,t)=>t?(s.directives[e]=t,a):s.directives[e],mount(i,o,l){if(!r){const o=a._ceVNode||js(t,n);return o.appContext=s,!0===l?l='svg':!1===l&&(l=void 0),e(o,i,l),r=!0,a._container=i,i.__vue_app__=a,ii(o.component)}},onUnmount(e){o.push(e)},unmount(){r&&(Qt(o,a._instance,16),e(null,a._container),delete a._container.__vue_app__)},provide:(e,t)=>(s.provides[e]=t,a),runWithContext(e){const t=Rn;Rn=a;try{return e()}finally{Rn=t}}};return a}}let Rn=null;function Bn(e,t,n=!1){const s=Ys();if(s||Rn){let i=Rn?Rn._context.provides:s?null==s.parent||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&O(t)?t.call(s&&s.proxy):t}}const Un=Symbol.for('v-scx');function Vn(e,t,n){return function(e,t,n=p){const{immediate:s,deep:i,flush:o,once:r}=n,a=b({},n),l=t&&s||!t&&'post'!==o;let c;if(ei)if('sync'===o){const e=Bn(Un);c=e.__watcherHandles||(e.__watcherHandles=[])}else if(!l){const e=()=>{};return e.stop=m,e.resume=m,e.pause=m,e}const u=Ws;a.call=(e,t,n)=>Qt(e,u,t,n);let d=!1;'post'===o?a.scheduler=e=>{ds(e,u&&u.suspense)}:'sync'!==o&&(d=!0,a.scheduler=(e,t)=>{t?e():un(e)});a.augmentJob=e=>{t&&(e.flags|=4),d&&(e.flags|=2,u&&(e.id=u.uid,e.i=u))};const f=Gt(e,t,a);ei&&(c?c.push(f):l&&f());return f}(e,t,n)}function Kn(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||p;let i=n;const o=t.startsWith('update:'),r=o&&((e,t)=>'modelValue'===t||'model-value'===t?e.modelModifiers:e[`${t}Modifiers`]||e[`${U(t)}Modifiers`]||e[`${K(t)}Modifiers`])(s,t.slice(7));let a;r&&(r.trim&&(i=n.map(e=>A(e)?e.trim():e)),r.number&&(i=n.map(G)));let l=s[a=q(t)]||s[a=q(U(t))];!l&&o&&(l=s[a=q(K(t))]),l&&Qt(l,e,6,i);const c=s[a+'Once'];if(c){if(e.emitted){if(e.emitted[a])return}else e.emitted={};e.emitted[a]=!0,Qt(c,e,6,i)}}function Zn(e,t,n=!1){const s=t.emitsCache,i=s.get(e);if(void 0!==i)return i;const o=e.emits;let r={};return o?(E(o)?o.forEach(e=>r[e]=null):b(r,o),C(e)&&s.set(e,r),r):(C(e)&&s.set(e,null),null)}function qn(e,t){return!(!e||!v(t))&&(t=t.slice(2).replace(/Once$/,''),S(e,t[0].toLowerCase()+t.slice(1))||S(e,K(t))||S(e,t))}function Wn(e){const{type:t,vnode:n,proxy:s,withProxy:i,propsOptions:[o],slots:r,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:p,ctx:h,inheritAttrs:m}=e,g=yn(e);let v,b;try{if(4&n.shapeFlag){const e=i||s,t=e;v=Bs(c.call(t,e,u,d,p,f,h)),b=a}else{const e=t;0,v=Bs(e.length>1?e(d,{attrs:a,slots:r,emit:l}):e(d,null)),b=t.props?a:Yn(a)}}catch(k){Ss.length=0,en(k,e,1),v=js(ws)}let w=v;if(b&&!1!==m){const e=Object.keys(b),{shapeFlag:t}=w;e.length&&7&t&&(o&&e.some(y)&&(b=Hn(b,o)),w=Ls(w,b,!1,!0))}return n.dirs&&(w=Ls(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&Sn(w,n.transition),v=w,yn(g),v}const Yn=e=>{let t;for(const n in e)('class'===n||'style'===n||v(n))&&((t||(t={}))[n]=e[n]);return t},Hn=(e,t)=>{const n={};for(const s in e)y(s)&&s.slice(9)in t||(n[s]=e[s]);return n};function Gn(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let i=0;i<s.length;i++){const o=s[i];if(t[o]!==e[o]&&!qn(n,o))return!0}return!1}const Xn={},Jn=()=>Object.create(Xn),Qn=e=>Object.getPrototypeOf(e)===Xn;function es(e,t,n,s=!1){const i={},o=Jn();e.propsDefaults=Object.create(null),ts(e,t,i,o);for(const r in e.propsOptions[0])r in i||(i[r]=void 0);n?e.props=s?i:Nt(i,!1,dt,yt,wt):e.type.props?e.props=i:e.props=o,e.attrs=o}function ts(e,t,n,s){const[i,o]=e.propsOptions;let r,a=!1;if(t)for(let l in t){if(F(l))continue;const c=t[l];let u;i&&S(i,u=U(l))?o&&o.includes(u)?(r||(r={}))[u]=c:n[u]=c:qn(e.emitsOptions,l)||l in s&&c===s[l]||(s[l]=c,a=!0)}if(o){const t=$t(n),s=r||p;for(let r=0;r<o.length;r++){const a=o[r];n[a]=ns(i,t,a,s[a],e,!S(s,a))}}return a}function ns(e,t,n,s,i,o){const r=e[n];if(null!=r){const e=S(r,'default');if(e&&void 0===s){const e=r.default;if(r.type!==Function&&!r.skipFactory&&O(e)){const{propsDefaults:o}=i;if(n in o)s=o[n];else{const r=Xs(i);s=o[n]=e.call(null,t),r()}}else s=e;i.ce&&i.ce._setProp(n,s)}r[0]&&(o&&!e?s=!1:!r[1]||''!==s&&s!==K(n)||(s=!0))}return s}function ss(e,t,n=!1){const s=t.propsCache,i=s.get(e);if(i)return i;const o=e.props,r={},a=[];if(!o)return C(e)&&s.set(e,h),h;if(E(o))for(let c=0;c<o.length;c++){const e=U(o[c]);is(e)&&(r[e]=p)}else if(o)for(const c in o){const e=U(c);if(is(e)){const t=o[c],n=r[e]=E(t)||O(t)?{type:t}:b({},t),s=n.type;let i=!1,l=!0;if(E(s))for(let e=0;e<s.length;++e){const t=s[e],n=O(t)&&t.name;if('Boolean'===n){i=!0;break}'String'===n&&(l=!1)}else i=O(s)&&'Boolean'===s.name;n[0]=i,n[1]=l,(i||S(n,'default'))&&a.push(e)}}const l=[r,a];return C(e)&&s.set(e,l),l}function is(e){return'$'!==e[0]&&!F(e)}const os=e=>'_'===e||'_ctx'===e||'$stable'===e,rs=e=>E(e)?e.map(Bs):[Bs(e)],as=(e,t,n)=>{if(t._n)return t;const s=function(e,t=gn){if(!t)return e;if(e._n)return e;const n=(...s)=>{n._d&&Ns(-1);const i=yn(t);let o;try{o=e(...s)}finally{yn(i),n._d&&Ns(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}((...e)=>rs(t(...e)),n);return s._c=!1,s},ls=(e,t,n)=>{const s=e._ctx;for(const i in e){if(os(i))continue;const n=e[i];if(O(n))t[i]=as(0,n,s);else if(null!=n){const e=rs(n);t[i]=()=>e}}},cs=(e,t)=>{const n=rs(t);e.slots.default=()=>n},us=(e,t,n)=>{for(const s in t)!n&&os(s)||(e[s]=t[s])},ds=function(e,t){t&&t.pendingBranch?E(e)?t.effects.push(...e):t.effects.push(e):(E(n=e)?sn.push(...n):on&&-1===n.id?on.splice(rn+1,0,n):1&n.flags||(sn.push(n),n.flags|=1),dn());var n};function fs(e){return function(e){J().__VUE__=!0;const{insert:t,remove:n,patchProp:s,createElement:i,createText:o,createComment:r,setText:a,setElementText:l,parentNode:c,nextSibling:u,setScopeId:d=m,insertStaticContent:f}=e,g=(e,t,n,s=null,i=null,o=null,r=void 0,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!$s(e,t)&&(s=te(e),W(e,i,o,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:d}=t;switch(c){case _s:v(e,t,n,s);break;case ws:y(e,t,n,s);break;case ks:null==e&&b(t,n,s,r);break;case bs:C(e,t,n,s,i,o,r,a,l);break;default:1&d?E(e,t,n,s,i,o,r,a,l):6&d?P(e,t,n,s,i,o,r,a,l):(64&d||128&d)&&c.process(e,t,n,s,i,o,r,a,l,ie)}null!=u&&i?Tn(u,e&&e.ref,o,t||e,!t):null==u&&e&&null!=e.ref&&Tn(e.ref,null,o,e,!0)},v=(e,n,s,i)=>{if(null==e)t(n.el=o(n.children),s,i);else{const t=n.el=e.el;n.children!==e.children&&a(t,n.children)}},y=(e,n,s,i)=>{null==e?t(n.el=r(n.children||''),s,i):n.el=e.el},b=(e,t,n,s)=>{[e.el,e.anchor]=f(e.children,t,n,s,e.el,e.anchor)},w=({el:e,anchor:n},s,i)=>{let o;for(;e&&e!==n;)o=u(e),t(e,s,i),e=o;t(n,s,i)},k=({el:e,anchor:t})=>{let s;for(;e&&e!==t;)s=u(e),n(e),e=s;n(t)},E=(e,t,n,s,i,o,r,a,l)=>{if('svg'===t.type?r='svg':'math'===t.type&&(r='mathml'),null==e)x(t,n,s,i,o,r,a,l);else{const n=e.el&&e.el._isVueCE?e.el:null;try{n&&n._beginPatch(),O(e,t,i,o,r,a,l)}finally{n&&n._endPatch()}}},x=(e,n,o,r,a,c,u,d)=>{let f,p;const{props:h,shapeFlag:m,transition:g,dirs:v}=e;if(f=e.el=i(e.type,c,h&&h.is,h),8&m?l(f,e.children):16&m&&N(e.children,f,null,r,a,ps(e,c),u,d),v&&_n(e,null,r,'created'),T(f,e,e.scopeId,u,r),h){for(const e in h)'value'===e||F(e)||s(f,e,null,h[e],c,r);'value'in h&&s(f,'value',null,h.value,c),(p=h.onVnodeBeforeMount)&&Ks(p,r,e)}v&&_n(e,null,r,'beforeMount');const y=function(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}(a,g);y&&g.beforeEnter(f),t(f,n,o),((p=h&&h.onVnodeMounted)||y||v)&&ds(()=>{p&&Ks(p,r,e),y&&g.enter(f),v&&_n(e,null,r,'mounted')},a)},T=(e,t,n,s,i)=>{if(n&&d(e,n),s)for(let o=0;o<s.length;o++)d(e,s[o]);if(i){let n=i.subTree;if(t===n||ys(n.type)&&(n.ssContent===t||n.ssFallback===t)){const t=i.vnode;T(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},N=(e,t,n,s,i,o,r,a,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=a?Us(e[c]):Bs(e[c]);g(null,l,t,n,s,i,o,r,a)}},O=(e,t,n,i,o,r,a)=>{const c=t.el=e.el;let{patchFlag:u,dynamicChildren:d,dirs:f}=t;u|=16&e.patchFlag;const h=e.props||p,m=t.props||p;let g;if(n&&hs(n,!1),(g=m.onVnodeBeforeUpdate)&&Ks(g,n,t,e),f&&_n(t,e,n,'beforeUpdate'),n&&hs(n,!0),(h.innerHTML&&null==m.innerHTML||h.textContent&&null==m.textContent)&&l(c,''),d?A(e.dynamicChildren,d,c,n,i,ps(t,o),r):a||B(e,t,c,null,n,i,ps(t,o),r,!1),u>0){if(16&u)I(c,h,m,n,o);else if(2&u&&h.class!==m.class&&s(c,'class',null,m.class,o),4&u&&s(c,'style',h.style,m.style,o),8&u){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const i=e[t],r=h[i],a=m[i];a===r&&'value'!==i||s(c,i,r,a,o,n)}}1&u&&e.children!==t.children&&l(c,t.children)}else a||null!=d||I(c,h,m,n,o);((g=m.onVnodeUpdated)||f)&&ds(()=>{g&&Ks(g,n,t,e),f&&_n(t,e,n,'updated')},i)},A=(e,t,n,s,i,o,r)=>{for(let a=0;a<t.length;a++){const l=e[a],u=t[a],d=l.el&&(l.type===bs||!$s(l,u)||198&l.shapeFlag)?c(l.el):n;g(l,u,d,null,s,i,o,r,!0)}},I=(e,t,n,i,o)=>{if(t!==n){if(t!==p)for(const r in t)F(r)||r in n||s(e,r,t[r],null,o,i);for(const r in n){if(F(r))continue;const a=n[r],l=t[r];a!==l&&'value'!==r&&s(e,r,l,a,o,i)}'value'in n&&s(e,'value',t.value,n.value,o)}},C=(e,n,s,i,r,a,l,c,u)=>{const d=n.el=e?e.el:o(''),f=n.anchor=e?e.anchor:o('');let{patchFlag:p,dynamicChildren:h,slotScopeIds:m}=n;m&&(c=c?c.concat(m):m),null==e?(t(d,s,i),t(f,s,i),N(n.children||[],s,f,r,a,l,c,u)):p>0&&64&p&&h&&e.dynamicChildren?(A(e.dynamicChildren,h,s,r,a,l,c),(null!=n.key||r&&n===r.subTree)&&ms(e,n,!0)):B(e,n,s,f,r,a,l,c,u)},P=(e,t,n,s,i,o,r,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?i.ctx.activate(t,n,s,r,l):j(t,n,s,i,o,r,l):L(e,t,l)},j=(e,t,n,s,i,o,r)=>{const a=e.component=function(e,t,n){const s=e.type,i=(t?t.appContext:e.appContext)||Zs,o={uid:qs++,vnode:e,type:s,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new me(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:['',0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ss(s,i),emitsOptions:Zn(s,i),emit:null,emitted:null,propsDefaults:p,inheritAttrs:s.inheritAttrs,ctx:p,data:p,props:p,attrs:p,slots:p,refs:p,setupState:p,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};o.ctx={_:o},o.root=t?t.root:o,o.emit=Kn.bind(null,o),e.ce&&e.ce(o);return o}(e,s,i);if(e.type.__isKeepAlive&&(a.ctx.renderer=ie),function(e,t=!1,n=!1){t&&Gs(t);const{props:s,children:i}=e.vnode,o=Qs(e);es(e,s,o,t),((e,t,n)=>{const s=e.slots=Jn();if(32&e.vnode.shapeFlag){const e=t._;e?(us(s,t,n),n&&H(s,'_',e,!0)):ls(t,s)}else t&&cs(e,t)})(e,i,n||t);const r=o?function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,jn);const{setup:s}=n;if(s){Pe();const n=e.setupContext=s.length>1?function(e){const t=t=>{e.exposed=t||{}};return{attrs:new Proxy(e.attrs,si),slots:e.slots,emit:e.emit,expose:t}}(e):null,i=Xs(e),o=Jt(s,e,0,[e.props,n]),r=D(o);if(ze(),i(),!r&&!e.sp||On(e)||function(e){e.ids=[e.ids[0]+e.ids[2]+++'-',0,0]}(e),r){if(o.then(Js,Js),t)return o.then(t=>{ti(e,t)}).catch(t=>{en(t,e,0)});e.asyncDep=o}else ti(e,o)}else ni(e)}(e,t):void 0;t&&Gs(!1)}(a,!1,r),a.asyncDep){if(i&&i.registerDep(a,M,r),!e.el){const s=a.subTree=js(ws);y(null,s,t,n),e.placeholder=s.el}}else M(a,e,t,n,i,o,r)},L=(e,t,n)=>{const s=t.component=e.component;if(function(e,t,n){const{props:s,children:i,component:o}=e,{props:r,children:a,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!i&&!a||a&&a.$stable)||s!==r&&(s?!r||Gn(s,r,c):!!r);if(1024&l)return!0;if(16&l)return s?Gn(s,r,c):!!r;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(r[n]!==s[n]&&!qn(c,n))return!0}}return!1}(e,t,n)){if(s.asyncDep&&!s.asyncResolved)return void R(s,t,n);s.next=t,s.update()}else t.el=e.el,s.vnode=t},M=(e,t,n,s,i,o,r)=>{const a=()=>{if(e.isMounted){let{next:t,bu:n,u:s,parent:l,vnode:u}=e;{const n=gs(e);if(n)return t&&(t.el=u.el,R(e,t,r)),void n.asyncDep.then(()=>{e.isUnmounted||a()})}let d,f=t;hs(e,!1),t?(t.el=u.el,R(e,t,r)):t=u,n&&Y(n),(d=t.props&&t.props.onVnodeBeforeUpdate)&&Ks(d,l,t,u),hs(e,!0);const p=Wn(e),h=e.subTree;e.subTree=p,g(h,p,c(h.el),te(h),e,i,o),t.el=p.el,null===f&&function({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s!==e)break;(e=t.vnode).el=n,t=t.parent}}(e,p.el),s&&ds(s,i),(d=t.props&&t.props.onVnodeUpdated)&&ds(()=>Ks(d,l,t,u),i)}else{let r;const{el:a,props:l}=t,{bm:c,m:u,parent:d,root:f,type:p}=e,h=On(t);hs(e,!1),c&&Y(c),!h&&(r=l&&l.onVnodeBeforeMount)&&Ks(r,d,t),hs(e,!0);{f.ce&&!1!==f.ce._def.shadowRoot&&f.ce._injectChildStyle(p);const r=e.subTree=Wn(e);g(null,r,n,s,e,i,o),t.el=r.el}if(u&&ds(u,i),!h&&(r=l&&l.onVnodeMounted)){const e=t;ds(()=>Ks(r,d,e),i)}(256&t.shapeFlag||d&&On(d.vnode)&&256&d.vnode.shapeFlag)&&e.a&&ds(e.a,i),e.isMounted=!0,t=n=s=null}};e.scope.on();const l=e.effect=new be(a);e.scope.off();const u=e.update=l.run.bind(l),d=e.job=l.runIfDirty.bind(l);d.i=e,d.id=e.uid,l.scheduler=()=>un(d),hs(e,!0),u()},R=(e,t,n)=>{t.component=e;const s=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,s){const{props:i,attrs:o,vnode:{patchFlag:r}}=e,a=$t(i),[l]=e.propsOptions;let c=!1;if(!(s||r>0)||16&r){let s;ts(e,t,i,o)&&(c=!0);for(const o in a)t&&(S(t,o)||(s=K(o))!==o&&S(t,s))||(l?!n||void 0===n[o]&&void 0===n[s]||(i[o]=ns(l,a,o,void 0,e,!0)):delete i[o]);if(o!==a)for(const e in o)t&&S(t,e)||(delete o[e],c=!0)}else if(8&r){const n=e.vnode.dynamicProps;for(let s=0;s<n.length;s++){let r=n[s];if(qn(e.emitsOptions,r))continue;const u=t[r];if(l)if(S(o,r))u!==o[r]&&(o[r]=u,c=!0);else{const t=U(r);i[t]=ns(l,a,t,u,e,!1)}else u!==o[r]&&(o[r]=u,c=!0)}}c&&qe(e.attrs,'set','')}(e,t.props,s,n),((e,t,n)=>{const{vnode:s,slots:i}=e;let o=!0,r=p;if(32&s.shapeFlag){const e=t._;e?n&&1===e?o=!1:us(i,t,n):(o=!t.$stable,ls(t,i)),r=t}else t&&(cs(e,t),r={default:1});if(o)for(const a in i)os(a)||null!=r[a]||delete i[a]})(e,t.children,n),Pe(),fn(e),ze()},B=(e,t,n,s,i,o,r,a,c=!1)=>{const u=e&&e.children,d=e?e.shapeFlag:0,f=t.children,{patchFlag:p,shapeFlag:h}=t;if(p>0){if(128&p)return void Z(u,f,n,s,i,o,r,a,c);if(256&p)return void V(u,f,n,s,i,o,r,a,c)}8&h?(16&d&&ee(u,i,o),f!==u&&l(n,f)):16&d?16&h?Z(u,f,n,s,i,o,r,a,c):ee(u,i,o,!0):(8&d&&l(n,''),16&h&&N(f,n,s,i,o,r,a,c))},V=(e,t,n,s,i,o,r,a,l)=>{t=t||h;const c=(e=e||h).length,u=t.length,d=Math.min(c,u);let f;for(f=0;f<d;f++){const s=t[f]=l?Us(t[f]):Bs(t[f]);g(e[f],s,n,null,i,o,r,a,l)}c>u?ee(e,i,o,!0,!1,d):N(t,n,s,i,o,r,a,l,d)},Z=(e,t,n,s,i,o,r,a,l)=>{let c=0;const u=t.length;let d=e.length-1,f=u-1;for(;c<=d&&c<=f;){const s=e[c],u=t[c]=l?Us(t[c]):Bs(t[c]);if(!$s(s,u))break;g(s,u,n,null,i,o,r,a,l),c++}for(;c<=d&&c<=f;){const s=e[d],c=t[f]=l?Us(t[f]):Bs(t[f]);if(!$s(s,c))break;g(s,c,n,null,i,o,r,a,l),d--,f--}if(c>d){if(c<=f){const e=f+1,d=e<u?t[e].el:s;for(;c<=f;)g(null,t[c]=l?Us(t[c]):Bs(t[c]),n,d,i,o,r,a,l),c++}}else if(c>f)for(;c<=d;)W(e[c],i,o,!0),c++;else{const p=c,m=c,v=new Map;for(c=m;c<=f;c++){const e=t[c]=l?Us(t[c]):Bs(t[c]);null!=e.key&&v.set(e.key,c)}let y,b=0;const w=f-m+1;let k=!1,S=0;const E=new Array(w);for(c=0;c<w;c++)E[c]=0;for(c=p;c<=d;c++){const s=e[c];if(b>=w){W(s,i,o,!0);continue}let u;if(null!=s.key)u=v.get(s.key);else for(y=m;y<=f;y++)if(0===E[y-m]&&$s(s,t[y])){u=y;break}void 0===u?W(s,i,o,!0):(E[u-m]=c+1,u>=S?S=u:k=!0,g(s,t[u],n,null,i,o,r,a,l),b++)}const x=k?function(e){const t=e.slice(),n=[0];let s,i,o,r,a;const l=e.length;for(s=0;s<l;s++){const l=e[s];if(0!==l){if(i=n[n.length-1],e[i]<l){t[s]=i,n.push(s);continue}for(o=0,r=n.length-1;o<r;)a=o+r>>1,e[n[a]]<l?o=a+1:r=a;l<e[n[o]]&&(o>0&&(t[s]=n[o-1]),n[o]=s)}}o=n.length,r=n[o-1];for(;o-- >0;)n[o]=r,r=t[r];return n}(E):h;for(y=x.length-1,c=w-1;c>=0;c--){const e=m+c,d=t[e],f=t[e+1],p=e+1<u?f.el||f.placeholder:s;0===E[c]?g(null,d,n,p,i,o,r,a,l):k&&(y<0||c!==x[y]?q(d,n,p,2):y--)}}},q=(e,s,i,o,r=null)=>{const{el:a,type:l,transition:c,children:u,shapeFlag:d}=e;if(6&d)return void q(e.component.subTree,s,i,o);if(128&d)return void e.suspense.move(s,i,o);if(64&d)return void l.move(e,s,i,ie);if(l===bs){t(a,s,i);for(let e=0;e<u.length;e++)q(u[e],s,i,o);return void t(e.anchor,s,i)}if(l===ks)return void w(e,s,i);if(2!==o&&1&d&&c)if(0===o)c.beforeEnter(a),t(a,s,i),ds(()=>c.enter(a),r);else{const{leave:o,delayLeave:r,afterLeave:l}=c,u=()=>{e.ctx.isUnmounted?n(a):t(a,s,i)},d=()=>{a._isLeaving&&a[kn](!0),o(a,()=>{u(),l&&l()})};r?r(a,u,d):d()}else t(a,s,i)},W=(e,t,n,s=!1,i=!1)=>{const{type:o,props:r,ref:a,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:d,dirs:f,cacheIndex:p}=e;if(-2===d&&(i=!1),null!=a&&(Pe(),Tn(a,null,n,e,!0),ze()),null!=p&&(t.renderCache[p]=void 0),256&u)return void t.ctx.deactivate(e);const h=1&u&&f,m=!On(e);let g;if(m&&(g=r&&r.onVnodeBeforeUnmount)&&Ks(g,t,e),6&u)Q(e.component,n,s);else{if(128&u)return void e.suspense.unmount(n,s);h&&_n(e,null,t,'beforeUnmount'),64&u?e.type.remove(e,t,n,ie,s):c&&!c.hasOnce&&(o!==bs||d>0&&64&d)?ee(c,t,n,!1,!0):(o===bs&&384&d||!i&&16&u)&&ee(l,t,n),s&&G(e)}(m&&(g=r&&r.onVnodeUnmounted)||h)&&ds(()=>{g&&Ks(g,t,e),h&&_n(e,null,t,'unmounted')},n)},G=e=>{const{type:t,el:s,anchor:i,transition:o}=e;if(t===bs)return void X(s,i);if(t===ks)return void k(e);const r=()=>{n(s),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&e.shapeFlag&&o&&!o.persisted){const{leave:t,delayLeave:n}=o,i=()=>t(s,r);n?n(e.el,r,i):i()}else r()},X=(e,t)=>{let s;for(;e!==t;)s=u(e),n(e),e=s;n(t)},Q=(e,t,n)=>{const{bum:s,scope:i,job:o,subTree:r,um:a,m:l,a:c}=e;vs(l),vs(c),s&&Y(s),i.stop(),o&&(o.flags|=8,W(r,e,t,n)),a&&ds(a,t),ds(()=>{e.isUnmounted=!0},t)},ee=(e,t,n,s=!1,i=!1,o=0)=>{for(let r=o;r<e.length;r++)W(e[r],t,n,s,i)},te=e=>{if(6&e.shapeFlag)return te(e.component.subTree);if(128&e.shapeFlag)return e.suspense.next();const t=u(e.anchor||e.el),n=t&&t[wn];return n?u(n):t};let ne=!1;const se=(e,t,n)=>{null==e?t._vnode&&W(t._vnode,null,null,!0):g(t._vnode||null,e,t,null,null,null,n),t._vnode=e,ne||(ne=!0,fn(),pn(),ne=!1)},ie={p:g,um:W,m:q,r:G,mt:j,mc:N,pc:B,pbc:A,n:te,o:e};let oe;return{render:se,hydrate:oe,createApp:Fn(se)}}(e)}function ps({type:e,props:t},n){return'svg'===n&&'foreignObject'===e||'mathml'===n&&'annotation-xml'===e&&t&&t.encoding&&t.encoding.includes('html')?void 0:n}function hs({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function ms(e,t,n=!1){const s=e.children,i=t.children;if(E(s)&&E(i))for(let o=0;o<s.length;o++){const e=s[o];let t=i[o];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=i[o]=Us(i[o]),t.el=e.el),n||-2===t.patchFlag||ms(e,t)),t.type===_s&&-1!==t.patchFlag&&(t.el=e.el),t.type!==ws||t.el||(t.el=e.el)}}function gs(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:gs(t)}function vs(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const ys=e=>e.__isSuspense;const bs=Symbol.for('v-fgt'),_s=Symbol.for('v-txt'),ws=Symbol.for('v-cmt'),ks=Symbol.for('v-stc'),Ss=[];let Es=null;function xs(e=!1){Ss.push(Es=e?null:[])}let Ts=1;function Ns(e,t=!1){Ts+=e,e<0&&Es&&t&&(Es.hasOnce=!0)}function Os(e){return e.dynamicChildren=Ts>0?Es||h:null,Ss.pop(),Es=Ss[Ss.length-1]||null,Ts>0&&Es&&Es.push(e),e}function As(e,t,n,s,i,o){return Os(zs(e,t,n,s,i,o,!0))}function Is(e,t,n,s,i){return Os(js(e,t,n,s,i,!0))}function Cs(e){return!!e&&!0===e.__v_isVNode}function $s(e,t){return e.type===t.type&&e.key===t.key}const Ds=({key:e})=>null!=e?e:null,Ps=({ref:e,ref_key:t,ref_for:n})=>('number'==typeof e&&(e=''+e),null!=e?A(e)||jt(e)||O(e)?{i:gn,r:e,k:t,f:!!n}:e:null);function zs(e,t=null,n=null,s=0,i=null,o=(e===bs?0:1),r=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ds(t),ref:t&&Ps(t),scopeId:vn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:gn};return a?(Vs(l,n),128&o&&e.normalize(l)):n&&(l.shapeFlag|=A(n)?8:16),Ts>0&&!r&&Es&&(l.patchFlag>0||6&o)&&32!==l.patchFlag&&Es.push(l),l}const js=function(e,t=null,n=null,s=0,i=null,o=!1){e&&e!==Cn||(e=ws);if(Cs(e)){const s=Ls(e,t,!0);return n&&Vs(s,n),Ts>0&&!o&&Es&&(6&s.shapeFlag?Es[Es.indexOf(e)]=s:Es.push(s)),s.patchFlag=-2,s}r=e,O(r)&&'__vccOpts'in r&&(e=e.__vccOpts);var r;if(t){t=function(e){return e?Ct(e)||Qn(e)?b({},e):e:null}(t);let{class:e,style:n}=t;e&&!A(e)&&(t.class=ie(e)),C(n)&&(Ct(n)&&!E(n)&&(n=b({},n)),t.style=Q(n))}const a=A(e)?1:ys(e)?128:(e=>e.__isTeleport)(e)?64:C(e)?4:O(e)?2:0;return zs(e,t,n,s,i,a,o,!0)};function Ls(e,t,n=!1,s=!1){const{props:i,ref:o,patchFlag:r,children:a,transition:l}=e,c=t?function(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const e in s)if('class'===e)t.class!==s.class&&(t.class=ie([t.class,s.class]));else if('style'===e)t.style=Q([t.style,s.style]);else if(v(e)){const n=t[e],i=s[e];!i||n===i||E(n)&&n.includes(i)||(t[e]=n?[].concat(n,i):i)}else''!==e&&(t[e]=s[e])}return t}(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Ds(c),ref:t&&t.ref?n&&o?E(o)?o.concat(Ps(t)):[o,Ps(t)]:Ps(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==bs?-1===r?16:16|r:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ls(e.ssContent),ssFallback:e.ssFallback&&Ls(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&s&&Sn(u,l.clone(u)),u}function Ms(e=' ',t=0){return js(_s,null,e,t)}function Fs(e,t){const n=js(ks,null,e);return n.staticCount=t,n}function Rs(e='',t=!1){return t?(xs(),Is(ws,null,e)):js(ws,null,e)}function Bs(e){return null==e||'boolean'==typeof e?js(ws):E(e)?js(bs,null,e.slice()):Cs(e)?Us(e):js(_s,null,String(e))}function Us(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Ls(e)}function Vs(e,t){let n=0;const{shapeFlag:s}=e;if(null==t)t=null;else if(E(t))n=16;else if('object'==typeof t){if(65&s){const n=t.default;return void(n&&(n._c&&(n._d=!1),Vs(e,n()),n._c&&(n._d=!0)))}{n=32;const s=t._;s||Qn(t)?3===s&&gn&&(1===gn.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=gn}}else O(t)?(t={default:t,_ctx:gn},n=32):(t=String(t),64&s?(n=16,t=[Ms(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ks(e,t,n,s=null){Qt(e,t,7,[n,s])}const Zs=Ln();let qs=0;let Ws=null;const Ys=()=>Ws||gn;let Hs,Gs;{const e=J(),t=(t,n)=>{let s;return(s=e[t])||(s=e[t]=[]),s.push(n),e=>{s.length>1?s.forEach(t=>t(e)):s[0](e)}};Hs=t('__VUE_INSTANCE_SETTERS__',e=>Ws=e),Gs=t('__VUE_SSR_SETTERS__',e=>ei=e)}const Xs=e=>{const t=Ws;return Hs(e),e.scope.on(),()=>{e.scope.off(),Hs(t)}},Js=()=>{Ws&&Ws.scope.off(),Hs(null)};function Qs(e){return 4&e.vnode.shapeFlag}let ei=!1;function ti(e,t,n){O(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:C(t)&&(e.setupState=Bt(t)),ni(e)}function ni(e,t,n){const s=e.type;e.render||(e.render=s.render||m)}const si={get:(e,t)=>(Ze(e,0,''),e[t])};function ii(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Bt(Dt(e.exposed)),{get:(t,n)=>n in t?t[n]:n in Pn?Pn[n](e):void 0,has:(e,t)=>t in e||t in Pn})):e.proxy}const oi=(e,t)=>{const n=function(e,t,n=!1){let s,i;return O(e)?s=e:(s=e.get,i=e.set),new qt(s,i,n)}(e,0,ei);return n};function ri(e,t,n){try{Ns(-1);const s=arguments.length;return 2===s?C(t)&&!E(t)?Cs(t)?js(e,null,[t]):js(e,t):js(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):3===s&&Cs(n)&&(n=[n]),js(e,t,n))}finally{Ns(1)}}const ai='3.5.25';
/**
* @vue/runtime-dom v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let li;const ci='undefined'!=typeof window&&window.trustedTypes;if(ci)try{li=ci.createPolicy('vue',{createHTML:e=>e})}catch(Av){}const ui=li?e=>li.createHTML(e):e=>e,di='undefined'!=typeof document?document:null,fi=di&&di.createElement('template'),pi={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const i='svg'===t?di.createElementNS('http://www.w3.org/2000/svg',e):'mathml'===t?di.createElementNS('http://www.w3.org/1998/Math/MathML',e):n?di.createElement(e,{is:n}):di.createElement(e);return'select'===e&&s&&null!=s.multiple&&i.setAttribute('multiple',s.multiple),i},createText:e=>di.createTextNode(e),createComment:e=>di.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>di.querySelector(e),setScopeId(e,t){e.setAttribute(t,'')},insertStaticContent(e,t,n,s,i,o){const r=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),i!==o&&(i=i.nextSibling););else{fi.innerHTML=ui('svg'===s?`<svg>${e}</svg>`:'mathml'===s?`<math>${e}</math>`:e);const i=fi.content;if('svg'===s||'mathml'===s){const e=i.firstChild;for(;e.firstChild;)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,n)}return[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},hi=Symbol('_vtc');const mi=Symbol('_vod'),gi=Symbol('_vsh'),vi={name:'show',beforeMount(e,{value:t},{transition:n}){e[mi]='none'===e.style.display?'':e.style.display,n&&t?n.beforeEnter(e):yi(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),yi(e,!0),s.enter(e)):s.leave(e,()=>{yi(e,!1)}):yi(e,t))},beforeUnmount(e,{value:t}){yi(e,t)}};function yi(e,t){e.style.display=t?e[mi]:'none',e[gi]=!t}const bi=Symbol(''),_i=/(?:^|;)\s*display\s*:/;const wi=/\s*!important$/;function ki(e,t,n){if(E(n))n.forEach(n=>ki(e,t,n));else if(null==n&&(n=''),t.startsWith('--'))e.setProperty(t,n);else{const s=function(e,t){const n=Ei[t];if(n)return n;let s=U(t);if('filter'!==s&&s in e)return Ei[t]=s;s=Z(s);for(let i=0;i<Si.length;i++){const n=Si[i]+s;if(n in e)return Ei[t]=n}return t}(e,t);wi.test(n)?e.setProperty(K(s),n.replace(wi,''),'important'):e[s]=n}}const Si=['Webkit','Moz','ms'],Ei={};const xi='http://www.w3.org/1999/xlink';function Ti(e,t,n,s,i,o=oe(t)){s&&t.startsWith('xlink:')?null==n?e.removeAttributeNS(xi,t.slice(6,t.length)):e.setAttributeNS(xi,t,n):null==n||o&&!re(n)?e.removeAttribute(t):e.setAttribute(t,o?'':I(n)?String(n):n)}function Ni(e,t,n,s,i){if('innerHTML'===t||'textContent'===t)return void(null!=n&&(e[t]='innerHTML'===t?ui(n):n));const o=e.tagName;if('value'===t&&'PROGRESS'!==o&&!o.includes('-')){const s='OPTION'===o?e.getAttribute('value')||'':e.value,i=null==n?'checkbox'===e.type?'on':'':String(n);return s===i&&'_value'in e||(e.value=i),null==n&&e.removeAttribute(t),void(e._value=n)}let r=!1;if(''===n||null==n){const s=typeof e[t];'boolean'===s?n=re(n):null==n&&'string'===s?(n='',r=!0):'number'===s&&(n=0,r=!0)}try{e[t]=n}catch(Av){}r&&e.removeAttribute(i||t)}function Oi(e,t,n,s){e.addEventListener(t,n,s)}const Ai=Symbol('_vei');function Ii(e,t,n,s,i=null){const o=e[Ai]||(e[Ai]={}),r=o[t];if(s&&r)r.value=s;else{const[n,a]=function(e){let t;if(Ci.test(e)){let n;for(t={};n=e.match(Ci);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=':'===e[2]?e.slice(3):K(e.slice(2));return[n,t]}(t);if(s){const r=o[t]=function(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();Qt(function(e,t){if(E(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e&&e(t))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=Pi(),n}(s,i);Oi(e,n,r,a)}else r&&(!function(e,t,n,s){e.removeEventListener(t,n,s)}(e,n,r,a),o[t]=void 0)}}const Ci=/(?:Once|Passive|Capture)$/;let $i=0;const Di=Promise.resolve(),Pi=()=>$i||(Di.then(()=>$i=0),$i=Date.now());const zi=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123;const ji=e=>{const t=e.props['onUpdate:modelValue']||!1;return E(t)?e=>Y(t,e):t};function Li(e){e.target.composing=!0}function Mi(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event('input')))}const Fi=Symbol('_assign');function Ri(e,t,n){return t&&(e=e.trim()),n&&(e=G(e)),e}const Bi={created(e,{modifiers:{lazy:t,trim:n,number:s}},i){e[Fi]=ji(i);const o=s||i.props&&'number'===i.props.type;Oi(e,t?'change':'input',t=>{t.target.composing||e[Fi](Ri(e.value,n,o))}),(n||o)&&Oi(e,'change',()=>{e.value=Ri(e.value,n,o)}),t||(Oi(e,'compositionstart',Li),Oi(e,'compositionend',Mi),Oi(e,'change',Mi))},mounted(e,{value:t}){e.value=null==t?'':t},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:i,number:o}},r){if(e[Fi]=ji(r),e.composing)return;const a=null==t?'':t;if((!o&&'number'!==e.type||/^0\d/.test(e.value)?e.value:G(e.value))!==a){if(document.activeElement===e&&'range'!==e.type){if(s&&t===n)return;if(i&&e.value.trim()===a)return}e.value=a}}},Ui={deep:!0,created(e,_,t){e[Fi]=ji(t),Oi(e,'change',()=>{const t=e._modelValue,n=qi(e),s=e.checked,i=e[Fi];if(E(t)){const e=le(t,n),o=-1!==e;if(s&&!o)i(t.concat(n));else if(!s&&o){const n=[...t];n.splice(e,1),i(n)}}else if(T(t)){const e=new Set(t);s?e.add(n):e.delete(n),i(e)}else i(Wi(e,s))})},mounted:Vi,beforeUpdate(e,t,n){e[Fi]=ji(n),Vi(e,t,n)}};function Vi(e,{value:t,oldValue:n},s){let i;if(e._modelValue=t,E(t))i=le(t,s.props.value)>-1;else if(T(t))i=t.has(s.props.value);else{if(t===n)return;i=ae(t,Wi(e,!0))}e.checked!==i&&(e.checked=i)}const Ki={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const i=T(t);Oi(e,'change',()=>{const t=Array.prototype.filter.call(e.options,e=>e.selected).map(e=>n?G(qi(e)):qi(e));e[Fi](e.multiple?i?new Set(t):t:t[0]),e._assigning=!0,cn(()=>{e._assigning=!1})}),e[Fi]=ji(s)},mounted(e,{value:t}){Zi(e,t)},beforeUpdate(e,t,n){e[Fi]=ji(n)},updated(e,{value:t}){e._assigning||Zi(e,t)}};function Zi(e,t){const n=e.multiple,s=E(t);if(!n||s||T(t)){for(let i=0,o=e.options.length;i<o;i++){const o=e.options[i],r=qi(o);if(n)if(s){const e=typeof r;o.selected='string'===e||'number'===e?t.some(e=>String(e)===String(r)):le(t,r)>-1}else o.selected=t.has(r);else if(ae(qi(o),t))return void(e.selectedIndex!==i&&(e.selectedIndex=i))}n||-1===e.selectedIndex||(e.selectedIndex=-1)}}function qi(e){return'_value'in e?e._value:e.value}function Wi(e,t){const n=t?'_trueValue':'_falseValue';return n in e?e[n]:t}const Yi=b({patchProp:(e,t,n,s,i,o)=>{const r='svg'===i;'class'===t?function(e,t,n){const s=e[hi];s&&(t=(t?[t,...s]:[...s]).join(' ')),null==t?e.removeAttribute('class'):n?e.setAttribute('class',t):e.className=t}(e,s,r):'style'===t?function(e,t,n){const s=e.style,i=A(n);let o=!1;if(n&&!i){if(t)if(A(t))for(const e of t.split(';')){const t=e.slice(0,e.indexOf(':')).trim();null==n[t]&&ki(s,t,'')}else for(const e in t)null==n[e]&&ki(s,e,'');for(const e in n)'display'===e&&(o=!0),ki(s,e,n[e])}else if(i){if(t!==n){const e=s[bi];e&&(n+=';'+e),s.cssText=n,o=_i.test(n)}}else t&&e.removeAttribute('style');mi in e&&(e[mi]=o?s.display:'',e[gi]&&(s.display='none'))}(e,n,s):v(t)?y(t)||Ii(e,t,0,s,o):('.'===t[0]?(t=t.slice(1),1):'^'===t[0]?(t=t.slice(1),0):function(e,t,n,s){if(s)return'innerHTML'===t||'textContent'===t||!!(t in e&&zi(t)&&O(n));if('spellcheck'===t||'draggable'===t||'translate'===t||'autocorrect'===t)return!1;if('sandbox'===t&&'IFRAME'===e.tagName)return!1;if('form'===t)return!1;if('list'===t&&'INPUT'===e.tagName)return!1;if('type'===t&&'TEXTAREA'===e.tagName)return!1;if('width'===t||'height'===t){const t=e.tagName;if('IMG'===t||'VIDEO'===t||'CANVAS'===t||'SOURCE'===t)return!1}if(zi(t)&&A(n))return!1;return t in e}(e,t,s,r))?(Ni(e,t,s),e.tagName.includes('-')||'value'!==t&&'checked'!==t&&'selected'!==t||Ti(e,t,s,r,0,'value'!==t)):!e._isVueCE||!/[A-Z]/.test(t)&&A(s)?('true-value'===t?e._trueValue=s:'false-value'===t&&(e._falseValue=s),Ti(e,t,s,r)):Ni(e,U(t),s,0,t)}},pi);let Hi;const Gi=(...e)=>{const t=(Hi||(Hi=fs(Yi))).createApp(...e),{mount:n}=t;return t.mount=e=>{const s=function(e){if(A(e)){return document.querySelector(e)}return e}
/*!
 * pinia v3.0.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */(e);if(!s)return;const i=t._component;O(i)||i.render||i.template||(i.template=s.innerHTML),1===s.nodeType&&(s.textContent='');const o=n(s,!1,function(e){if(e instanceof SVGElement)return'svg';if('function'==typeof MathMLElement&&e instanceof MathMLElement)return'mathml'}(s));return s instanceof Element&&(s.removeAttribute('v-cloak'),s.setAttribute('data-v-app','')),o},t};let Xi;const Ji=e=>Xi=e,Qi=Symbol();function eo(e){return e&&'object'==typeof e&&'[object Object]'===Object.prototype.toString.call(e)&&'function'!=typeof e.toJSON}var to,no;function so(){const e=ge(!0),t=e.run(()=>Lt({}));let n=[],s=[];const i=Dt({install(e){Ji(i),i._a=e,e.provide(Qi,i),e.config.globalProperties.$pinia=i,s.forEach(e=>n.push(e)),s=[]},use(e){return this._a?n.push(e):s.push(e),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}(no=to||(to={})).direct='direct',no.patchObject='patch object',no.patchFunction='patch function';const io=()=>{};function oo(e,t,n,s=io){e.add(t);const i=()=>{e.delete(t)&&s()};var o;return!n&&ve()&&(o=i,pe&&pe.cleanups.push(o)),i}function ro(e,...t){e.forEach(e=>{e(...t)})}const ao=e=>e(),lo=Symbol(),co=Symbol();function uo(e,t){e instanceof Map&&t instanceof Map?t.forEach((t,n)=>e.set(n,t)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],i=e[n];eo(i)&&eo(s)&&e.hasOwnProperty(n)&&!jt(s)&&!Ot(s)?e[n]=uo(i,s):e[n]=s}return e}const fo=Symbol();function po(e){return!eo(e)||!Object.prototype.hasOwnProperty.call(e,fo)}const{assign:ho}=Object;function mo(e){return!(!jt(e)||!e.effect)}function go(e,t,n,s){const{state:i,actions:o,getters:r}=t,a=n.state.value[e];let l;return l=vo(e,function(){a||(n.state.value[e]=i?i():{});const t=function(e){const t=E(e)?new Array(e.length):{};for(const n in e)t[n]=Zt(e,n);return t}(n.state.value[e]);return ho(t,o,Object.keys(r||{}).reduce((t,s)=>(t[s]=Dt(oi(()=>{Ji(n);const t=n._s.get(e);return r[s].call(t,t)})),t),{}))},t,n,s,!0),l}function vo(e,t,n={},s,i,o){let r;const a=ho({actions:{}},n),l={deep:!0};let c,u,d,f=new Set,p=new Set;const h=s.state.value[e];let m;function g(t){let n;c=u=!1,'function'==typeof t?(t(s.state.value[e]),n={type:to.patchFunction,storeId:e,events:d}):(uo(s.state.value[e],t),n={type:to.patchObject,payload:t,storeId:e,events:d});const i=m=Symbol();cn().then(()=>{m===i&&(c=!0)}),u=!0,ro(f,n,s.state.value[e])}o||h||(s.state.value[e]={}),Lt({});const v=o?function(){const{state:e}=n,t=e?e():{};this.$patch(e=>{ho(e,t)})}:io;const y=(t,n='')=>{if(lo in t)return t[co]=n,t;const i=function(){Ji(s);const n=Array.from(arguments),o=new Set,r=new Set;let a;ro(p,{args:n,name:i[co],store:b,after:function(e){o.add(e)},onError:function(e){r.add(e)}});try{a=t.apply(this&&this.$id===e?this:b,n)}catch(l){throw ro(r,l),l}return a instanceof Promise?a.then(e=>(ro(o,e),e)).catch(e=>(ro(r,e),Promise.reject(e))):(ro(o,a),a)};return i[lo]=!0,i[co]=n,i},b=xt({_p:s,$id:e,$onAction:oo.bind(null,p),$patch:g,$reset:v,$subscribe(t,n={}){const i=oo(f,t,n.detached,()=>o()),o=r.run(()=>Vn(()=>s.state.value[e],s=>{('sync'===n.flush?u:c)&&t({storeId:e,type:to.direct,events:d},s)},ho({},l,n)));return i},$dispose:function(){r.stop(),f.clear(),p.clear(),s._s.delete(e)}});s._s.set(e,b);const w=(s._a&&s._a.runWithContext||ao)(()=>s._e.run(()=>(r=ge()).run(()=>t({action:y}))));for(const k in w){const t=w[k];if(jt(t)&&!mo(t)||Ot(t))o||(h&&po(t)&&(jt(t)?t.value=h[k]:uo(t,h[k])),s.state.value[e][k]=t);else if('function'==typeof t){const e=y(t,k);w[k]=e,a.actions[k]=t}}return ho(b,w),ho($t(b),w),Object.defineProperty(b,'$state',{get:()=>s.state.value[e],set:e=>{g(t=>{ho(t,e)})}}),s._p.forEach(e=>{ho(b,r.run(()=>e({store:b,app:s._a,pinia:s,options:a})))}),h&&o&&n.hydrate&&n.hydrate(b.$state,h),c=!0,u=!0,b}
/*! #__NO_SIDE_EFFECTS__ */function yo(e,t,n){let s;const i='function'==typeof t;function o(n,o){const r=!(!Ys()&&!Rn);(n=n||(r?Bn(Qi,null):null))&&Ji(n),(n=Xi)._s.has(e)||(i?vo(e,t,s,n):go(e,s,n));return n._s.get(e)}return s=i?n:t,o.$id=e,o}function bo(e){const t=$t(e),n={};for(const s in t){const i=t[s];i.effect?n[s]=oi({get:()=>e[s],set(t){e[s]=t}}):(jt(i)||Ot(i))&&(n[s]=Kt(e,s))}return n}function _o(){return'undefined'!=typeof crypto&&'function'==typeof crypto.randomUUID?crypto.randomUUID():'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,e=>{const t=16*Math.random()|0;return('x'===e?t:3&t|8).toString(16)})}function wo(e,t,n){function s(n,s){if(n._zod||Object.defineProperty(n,'_zod',{value:{def:s,constr:_,traits:new Set},enumerable:!1}),n._zod.traits.has(e))return;n._zod.traits.add(e),t(n,s);const i=_.prototype,o=Object.keys(i);for(let e=0;e<o.length;e++){const t=o[e];t in n||(n[t]=i[t].bind(n))}}const i=n?.Parent??Object;class o extends i{}function _(e){var t;const i=n?.Parent?new o:this;s(i,e),(t=i._zod).deferred??(t.deferred=[]);for(const n of i._zod.deferred)n();return i}return Object.defineProperty(o,'name',{value:e}),Object.defineProperty(_,'init',{value:s}),Object.defineProperty(_,Symbol.hasInstance,{value:t=>!!(n?.Parent&&t instanceof n.Parent)||t?._zod?.traits?.has(e)}),Object.defineProperty(_,'name',{value:e}),_}class ko extends Error{constructor(){super('Encountered Promise during synchronous parse. Use .parseAsync() instead.')}}class So extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name='ZodEncodeError'}}const Eo={};function xo(e){return Eo}function To(_,e){return'bigint'==typeof e?e.toString():e}function No(e){return{get value(){{const t=e();return Object.defineProperty(this,'value',{value:t}),t}}}}function Oo(e){return null==e}function Ao(e){const t=e.startsWith('^')?1:0,n=e.endsWith('$')?e.length-1:e.length;return e.slice(t,n)}const Io=Symbol('evaluating');function Co(e,t,n){let s;Object.defineProperty(e,t,{get(){if(s!==Io)return void 0===s&&(s=Io,s=n()),s},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})}function $o(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Do(...e){const t={};for(const n of e){const e=Object.getOwnPropertyDescriptors(n);Object.assign(t,e)}return Object.defineProperties({},t)}function Po(e){return JSON.stringify(e)}const zo='captureStackTrace'in Error?Error.captureStackTrace:(...e)=>{};function jo(e){return'object'==typeof e&&null!==e&&!Array.isArray(e)}const Lo=No(()=>{if('undefined'!=typeof navigator&&navigator?.userAgent?.includes('Cloudflare'))return!1;try{return new Function(''),!0}catch(_){return!1}});function Mo(e){if(!1===jo(e))return!1;const t=e.constructor;if(void 0===t)return!0;if('function'!=typeof t)return!0;const n=t.prototype;return!1!==jo(n)&&!1!==Object.prototype.hasOwnProperty.call(n,'isPrototypeOf')}function Fo(e){return Mo(e)?{...e}:Array.isArray(e)?[...e]:e}const Ro=new Set(['string','number','symbol']);function Bo(e){return e.replace(/[.*+?^${}()|[\]\\]/g,'\\$&')}function Uo(e,t,n){const s=new e._zod.constr(t??e._zod.def);return t&&!n?.parent||(s._zod.parent=e),s}function Vo(e){const t=e;if(!t)return{};if('string'==typeof t)return{error:()=>t};if(void 0!==t?.message){if(void 0!==t?.error)throw new Error('Cannot specify both `message` and `error` params');t.error=t.message}return delete t.message,'string'==typeof t.error?{...t,error:()=>t.error}:t}const Ko={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Zo(e,t=0){if(!0===e.aborted)return!0;for(let n=t;n<e.issues.length;n++)if(!0!==e.issues[n]?.continue)return!0;return!1}function qo(e,t){return t.map(t=>{var n;return(n=t).path??(n.path=[]),t.path.unshift(e),t})}function Wo(e){return'string'==typeof e?e:e?.message}function Yo(e,t,n){const s={...e,path:e.path??[]};if(!e.message){const i=Wo(e.inst?._zod.def?.error?.(e))??Wo(t?.error?.(e))??Wo(n.customError?.(e))??Wo(n.localeError?.(e))??'Invalid input';s.message=i}return delete s.inst,delete s.continue,t?.reportInput||delete s.input,s}function Ho(e){return Array.isArray(e)?'array':'string'==typeof e?'string':'unknown'}function Go(...e){const[t,n,s]=e;return'string'==typeof t?{message:t,code:'custom',input:n,inst:s}:{...t}}const Xo=(e,t)=>{e.name='$ZodError',Object.defineProperty(e,'_zod',{value:e._zod,enumerable:!1}),Object.defineProperty(e,'issues',{value:t,enumerable:!1}),e.message=JSON.stringify(t,To,2),Object.defineProperty(e,'toString',{value:()=>e.message,enumerable:!1})},Jo=wo('$ZodError',Xo),Qo=wo('$ZodError',Xo,{Parent:Error});function er(e){const t=[],n=e.map(e=>'object'==typeof e?e.key:e);for(const s of n)'number'==typeof s?t.push(`[${s}]`):'symbol'==typeof s?t.push(`[${JSON.stringify(String(s))}]`):/[^\w$]/.test(s)?t.push(`[${JSON.stringify(s)}]`):(t.length&&t.push('.'),t.push(s));return t.join('')}const tr=e=>(t,n,s,i)=>{const o=s?Object.assign(s,{async:!1}):{async:!1},r=t._zod.run({value:n,issues:[]},o);if(r instanceof Promise)throw new ko;if(r.issues.length){const t=new(i?.Err??e)(r.issues.map(e=>Yo(e,o,xo())));throw zo(t,i?.callee),t}return r.value},nr=e=>async(t,n,s,i)=>{const o=s?Object.assign(s,{async:!0}):{async:!0};let r=t._zod.run({value:n,issues:[]},o);if(r instanceof Promise&&(r=await r),r.issues.length){const t=new(i?.Err??e)(r.issues.map(e=>Yo(e,o,xo())));throw zo(t,i?.callee),t}return r.value},sr=e=>(t,n,s)=>{const i=s?{...s,async:!1}:{async:!1},o=t._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new ko;return o.issues.length?{success:!1,error:new(e??Jo)(o.issues.map(e=>Yo(e,i,xo())))}:{success:!0,data:o.value}},ir=sr(Qo),or=e=>async(t,n,s)=>{const i=s?Object.assign(s,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(e=>Yo(e,i,xo())))}:{success:!0,data:o.value}},rr=or(Qo),ar=e=>(t,n,s)=>{const i=s?Object.assign(s,{direction:'backward'}):{direction:'backward'};return tr(e)(t,n,i)},lr=e=>(t,n,s)=>tr(e)(t,n,s),cr=e=>async(t,n,s)=>{const i=s?Object.assign(s,{direction:'backward'}):{direction:'backward'};return nr(e)(t,n,i)},ur=e=>async(t,n,s)=>nr(e)(t,n,s),dr=e=>(t,n,s)=>{const i=s?Object.assign(s,{direction:'backward'}):{direction:'backward'};return sr(e)(t,n,i)},fr=e=>(t,n,s)=>sr(e)(t,n,s),pr=e=>async(t,n,s)=>{const i=s?Object.assign(s,{direction:'backward'}):{direction:'backward'};return or(e)(t,n,i)},hr=e=>async(t,n,s)=>or(e)(t,n,s),mr=/^[cC][^\s-]{8,}$/,gr=/^[0-9a-z]+$/,vr=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,yr=/^[0-9a-vA-V]{20}$/,br=/^[A-Za-z0-9]{27}$/,_r=/^[a-zA-Z0-9_-]{21}$/,wr=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,kr=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Sr=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Er=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/;const xr=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Tr=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Nr=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Or=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ar=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Ir=/^[A-Za-z0-9_-]*$/,Cr=/^\+(?:[0-9]){6,14}[0-9]$/,$r='(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))',Dr=new RegExp(`^${$r}$`);function Pr(e){const t='(?:[01]\\d|2[0-3]):[0-5]\\d';return'number'==typeof e.precision?-1===e.precision?`${t}`:0===e.precision?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}const zr=/^-?\d+$/,jr=/^-?\d+(?:\.\d+)?/,Lr=/^(?:true|false)$/i,Mr=/^[^A-Z]*$/,Fr=/^[^a-z]*$/,Rr=wo('$ZodCheck',(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Br={number:'number',bigint:'bigint',object:'date'},Ur=wo('$ZodCheckLessThan',(e,t)=>{Rr.init(e,t);const n=Br[typeof t.value];e._zod.onattach.push(e=>{const n=e._zod.bag,s=(t.inclusive?n.maximum:n.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?n.maximum=t.value:n.exclusiveMaximum=t.value)}),e._zod.check=s=>{(t.inclusive?s.value<=t.value:s.value<t.value)||s.issues.push({origin:n,code:'too_big',maximum:t.value,input:s.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Vr=wo('$ZodCheckGreaterThan',(e,t)=>{Rr.init(e,t);const n=Br[typeof t.value];e._zod.onattach.push(e=>{const n=e._zod.bag,s=(t.inclusive?n.minimum:n.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?n.minimum=t.value:n.exclusiveMinimum=t.value)}),e._zod.check=s=>{(t.inclusive?s.value>=t.value:s.value>t.value)||s.issues.push({origin:n,code:'too_small',minimum:t.value,input:s.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Kr=wo('$ZodCheckMultipleOf',(e,t)=>{Rr.init(e,t),e._zod.onattach.push(e=>{var n;(n=e._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error('Cannot mix number and bigint in multiple_of check.');('bigint'==typeof n.value?n.value%t.value===BigInt(0):0===function(e,t){const n=(e.toString().split('.')[1]||'').length,s=t.toString();let i=(s.split('.')[1]||'').length;if(0===i&&/\d?e-\d?/.test(s)){const e=s.match(/\d?e-(\d?)/);e?.[1]&&(i=Number.parseInt(e[1]))}const o=n>i?n:i;return Number.parseInt(e.toFixed(o).replace('.',''))%Number.parseInt(t.toFixed(o).replace('.',''))/10**o}(n.value,t.value))||n.issues.push({origin:typeof n.value,code:'not_multiple_of',divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),Zr=wo('$ZodCheckNumberFormat',(e,t)=>{Rr.init(e,t),t.format=t.format||'float64';const n=t.format?.includes('int'),s=n?'int':'number',[i,o]=Ko[t.format];e._zod.onattach.push(e=>{const s=e._zod.bag;s.format=t.format,s.minimum=i,s.maximum=o,n&&(s.pattern=zr)}),e._zod.check=r=>{const a=r.value;if(n){if(!Number.isInteger(a))return void r.issues.push({expected:s,format:t.format,code:'invalid_type',continue:!1,input:a,inst:e});if(!Number.isSafeInteger(a))return void(a>0?r.issues.push({input:a,code:'too_big',maximum:Number.MAX_SAFE_INTEGER,note:'Integers must be within the safe integer range.',inst:e,origin:s,continue:!t.abort}):r.issues.push({input:a,code:'too_small',minimum:Number.MIN_SAFE_INTEGER,note:'Integers must be within the safe integer range.',inst:e,origin:s,continue:!t.abort}))}a<i&&r.issues.push({origin:'number',input:a,code:'too_small',minimum:i,inclusive:!0,inst:e,continue:!t.abort}),a>o&&r.issues.push({origin:'number',input:a,code:'too_big',maximum:o,inst:e})}}),qr=wo('$ZodCheckMaxLength',(e,t)=>{var n;Rr.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!Oo(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<n&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const s=n.value;if(s.length<=t.maximum)return;const i=Ho(s);n.issues.push({origin:i,code:'too_big',maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),Wr=wo('$ZodCheckMinLength',(e,t)=>{var n;Rr.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!Oo(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>n&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const s=n.value;if(s.length>=t.minimum)return;const i=Ho(s);n.issues.push({origin:i,code:'too_small',minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),Yr=wo('$ZodCheckLengthEquals',(e,t)=>{var n;Rr.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!Oo(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag;n.minimum=t.length,n.maximum=t.length,n.length=t.length}),e._zod.check=n=>{const s=n.value,i=s.length;if(i===t.length)return;const o=Ho(s),r=i>t.length;n.issues.push({origin:o,...r?{code:'too_big',maximum:t.length}:{code:'too_small',minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),Hr=wo('$ZodCheckStringFormat',(e,t)=>{var n,s;Rr.init(e,t),e._zod.onattach.push(e=>{const n=e._zod.bag;n.format=t.format,t.pattern&&(n.patterns??(n.patterns=new Set),n.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push({origin:'string',code:'invalid_format',format:t.format,input:n.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(s=e._zod).check??(s.check=()=>{})}),Gr=wo('$ZodCheckRegex',(e,t)=>{Hr.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push({origin:'string',code:'invalid_format',format:'regex',input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Xr=wo('$ZodCheckLowerCase',(e,t)=>{t.pattern??(t.pattern=Mr),Hr.init(e,t)}),Jr=wo('$ZodCheckUpperCase',(e,t)=>{t.pattern??(t.pattern=Fr),Hr.init(e,t)}),Qr=wo('$ZodCheckIncludes',(e,t)=>{Rr.init(e,t);const n=Bo(t.includes),s=new RegExp('number'==typeof t.position?`^.{${t.position}}${n}`:n);t.pattern=s,e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(s)}),e._zod.check=n=>{n.value.includes(t.includes,t.position)||n.issues.push({origin:'string',code:'invalid_format',format:'includes',includes:t.includes,input:n.value,inst:e,continue:!t.abort})}}),ea=wo('$ZodCheckStartsWith',(e,t)=>{Rr.init(e,t);const n=new RegExp(`^${Bo(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:'string',code:'invalid_format',format:'starts_with',prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),ta=wo('$ZodCheckEndsWith',(e,t)=>{Rr.init(e,t);const n=new RegExp(`.*${Bo(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:'string',code:'invalid_format',format:'ends_with',suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),na=wo('$ZodCheckOverwrite',(e,t)=>{Rr.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}});class sa{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if('function'==typeof e)return e(this,{execution:'sync'}),void e(this,{execution:'async'});const t=e.split('\n').filter(e=>e),n=Math.min(...t.map(e=>e.length-e.trimStart().length)),s=t.map(e=>e.slice(n)).map(e=>' '.repeat(2*this.indent)+e);for(const i of s)this.content.push(i)}compile(){const e=Function,t=this?.args;return new e(...t,[...(this?.content??['']).map(e=>`  ${e}`)].join('\n'))}}const ia={major:4,minor:1,patch:13},oa=wo('$ZodType',(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=ia;const s=[...e._zod.def.checks??[]];e._zod.traits.has('$ZodCheck')&&s.unshift(e);for(const i of s)for(const t of i._zod.onattach)t(e);if(0===s.length)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const t=(e,t,n)=>{let s,i=Zo(e);for(const o of t){if(o._zod.def.when){if(!o._zod.def.when(e))continue}else if(i)continue;const t=e.issues.length,_=o._zod.check(e);if(_ instanceof Promise&&!1===n?.async)throw new ko;if(s||_ instanceof Promise)s=(s??Promise.resolve()).then(async()=>{await _;e.issues.length!==t&&(i||(i=Zo(e,t)))});else{if(e.issues.length===t)continue;i||(i=Zo(e,t))}}return s?s.then(()=>e):e},n=(n,i,o)=>{if(Zo(n))return n.aborted=!0,n;const r=t(i,s,o);if(r instanceof Promise){if(!1===o.async)throw new ko;return r.then(t=>e._zod.parse(t,o))}return e._zod.parse(r,o)};e._zod.run=(i,o)=>{if(o.skipChecks)return e._zod.parse(i,o);if('backward'===o.direction){const t=e._zod.parse({value:i.value,issues:[]},{...o,skipChecks:!0});return t instanceof Promise?t.then(e=>n(e,i,o)):n(t,i,o)}const r=e._zod.parse(i,o);if(r instanceof Promise){if(!1===o.async)throw new ko;return r.then(e=>t(e,s,o))}return t(r,s,o)}}e['~standard']={validate:t=>{try{const n=ir(e,t);return n.success?{value:n.data}:{issues:n.error?.issues}}catch(_){return rr(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:'zod',version:1}}),ra=wo('$ZodString',(e,t)=>{var n;oa.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??(n=e._zod.bag,new RegExp(`^${n?`[\\s\\S]{${n?.minimum??0},${n?.maximum??''}}`:'[\\s\\S]*'}$`)),e._zod.parse=(n,_)=>{if(t.coerce)try{n.value=String(n.value)}catch(_){}return'string'==typeof n.value||n.issues.push({expected:'string',code:'invalid_type',input:n.value,inst:e}),n}}),aa=wo('$ZodStringFormat',(e,t)=>{Hr.init(e,t),ra.init(e,t)}),la=wo('$ZodGUID',(e,t)=>{t.pattern??(t.pattern=kr),aa.init(e,t)}),ca=wo('$ZodUUID',(e,t)=>{if(t.version){const e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Sr(e))}else t.pattern??(t.pattern=Sr());aa.init(e,t)}),ua=wo('$ZodEmail',(e,t)=>{t.pattern??(t.pattern=Er),aa.init(e,t)}),da=wo('$ZodURL',(e,t)=>{aa.init(e,t),e._zod.check=n=>{try{const s=n.value.trim(),i=new URL(s);return t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:'invalid_format',format:'url',note:'Invalid hostname',pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(':')?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:'invalid_format',format:'url',note:'Invalid protocol',pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),void(t.normalize?n.value=i.href:n.value=s)}catch(_){n.issues.push({code:'invalid_format',format:'url',input:n.value,inst:e,continue:!t.abort})}}}),fa=wo('$ZodEmoji',(e,t)=>{t.pattern??(t.pattern=new RegExp('^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$','u')),aa.init(e,t)}),pa=wo('$ZodNanoID',(e,t)=>{t.pattern??(t.pattern=_r),aa.init(e,t)}),ha=wo('$ZodCUID',(e,t)=>{t.pattern??(t.pattern=mr),aa.init(e,t)}),ma=wo('$ZodCUID2',(e,t)=>{t.pattern??(t.pattern=gr),aa.init(e,t)}),ga=wo('$ZodULID',(e,t)=>{t.pattern??(t.pattern=vr),aa.init(e,t)}),va=wo('$ZodXID',(e,t)=>{t.pattern??(t.pattern=yr),aa.init(e,t)}),ya=wo('$ZodKSUID',(e,t)=>{t.pattern??(t.pattern=br),aa.init(e,t)}),ba=wo('$ZodISODateTime',(e,t)=>{t.pattern??(t.pattern=function(e){const t=Pr({precision:e.precision}),n=['Z'];e.local&&n.push(''),e.offset&&n.push('([+-](?:[01]\\d|2[0-3]):[0-5]\\d)');const s=`${t}(?:${n.join('|')})`;return new RegExp(`^${$r}T(?:${s})$`)}(t)),aa.init(e,t)}),_a=wo('$ZodISODate',(e,t)=>{t.pattern??(t.pattern=Dr),aa.init(e,t)}),wa=wo('$ZodISOTime',(e,t)=>{t.pattern??(t.pattern=new RegExp(`^${Pr(t)}$`)),aa.init(e,t)}),ka=wo('$ZodISODuration',(e,t)=>{t.pattern??(t.pattern=wr),aa.init(e,t)}),Sa=wo('$ZodIPv4',(e,t)=>{t.pattern??(t.pattern=xr),aa.init(e,t),e._zod.bag.format='ipv4'}),Ea=wo('$ZodIPv6',(e,t)=>{t.pattern??(t.pattern=Tr),aa.init(e,t),e._zod.bag.format='ipv6',e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:'invalid_format',format:'ipv6',input:n.value,inst:e,continue:!t.abort})}}}),xa=wo('$ZodCIDRv4',(e,t)=>{t.pattern??(t.pattern=Nr),aa.init(e,t)}),Ta=wo('$ZodCIDRv6',(e,t)=>{t.pattern??(t.pattern=Or),aa.init(e,t),e._zod.check=n=>{const s=n.value.split('/');try{if(2!==s.length)throw new Error;const[e,t]=s;if(!t)throw new Error;const n=Number(t);if(`${n}`!==t)throw new Error;if(n<0||n>128)throw new Error;new URL(`http://[${e}]`)}catch{n.issues.push({code:'invalid_format',format:'cidrv6',input:n.value,inst:e,continue:!t.abort})}}});function Na(e){if(''===e)return!0;if(e.length%4!=0)return!1;try{return atob(e),!0}catch{return!1}}const Oa=wo('$ZodBase64',(e,t)=>{t.pattern??(t.pattern=Ar),aa.init(e,t),e._zod.bag.contentEncoding='base64',e._zod.check=n=>{Na(n.value)||n.issues.push({code:'invalid_format',format:'base64',input:n.value,inst:e,continue:!t.abort})}});const Aa=wo('$ZodBase64URL',(e,t)=>{t.pattern??(t.pattern=Ir),aa.init(e,t),e._zod.bag.contentEncoding='base64url',e._zod.check=n=>{(function(e){if(!Ir.test(e))return!1;const t=e.replace(/[-_]/g,e=>'-'===e?'+':'/');return Na(t.padEnd(4*Math.ceil(t.length/4),'='))})(n.value)||n.issues.push({code:'invalid_format',format:'base64url',input:n.value,inst:e,continue:!t.abort})}}),Ia=wo('$ZodE164',(e,t)=>{t.pattern??(t.pattern=Cr),aa.init(e,t)});const Ca=wo('$ZodJWT',(e,t)=>{aa.init(e,t),e._zod.check=n=>{(function(e,t=null){try{const n=e.split('.');if(3!==n.length)return!1;const[s]=n;if(!s)return!1;const i=JSON.parse(atob(s));return!('typ'in i&&'JWT'!==i?.typ||!i.alg||t&&(!('alg'in i)||i.alg!==t))}catch{return!1}})(n.value,t.alg)||n.issues.push({code:'invalid_format',format:'jwt',input:n.value,inst:e,continue:!t.abort})}}),$a=wo('$ZodNumber',(e,t)=>{oa.init(e,t),e._zod.pattern=e._zod.bag.pattern??jr,e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=Number(n.value)}catch(_){}const i=n.value;if('number'==typeof i&&!Number.isNaN(i)&&Number.isFinite(i))return n;const o='number'==typeof i?Number.isNaN(i)?'NaN':Number.isFinite(i)?void 0:'Infinity':void 0;return n.issues.push({expected:'number',code:'invalid_type',input:i,inst:e,...o?{received:o}:{}}),n}}),Da=wo('$ZodNumberFormat',(e,t)=>{Zr.init(e,t),$a.init(e,t)}),Pa=wo('$ZodBoolean',(e,t)=>{oa.init(e,t),e._zod.pattern=Lr,e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=Boolean(n.value)}catch(_){}const i=n.value;return'boolean'==typeof i||n.issues.push({expected:'boolean',code:'invalid_type',input:i,inst:e}),n}}),za=wo('$ZodUnknown',(e,t)=>{oa.init(e,t),e._zod.parse=e=>e}),ja=wo('$ZodNever',(e,t)=>{oa.init(e,t),e._zod.parse=(t,n)=>(t.issues.push({expected:'never',code:'invalid_type',input:t.value,inst:e}),t)});function La(e,t,n){e.issues.length&&t.issues.push(...qo(n,e.issues)),t.value[n]=e.value}const Ma=wo('$ZodArray',(e,t)=>{oa.init(e,t),e._zod.parse=(n,s)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:'array',code:'invalid_type',input:i,inst:e}),n;n.value=Array(i.length);const o=[];for(let e=0;e<i.length;e++){const r=i[e],a=t.element._zod.run({value:r,issues:[]},s);a instanceof Promise?o.push(a.then(t=>La(t,n,e))):La(a,n,e)}return o.length?Promise.all(o).then(()=>n):n}});function Fa(e,t,n,s){e.issues.length&&t.issues.push(...qo(n,e.issues)),void 0===e.value?n in s&&(t.value[n]=void 0):t.value[n]=e.value}function Ra(e){const t=Object.keys(e.shape);for(const i of t)if(!e.shape?.[i]?._zod?.traits?.has('$ZodType'))throw new Error(`Invalid element at key "${i}": expected a Zod schema`);const n=(s=e.shape,Object.keys(s).filter(e=>'optional'===s[e]._zod.optin&&'optional'===s[e]._zod.optout));var s;return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function Ba(e,t,n,s,i,o){const r=[],a=i.keySet,l=i.catchall._zod,c=l.def.type;for(const u in t){if(a.has(u))continue;if('never'===c){r.push(u);continue}const i=l.run({value:t[u],issues:[]},s);i instanceof Promise?e.push(i.then(e=>Fa(e,n,u,t))):Fa(i,n,u,t)}return r.length&&n.issues.push({code:'unrecognized_keys',keys:r,input:t,inst:o}),e.length?Promise.all(e).then(()=>n):n}const Ua=wo('$ZodObject',(e,t)=>{oa.init(e,t);const n=Object.getOwnPropertyDescriptor(t,'shape');if(!n?.get){const e=t.shape;Object.defineProperty(t,'shape',{get:()=>{const n={...e};return Object.defineProperty(t,'shape',{value:n}),n}})}const s=No(()=>Ra(t));Co(e._zod,'propValues',()=>{const e=t.shape,n={};for(const t in e){const s=e[t]._zod;if(s.values){n[t]??(n[t]=new Set);for(const e of s.values)n[t].add(e)}}return n});const i=jo,o=t.catchall;let r;e._zod.parse=(t,n)=>{r??(r=s.value);const a=t.value;if(!i(a))return t.issues.push({expected:'object',code:'invalid_type',input:a,inst:e}),t;t.value={};const l=[],c=r.shape;for(const e of r.keys){const s=c[e]._zod.run({value:a[e],issues:[]},n);s instanceof Promise?l.push(s.then(n=>Fa(n,t,e,a))):Fa(s,t,e,a)}return o?Ba(l,a,t,n,s.value,e):l.length?Promise.all(l).then(()=>t):t}}),Va=wo('$ZodObjectJIT',(e,t)=>{Ua.init(e,t);const n=e._zod.parse,s=No(()=>Ra(t));let i;const o=jo,r=!Eo.jitless,a=r&&Lo.value,l=t.catchall;let c;e._zod.parse=(u,d)=>{c??(c=s.value);const f=u.value;return o(f)?r&&a&&!1===d?.async&&!0!==d.jitless?(i||(i=(e=>{const t=new sa(['shape','payload','ctx']),n=s.value,i=e=>{const t=Po(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write('const input = payload.value;');const o=Object.create(null);let r=0;for(const s of n.keys)o[s]='key_'+r++;t.write('const newResult = {};');for(const s of n.keys){const e=o[s],n=Po(s);t.write(`const ${e} = ${i(s)};`),t.write(`\n        if (${e}.issues.length) {\n          payload.issues = payload.issues.concat(${e}.issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [${n}, ...iss.path] : [${n}]\n          })));\n        }\n        \n        \n        if (${e}.value === undefined) {\n          if (${n} in input) {\n            newResult[${n}] = undefined;\n          }\n        } else {\n          newResult[${n}] = ${e}.value;\n        }\n        \n      `)}t.write('payload.value = newResult;'),t.write('return payload;');const a=t.compile();return(t,n)=>a(e,t,n)})(t.shape)),u=i(u,d),l?Ba([],f,u,d,c,e):u):n(u,d):(u.issues.push({expected:'object',code:'invalid_type',input:f,inst:e}),u)}});function Ka(e,t,n,s){for(const o of e)if(0===o.issues.length)return t.value=o.value,t;const i=e.filter(e=>!Zo(e));return 1===i.length?(t.value=i[0].value,i[0]):(t.issues.push({code:'invalid_union',input:t.value,inst:n,errors:e.map(e=>e.issues.map(e=>Yo(e,s,xo())))}),t)}const Za=wo('$ZodUnion',(e,t)=>{oa.init(e,t),Co(e._zod,'optin',()=>t.options.some(e=>'optional'===e._zod.optin)?'optional':void 0),Co(e._zod,'optout',()=>t.options.some(e=>'optional'===e._zod.optout)?'optional':void 0),Co(e._zod,'values',()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),Co(e._zod,'pattern',()=>{if(t.options.every(e=>e._zod.pattern)){const e=t.options.map(e=>e._zod.pattern);return new RegExp(`^(${e.map(e=>Ao(e.source)).join('|')})$`)}});const n=1===t.options.length,s=t.options[0]._zod.run;e._zod.parse=(i,o)=>{if(n)return s(i,o);let r=!1;const a=[];for(const e of t.options){const t=e._zod.run({value:i.value,issues:[]},o);if(t instanceof Promise)a.push(t),r=!0;else{if(0===t.issues.length)return t;a.push(t)}}return r?Promise.all(a).then(t=>Ka(t,i,e,o)):Ka(a,i,e,o)}}),qa=wo('$ZodIntersection',(e,t)=>{oa.init(e,t),e._zod.parse=(e,n)=>{const s=e.value,i=t.left._zod.run({value:s,issues:[]},n),o=t.right._zod.run({value:s,issues:[]},n);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([t,n])=>Ya(e,t,n)):Ya(e,i,o)}});function Wa(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e===+t)return{valid:!0,data:e};if(Mo(e)&&Mo(t)){const n=Object.keys(t),s=Object.keys(e).filter(e=>-1!==n.indexOf(e)),i={...e,...t};for(const o of s){const n=Wa(e[o],t[o]);if(!n.valid)return{valid:!1,mergeErrorPath:[o,...n.mergeErrorPath]};i[o]=n.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let s=0;s<e.length;s++){const i=Wa(e[s],t[s]);if(!i.valid)return{valid:!1,mergeErrorPath:[s,...i.mergeErrorPath]};n.push(i.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Ya(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),Zo(e))return e;const s=Wa(t.value,n.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return e.value=s.data,e}const Ha=wo('$ZodEnum',(e,t)=>{oa.init(e,t);const n=function(e){const t=Object.values(e).filter(e=>'number'==typeof e);return Object.entries(e).filter(([e,_])=>-1===t.indexOf(+e)).map(([_,e])=>e)}(t.entries),s=new Set(n);e._zod.values=s,e._zod.pattern=new RegExp(`^(${n.filter(e=>Ro.has(typeof e)).map(e=>'string'==typeof e?Bo(e):e.toString()).join('|')})$`),e._zod.parse=(t,i)=>{const o=t.value;return s.has(o)||t.issues.push({code:'invalid_value',values:n,input:o,inst:e}),t}}),Ga=wo('$ZodTransform',(e,t)=>{oa.init(e,t),e._zod.parse=(n,s)=>{if('backward'===s.direction)throw new So(e.constructor.name);const i=t.transform(n.value,n);if(s.async){return(i instanceof Promise?i:Promise.resolve(i)).then(e=>(n.value=e,n))}if(i instanceof Promise)throw new ko;return n.value=i,n}});function Xa(e,t){return e.issues.length&&void 0===t?{issues:[],value:void 0}:e}const Ja=wo('$ZodOptional',(e,t)=>{oa.init(e,t),e._zod.optin='optional',e._zod.optout='optional',Co(e._zod,'values',()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Co(e._zod,'pattern',()=>{const e=t.innerType._zod.pattern;return e?new RegExp(`^(${Ao(e.source)})?$`):void 0}),e._zod.parse=(e,n)=>{if('optional'===t.innerType._zod.optin){const s=t.innerType._zod.run(e,n);return s instanceof Promise?s.then(t=>Xa(t,e.value)):Xa(s,e.value)}return void 0===e.value?e:t.innerType._zod.run(e,n)}}),Qa=wo('$ZodNullable',(e,t)=>{oa.init(e,t),Co(e._zod,'optin',()=>t.innerType._zod.optin),Co(e._zod,'optout',()=>t.innerType._zod.optout),Co(e._zod,'pattern',()=>{const e=t.innerType._zod.pattern;return e?new RegExp(`^(${Ao(e.source)}|null)$`):void 0}),Co(e._zod,'values',()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,n)=>null===e.value?e:t.innerType._zod.run(e,n)}),el=wo('$ZodDefault',(e,t)=>{oa.init(e,t),e._zod.optin='optional',Co(e._zod,'values',()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{if('backward'===n.direction)return t.innerType._zod.run(e,n);if(void 0===e.value)return e.value=t.defaultValue,e;const s=t.innerType._zod.run(e,n);return s instanceof Promise?s.then(e=>tl(e,t)):tl(s,t)}});function tl(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}const nl=wo('$ZodPrefault',(e,t)=>{oa.init(e,t),e._zod.optin='optional',Co(e._zod,'values',()=>t.innerType._zod.values),e._zod.parse=(e,n)=>('backward'===n.direction||void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,n))}),sl=wo('$ZodNonOptional',(e,t)=>{oa.init(e,t),Co(e._zod,'values',()=>{const e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(n,s)=>{const i=t.innerType._zod.run(n,s);return i instanceof Promise?i.then(t=>il(t,e)):il(i,e)}});function il(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:'invalid_type',expected:'nonoptional',input:e.value,inst:t}),e}const ol=wo('$ZodCatch',(e,t)=>{oa.init(e,t),Co(e._zod,'optin',()=>t.innerType._zod.optin),Co(e._zod,'optout',()=>t.innerType._zod.optout),Co(e._zod,'values',()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{if('backward'===n.direction)return t.innerType._zod.run(e,n);const s=t.innerType._zod.run(e,n);return s instanceof Promise?s.then(s=>(e.value=s.value,s.issues.length&&(e.value=t.catchValue({...e,error:{issues:s.issues.map(e=>Yo(e,n,xo()))},input:e.value}),e.issues=[]),e)):(e.value=s.value,s.issues.length&&(e.value=t.catchValue({...e,error:{issues:s.issues.map(e=>Yo(e,n,xo()))},input:e.value}),e.issues=[]),e)}}),rl=wo('$ZodPipe',(e,t)=>{oa.init(e,t),Co(e._zod,'values',()=>t.in._zod.values),Co(e._zod,'optin',()=>t.in._zod.optin),Co(e._zod,'optout',()=>t.out._zod.optout),Co(e._zod,'propValues',()=>t.in._zod.propValues),e._zod.parse=(e,n)=>{if('backward'===n.direction){const s=t.out._zod.run(e,n);return s instanceof Promise?s.then(e=>al(e,t.in,n)):al(s,t.in,n)}const s=t.in._zod.run(e,n);return s instanceof Promise?s.then(e=>al(e,t.out,n)):al(s,t.out,n)}});function al(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const ll=wo('$ZodReadonly',(e,t)=>{oa.init(e,t),Co(e._zod,'propValues',()=>t.innerType._zod.propValues),Co(e._zod,'values',()=>t.innerType._zod.values),Co(e._zod,'optin',()=>t.innerType?._zod?.optin),Co(e._zod,'optout',()=>t.innerType?._zod?.optout),e._zod.parse=(e,n)=>{if('backward'===n.direction)return t.innerType._zod.run(e,n);const s=t.innerType._zod.run(e,n);return s instanceof Promise?s.then(cl):cl(s)}});function cl(e){return e.value=Object.freeze(e.value),e}const ul=wo('$ZodCustom',(e,t)=>{Rr.init(e,t),oa.init(e,t),e._zod.parse=(e,_)=>e,e._zod.check=n=>{const s=n.value,i=t.fn(s);if(i instanceof Promise)return i.then(t=>dl(t,n,s,e));dl(i,n,s,e)}});function dl(e,t,n,s){if(!e){const e={code:'custom',input:n,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(e.params=s._zod.def.params),t.issues.push(Go(e))}}var fl;class pl{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){const n=t[0];if(this._map.set(e,n),n&&'object'==typeof n&&'id'in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&'object'==typeof t&&'id'in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){const n={...this.get(t)??{}};delete n.id;const s={...n,...this._map.get(e)};return Object.keys(s).length?s:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}(fl=globalThis).__zod_globalRegistry??(fl.__zod_globalRegistry=new pl);const hl=globalThis.__zod_globalRegistry;function ml(e,t){return new e({type:'string',format:'guid',check:'string_format',abort:!1,...Vo(t)})}function gl(e,t){return new Ur({check:'less_than',...Vo(t),value:e,inclusive:!1})}function vl(e,t){return new Ur({check:'less_than',...Vo(t),value:e,inclusive:!0})}function yl(e,t){return new Vr({check:'greater_than',...Vo(t),value:e,inclusive:!1})}function bl(e,t){return new Vr({check:'greater_than',...Vo(t),value:e,inclusive:!0})}function _l(e,t){return new Kr({check:'multiple_of',...Vo(t),value:e})}function wl(e,t){return new qr({check:'max_length',...Vo(t),maximum:e})}function kl(e,t){return new Wr({check:'min_length',...Vo(t),minimum:e})}function Sl(e,t){return new Yr({check:'length_equals',...Vo(t),length:e})}function El(e){return new na({check:'overwrite',tx:e})}function xl(e){const t=function(e,t){const n=new Rr({check:'custom',...Vo(t)});return n._zod.check=e,n}(n=>(n.addIssue=e=>{if('string'==typeof e)n.issues.push(Go(e,n.value,t._zod.def));else{const s=e;s.fatal&&(s.continue=!1),s.code??(s.code='custom'),s.input??(s.input=n.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),n.issues.push(Go(s))}},e(n.value,n)));return t}const Tl=wo('ZodISODateTime',(e,t)=>{ba.init(e,t),Xl.init(e,t)});function Nl(e){return function(e,t){return new e({type:'string',format:'datetime',check:'string_format',offset:!1,local:!1,precision:null,...Vo(t)})}(Tl,e)}const Ol=wo('ZodISODate',(e,t)=>{_a.init(e,t),Xl.init(e,t)});function Al(e){return function(e,t){return new e({type:'string',format:'date',check:'string_format',...Vo(t)})}(Ol,e)}const Il=wo('ZodISOTime',(e,t)=>{wa.init(e,t),Xl.init(e,t)});function Cl(e){return function(e,t){return new e({type:'string',format:'time',check:'string_format',precision:null,...Vo(t)})}(Il,e)}const $l=wo('ZodISODuration',(e,t)=>{ka.init(e,t),Xl.init(e,t)});function Dl(e){return function(e,t){return new e({type:'string',format:'duration',check:'string_format',...Vo(t)})}($l,e)}const Pl=wo('ZodError',(e,t)=>{Jo.init(e,t),e.name='ZodError',Object.defineProperties(e,{format:{value:t=>function(e,t=e=>e.message){const n={_errors:[]},s=e=>{for(const i of e.issues)if('invalid_union'===i.code&&i.errors.length)i.errors.map(e=>s({issues:e}));else if('invalid_key'===i.code)s({issues:i.issues});else if('invalid_element'===i.code)s({issues:i.issues});else if(0===i.path.length)n._errors.push(t(i));else{let e=n,s=0;for(;s<i.path.length;){const n=i.path[s];s===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],s++}}};return s(e),n}(e,t)},flatten:{value:t=>function(e,t=e=>e.message){const n={},s=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):s.push(t(i));return{formErrors:s,fieldErrors:n}}(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,To,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,To,2)}},isEmpty:{get:()=>0===e.issues.length}})},{Parent:Error}),zl=tr(Pl),jl=nr(Pl),Ll=sr(Pl),Ml=or(Pl),Fl=ar(Pl),Rl=lr(Pl),Bl=cr(Pl),Ul=ur(Pl),Vl=dr(Pl),Kl=fr(Pl),Zl=pr(Pl),ql=hr(Pl),Wl=wo('ZodType',(e,t)=>(oa.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,'_def',{value:t}),e.check=(...n)=>e.clone(Do(t,{checks:[...t.checks??[],...n.map(e=>'function'==typeof e?{_zod:{check:e,def:{check:'custom'},onattach:[]}}:e)]})),e.clone=(t,n)=>Uo(e,t,n),e.brand=()=>e,e.register=(t,n)=>(t.add(e,n),e),e.parse=(t,n)=>zl(e,t,n,{callee:e.parse}),e.safeParse=(t,n)=>Ll(e,t,n),e.parseAsync=async(t,n)=>jl(e,t,n,{callee:e.parseAsync}),e.safeParseAsync=async(t,n)=>Ml(e,t,n),e.spa=e.safeParseAsync,e.encode=(t,n)=>Fl(e,t,n),e.decode=(t,n)=>Rl(e,t,n),e.encodeAsync=async(t,n)=>Bl(e,t,n),e.decodeAsync=async(t,n)=>Ul(e,t,n),e.safeEncode=(t,n)=>Vl(e,t,n),e.safeDecode=(t,n)=>Kl(e,t,n),e.safeEncodeAsync=async(t,n)=>Zl(e,t,n),e.safeDecodeAsync=async(t,n)=>ql(e,t,n),e.refine=(t,n)=>e.check(function(e,t={}){return function(e,t,n){return new e({type:'custom',check:'custom',fn:t,...Vo(n)})}(qc,e,t)}(t,n)),e.superRefine=t=>e.check(xl(t)),e.overwrite=t=>e.check(El(t)),e.optional=()=>jc(e),e.nullable=()=>Mc(e),e.nullish=()=>jc(Mc(e)),e.nonoptional=t=>function(e,t){return new Bc({type:'nonoptional',innerType:e,...Vo(t)})}(e,t),e.array=()=>Nc(e),e.or=t=>{return new Ic({type:'union',options:[e,t],...Vo(n)});var n},e.and=t=>new Cc({type:'intersection',left:e,right:t}),e.transform=t=>Kc(e,new Pc({type:'transform',transform:t})),e.default=t=>{return n=t,new Fc({type:'default',innerType:e,get defaultValue(){return'function'==typeof n?n():Fo(n)}});var n},e.prefault=t=>{return n=t,new Rc({type:'prefault',innerType:e,get defaultValue(){return'function'==typeof n?n():Fo(n)}});var n},e.catch=t=>{return new Uc({type:'catch',innerType:e,catchValue:'function'==typeof(n=t)?n:()=>n});var n},e.pipe=t=>Kc(e,t),e.readonly=()=>new Zc({type:'readonly',innerType:e}),e.describe=t=>{const n=e.clone();return hl.add(n,{description:t}),n},Object.defineProperty(e,'description',{get:()=>hl.get(e)?.description,configurable:!0}),e.meta=(...t)=>{if(0===t.length)return hl.get(e);const n=e.clone();return hl.add(n,t[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),Yl=wo('_ZodString',(e,t)=>{ra.init(e,t),Wl.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...t)=>e.check(function(e,t){return new Gr({check:'string_format',format:'regex',...Vo(t),pattern:e})}(...t)),e.includes=(...t)=>e.check(function(e,t){return new Qr({check:'string_format',format:'includes',...Vo(t),includes:e})}(...t)),e.startsWith=(...t)=>e.check(function(e,t){return new ea({check:'string_format',format:'starts_with',...Vo(t),prefix:e})}(...t)),e.endsWith=(...t)=>e.check(function(e,t){return new ta({check:'string_format',format:'ends_with',...Vo(t),suffix:e})}(...t)),e.min=(...t)=>e.check(kl(...t)),e.max=(...t)=>e.check(wl(...t)),e.length=(...t)=>e.check(Sl(...t)),e.nonempty=(...t)=>e.check(kl(1,...t)),e.lowercase=t=>e.check(function(e){return new Xr({check:'string_format',format:'lowercase',...Vo(e)})}(t)),e.uppercase=t=>e.check(function(e){return new Jr({check:'string_format',format:'uppercase',...Vo(e)})}(t)),e.trim=()=>e.check(El(e=>e.trim())),e.normalize=(...t)=>e.check(function(e){return El(t=>t.normalize(e))}(...t)),e.toLowerCase=()=>e.check(El(e=>e.toLowerCase())),e.toUpperCase=()=>e.check(El(e=>e.toUpperCase())),e.slugify=()=>e.check(El(e=>function(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,'').replace(/[\s_-]+/g,'-').replace(/^-+|-+$/g,'')}(e)))}),Hl=wo('ZodString',(e,t)=>{ra.init(e,t),Yl.init(e,t),e.email=t=>e.check(function(e,t){return new e({type:'string',format:'email',check:'string_format',abort:!1,...Vo(t)})}(Jl,t)),e.url=t=>e.check(function(e,t){return new e({type:'string',format:'url',check:'string_format',abort:!1,...Vo(t)})}(tc,t)),e.jwt=t=>e.check(function(e,t){return new e({type:'string',format:'jwt',check:'string_format',abort:!1,...Vo(t)})}(gc,t)),e.emoji=t=>e.check(function(e,t){return new e({type:'string',format:'emoji',check:'string_format',abort:!1,...Vo(t)})}(nc,t)),e.guid=t=>e.check(ml(Ql,t)),e.uuid=t=>e.check(function(e,t){return new e({type:'string',format:'uuid',check:'string_format',abort:!1,...Vo(t)})}(ec,t)),e.uuidv4=t=>e.check(function(e,t){return new e({type:'string',format:'uuid',check:'string_format',abort:!1,version:'v4',...Vo(t)})}(ec,t)),e.uuidv6=t=>e.check(function(e,t){return new e({type:'string',format:'uuid',check:'string_format',abort:!1,version:'v6',...Vo(t)})}(ec,t)),e.uuidv7=t=>e.check(function(e,t){return new e({type:'string',format:'uuid',check:'string_format',abort:!1,version:'v7',...Vo(t)})}(ec,t)),e.nanoid=t=>e.check(function(e,t){return new e({type:'string',format:'nanoid',check:'string_format',abort:!1,...Vo(t)})}(sc,t)),e.guid=t=>e.check(ml(Ql,t)),e.cuid=t=>e.check(function(e,t){return new e({type:'string',format:'cuid',check:'string_format',abort:!1,...Vo(t)})}(ic,t)),e.cuid2=t=>e.check(function(e,t){return new e({type:'string',format:'cuid2',check:'string_format',abort:!1,...Vo(t)})}(oc,t)),e.ulid=t=>e.check(function(e,t){return new e({type:'string',format:'ulid',check:'string_format',abort:!1,...Vo(t)})}(rc,t)),e.base64=t=>e.check(function(e,t){return new e({type:'string',format:'base64',check:'string_format',abort:!1,...Vo(t)})}(pc,t)),e.base64url=t=>e.check(function(e,t){return new e({type:'string',format:'base64url',check:'string_format',abort:!1,...Vo(t)})}(hc,t)),e.xid=t=>e.check(function(e,t){return new e({type:'string',format:'xid',check:'string_format',abort:!1,...Vo(t)})}(ac,t)),e.ksuid=t=>e.check(function(e,t){return new e({type:'string',format:'ksuid',check:'string_format',abort:!1,...Vo(t)})}(lc,t)),e.ipv4=t=>e.check(function(e,t){return new e({type:'string',format:'ipv4',check:'string_format',abort:!1,...Vo(t)})}(cc,t)),e.ipv6=t=>e.check(function(e,t){return new e({type:'string',format:'ipv6',check:'string_format',abort:!1,...Vo(t)})}(uc,t)),e.cidrv4=t=>e.check(function(e,t){return new e({type:'string',format:'cidrv4',check:'string_format',abort:!1,...Vo(t)})}(dc,t)),e.cidrv6=t=>e.check(function(e,t){return new e({type:'string',format:'cidrv6',check:'string_format',abort:!1,...Vo(t)})}(fc,t)),e.e164=t=>e.check(function(e,t){return new e({type:'string',format:'e164',check:'string_format',abort:!1,...Vo(t)})}(mc,t)),e.datetime=t=>e.check(Nl(t)),e.date=t=>e.check(Al(t)),e.time=t=>e.check(Cl(t)),e.duration=t=>e.check(Dl(t))});function Gl(e){return function(e,t){return new e({type:'string',...Vo(t)})}(Hl,e)}const Xl=wo('ZodStringFormat',(e,t)=>{aa.init(e,t),Yl.init(e,t)}),Jl=wo('ZodEmail',(e,t)=>{ua.init(e,t),Xl.init(e,t)}),Ql=wo('ZodGUID',(e,t)=>{la.init(e,t),Xl.init(e,t)}),ec=wo('ZodUUID',(e,t)=>{ca.init(e,t),Xl.init(e,t)}),tc=wo('ZodURL',(e,t)=>{da.init(e,t),Xl.init(e,t)}),nc=wo('ZodEmoji',(e,t)=>{fa.init(e,t),Xl.init(e,t)}),sc=wo('ZodNanoID',(e,t)=>{pa.init(e,t),Xl.init(e,t)}),ic=wo('ZodCUID',(e,t)=>{ha.init(e,t),Xl.init(e,t)}),oc=wo('ZodCUID2',(e,t)=>{ma.init(e,t),Xl.init(e,t)}),rc=wo('ZodULID',(e,t)=>{ga.init(e,t),Xl.init(e,t)}),ac=wo('ZodXID',(e,t)=>{va.init(e,t),Xl.init(e,t)}),lc=wo('ZodKSUID',(e,t)=>{ya.init(e,t),Xl.init(e,t)}),cc=wo('ZodIPv4',(e,t)=>{Sa.init(e,t),Xl.init(e,t)}),uc=wo('ZodIPv6',(e,t)=>{Ea.init(e,t),Xl.init(e,t)}),dc=wo('ZodCIDRv4',(e,t)=>{xa.init(e,t),Xl.init(e,t)}),fc=wo('ZodCIDRv6',(e,t)=>{Ta.init(e,t),Xl.init(e,t)}),pc=wo('ZodBase64',(e,t)=>{Oa.init(e,t),Xl.init(e,t)}),hc=wo('ZodBase64URL',(e,t)=>{Aa.init(e,t),Xl.init(e,t)}),mc=wo('ZodE164',(e,t)=>{Ia.init(e,t),Xl.init(e,t)}),gc=wo('ZodJWT',(e,t)=>{Ca.init(e,t),Xl.init(e,t)}),vc=wo('ZodNumber',(e,t)=>{$a.init(e,t),Wl.init(e,t),e.gt=(t,n)=>e.check(yl(t,n)),e.gte=(t,n)=>e.check(bl(t,n)),e.min=(t,n)=>e.check(bl(t,n)),e.lt=(t,n)=>e.check(gl(t,n)),e.lte=(t,n)=>e.check(vl(t,n)),e.max=(t,n)=>e.check(vl(t,n)),e.int=t=>e.check(bc(t)),e.safe=t=>e.check(bc(t)),e.positive=t=>e.check(yl(0,t)),e.nonnegative=t=>e.check(bl(0,t)),e.negative=t=>e.check(gl(0,t)),e.nonpositive=t=>e.check(vl(0,t)),e.multipleOf=(t,n)=>e.check(_l(t,n)),e.step=(t,n)=>e.check(_l(t,n)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??'').includes('int')||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});const yc=wo('ZodNumberFormat',(e,t)=>{Da.init(e,t),vc.init(e,t)});function bc(e){return function(e,t){return new e({type:'number',check:'number_format',abort:!1,format:'safeint',...Vo(t)})}(yc,e)}const _c=wo('ZodBoolean',(e,t)=>{Pa.init(e,t),Wl.init(e,t)});function wc(e){return function(e,t){return new e({type:'boolean',...Vo(t)})}(_c,e)}const kc=wo('ZodUnknown',(e,t)=>{za.init(e,t),Wl.init(e,t)});function Sc(){return new kc({type:'unknown'})}const Ec=wo('ZodNever',(e,t)=>{ja.init(e,t),Wl.init(e,t)});function xc(e){return function(e,t){return new e({type:'never',...Vo(t)})}(Ec,e)}const Tc=wo('ZodArray',(e,t)=>{Ma.init(e,t),Wl.init(e,t),e.element=t.element,e.min=(t,n)=>e.check(kl(t,n)),e.nonempty=t=>e.check(kl(1,t)),e.max=(t,n)=>e.check(wl(t,n)),e.length=(t,n)=>e.check(Sl(t,n)),e.unwrap=()=>e.element});function Nc(e,t){return function(e,t,n){return new e({type:'array',element:t,...Vo(n)})}(Tc,e,t)}const Oc=wo('ZodObject',(e,t)=>{Va.init(e,t),Wl.init(e,t),Co(e,'shape',()=>t.shape),e.keyof=()=>Dc(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Sc()}),e.loose=()=>e.clone({...e._zod.def,catchall:Sc()}),e.strict=()=>e.clone({...e._zod.def,catchall:xc()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>function(e,t){if(!Mo(t))throw new Error('Invalid input to extend: expected a plain object');const n=e._zod.def.checks;if(n&&n.length>0)throw new Error('Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.');const s=Do(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return $o(this,'shape',n),n},checks:[]});return Uo(e,s)}(e,t),e.safeExtend=t=>function(e,t){if(!Mo(t))throw new Error('Invalid input to safeExtend: expected a plain object');const n={...e._zod.def,get shape(){const n={...e._zod.def.shape,...t};return $o(this,'shape',n),n},checks:e._zod.def.checks};return Uo(e,n)}(e,t),e.merge=t=>function(e,t){const n=Do(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return $o(this,'shape',n),n},get catchall(){return t._zod.def.catchall},checks:[]});return Uo(e,n)}(e,t),e.pick=t=>function(e,t){const n=e._zod.def;return Uo(e,Do(e._zod.def,{get shape(){const e={};for(const s in t){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&(e[s]=n.shape[s])}return $o(this,'shape',e),e},checks:[]}))}(e,t),e.omit=t=>function(e,t){const n=e._zod.def,s=Do(e._zod.def,{get shape(){const s={...e._zod.def.shape};for(const e in t){if(!(e in n.shape))throw new Error(`Unrecognized key: "${e}"`);t[e]&&delete s[e]}return $o(this,'shape',s),s},checks:[]});return Uo(e,s)}(e,t),e.partial=(...t)=>function(e,t,n){const s=Do(t._zod.def,{get shape(){const s=t._zod.def.shape,i={...s};if(n)for(const t in n){if(!(t in s))throw new Error(`Unrecognized key: "${t}"`);n[t]&&(i[t]=e?new e({type:'optional',innerType:s[t]}):s[t])}else for(const t in s)i[t]=e?new e({type:'optional',innerType:s[t]}):s[t];return $o(this,'shape',i),i},checks:[]});return Uo(t,s)}(zc,e,t[0]),e.required=(...t)=>function(e,t,n){const s=Do(t._zod.def,{get shape(){const s=t._zod.def.shape,i={...s};if(n)for(const t in n){if(!(t in i))throw new Error(`Unrecognized key: "${t}"`);n[t]&&(i[t]=new e({type:'nonoptional',innerType:s[t]}))}else for(const t in s)i[t]=new e({type:'nonoptional',innerType:s[t]});return $o(this,'shape',i),i},checks:[]});return Uo(t,s)}(Bc,e,t[0])});function Ac(e,t){const n={type:'object',shape:e??{},...Vo(t)};return new Oc(n)}const Ic=wo('ZodUnion',(e,t)=>{Za.init(e,t),Wl.init(e,t),e.options=t.options});const Cc=wo('ZodIntersection',(e,t)=>{qa.init(e,t),Wl.init(e,t)});const $c=wo('ZodEnum',(e,t)=>{Ha.init(e,t),Wl.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(e,s)=>{const i={};for(const o of e){if(!n.has(o))throw new Error(`Key ${o} not found in enum`);i[o]=t.entries[o]}return new $c({...t,checks:[],...Vo(s),entries:i})},e.exclude=(e,s)=>{const i={...t.entries};for(const t of e){if(!n.has(t))throw new Error(`Key ${t} not found in enum`);delete i[t]}return new $c({...t,checks:[],...Vo(s),entries:i})}});function Dc(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e;return new $c({type:'enum',entries:n,...Vo(t)})}const Pc=wo('ZodTransform',(e,t)=>{Ga.init(e,t),Wl.init(e,t),e._zod.parse=(n,s)=>{if('backward'===s.direction)throw new So(e.constructor.name);n.addIssue=s=>{if('string'==typeof s)n.issues.push(Go(s,n.value,t));else{const t=s;t.fatal&&(t.continue=!1),t.code??(t.code='custom'),t.input??(t.input=n.value),t.inst??(t.inst=e),n.issues.push(Go(t))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(e=>(n.value=e,n)):(n.value=i,n)}});const zc=wo('ZodOptional',(e,t)=>{Ja.init(e,t),Wl.init(e,t),e.unwrap=()=>e._zod.def.innerType});function jc(e){return new zc({type:'optional',innerType:e})}const Lc=wo('ZodNullable',(e,t)=>{Qa.init(e,t),Wl.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Mc(e){return new Lc({type:'nullable',innerType:e})}const Fc=wo('ZodDefault',(e,t)=>{el.init(e,t),Wl.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});const Rc=wo('ZodPrefault',(e,t)=>{nl.init(e,t),Wl.init(e,t),e.unwrap=()=>e._zod.def.innerType});const Bc=wo('ZodNonOptional',(e,t)=>{sl.init(e,t),Wl.init(e,t),e.unwrap=()=>e._zod.def.innerType});const Uc=wo('ZodCatch',(e,t)=>{ol.init(e,t),Wl.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});const Vc=wo('ZodPipe',(e,t)=>{rl.init(e,t),Wl.init(e,t),e.in=t.in,e.out=t.out});function Kc(e,t){return new Vc({type:'pipe',in:e,out:t})}const Zc=wo('ZodReadonly',(e,t)=>{ll.init(e,t),Wl.init(e,t),e.unwrap=()=>e._zod.def.innerType});const qc=wo('ZodCustom',(e,t)=>{ul.init(e,t),Wl.init(e,t)});const Wc=Ac({id:Gl(),enabled:wc(),name:Gl(),description:Gl(),order:function(e,t){return new e({type:'number',checks:[],...Vo(t)})}(vc,Yc),type:Dc(['number','text']).default('number')});var Yc;const Hc=Ac({time:Gl().optional(),place:Gl().optional(),weather:Gl().optional(),newsTitle:Gl().optional(),newsContent:Gl().optional()}),Gc=Ac({time:wc(),place:wc(),weather:wc(),news:wc()}),Xc=Ac({button_selected:wc().default(!1),panel_enabled:wc().default(!1),panel_position:Dc(['left','right']).default('right'),panel_collapsed:wc().default(!1),fields:Nc(Wc).default([{id:_o(),enabled:!0,name:'',description:'<char><user>, 0-100%, 0.5',order:0,type:'number'},{id:_o(),enabled:!0,name:'',description:'<char>\'\', 100',order:1,type:'text'}]),language:Dc(['zh-TW','zh-CN','en']).default('zh-TW'),progress_color_low:Gl().default('#d8b4a0'),progress_color_high:Gl().default('#a0b4d8'),debug_mode:wc().default(!1),custom_prompt:Hc.optional(),fixed_fields_enabled:Gc.default({time:!0,place:!0,weather:!0,news:!0})}).prefault({}),Jc='status_tracking';function Qc(e,t){const n=function(e,t){const n=e.safeParse(t);if(!n.success)throw Error(function(e){const t=[],n=[...e.issues].sort((e,t)=>(e.path??[]).length-(t.path??[]).length);for(const s of n)t.push(` ${s.message}`),s.path?.length&&t.push(`   at ${er(s.path)}`);return t.join('\n')}(n.error));return n.data}(e,t);return _.assign(t,n)}function eu(){try{return mu().settings.debug_mode}catch{return!1}}const tu=(...e)=>{eu()&&console.log('[myst]',...e)},nu=(...e)=>{eu()&&console.error('[myst]',...e)},su={time:',  yyyyMMddHHmm',place:',  123',weather:',  ',newsTitle:', , , , ',newsContent:',, 100'},iu={time:',  yyyyMMddHHmm',place:',  123',weather:',  ',newsTitle:', , , , ',newsContent:',, 100'},ou={time:'Current time, format: yyyy-MM-dd, Weekday, HH:mm',place:'Current story location, format: Location Layer 1 . Location Layer 2 . Location Layer 3',weather:'Current weather or environment temperature, format: Elegant description of light . Temperature . Weather',newsTitle:'Current event headline in society. Can be science news, viral forum posts, must be related to the plot or characters. A bit humorous and funny, must be different type from previous round, each round must have different type, use your imagination',newsContent:'The content of this event, if it\'s news then broadcast in news tone, if it\'s forum then use netizen internet speech tone, and so on. Within 100 words'};function ru(e,t='zh-TW',n={time:!0,place:!0,weather:!0,news:!0},s){const i=function(e,t,n){const s='en'===e?ou:'zh-CN'===e?iu:su,i=n||s,o='en'===e?'Status Bar:\nAfter all text, you must generate the following code block status bar:\n**Must be different from the previous round and output in English**':'zh-CN'===e?':\n  ():\n**, **':':\n  ():\n**, **',r=[];return t.time&&r.push(`time: \${${i.time||s.time}}`),t.place&&r.push(`place: \${${i.place||s.place}}`),t.weather&&r.push(`weather: \${${i.weather||s.weather}}`),t.news&&r.push(`news:\n  title: \${${i.newsTitle||s.newsTitle}}\n  content: \${${i.newsContent||s.newsContent}}`),`${o}\n\`\`\`myst\n${r.join('\n')}`}(t,n,s),o=e.filter(e=>e.enabled).map(e=>e.description&&e.description.trim()?`${e.name}: \${${e.description}}`:`${e.name}: \${${e.name}}`).join('\n');return o?`${i}\n${o}\n\`\`\``:`${i}\n\`\`\``}let au,lu=[],cu='zh-TW',uu={time:!0,place:!0,weather:!0,news:!0},du=!1;function fu(e,t='zh-TW',n={time:!0,place:!0,weather:!0,news:!0},s){lu=e,cu=t,uu=n,au=s,du=!0,tu('[promptGenerator]  Prompt ')}function pu(){if(!du)return void n('status-tracking-prompt','',s.IN_CHAT,0,!1);const e=ru(lu,cu,uu,au);tu('[promptGenerator]  Prompt '),n('status-tracking-prompt',e,s.IN_CHAT,0,!1,i.SYSTEM)}function hu(e){if('object'!=typeof e)return e;var t,n,s=Object.prototype.toString.call(e);if('[object Object]'===s){if(e.constructor!==Object&&'function'==typeof e.constructor)for(t in n=new e.constructor,e)e.hasOwnProperty(t)&&n[t]!==e[t]&&(n[t]=hu(e[t]));else for(t in n={},e)'__proto__'===t?Object.defineProperty(n,t,{value:hu(e[t]),configurable:!0,enumerable:!0,writable:!0}):n[t]=hu(e[t]);return n}if('[object Array]'===s){for(t=e.length,n=Array(t);t--;)n[t]=hu(e[t]);return n}return'[object Set]'===s?(n=new Set,e.forEach(function(e){n.add(hu(e))}),n):'[object Map]'===s?(n=new Map,e.forEach(function(e,t){n.set(hu(t),hu(e))}),n):'[object Date]'===s?new Date(+e):'[object RegExp]'===s?((n=new RegExp(e.source,e.flags)).lastIndex=e.lastIndex,n):'[object DataView]'===s?new e.constructor(hu(e.buffer)):'[object ArrayBuffer]'===s?e.slice(0):'Array]'===s.slice(-6)?new e.constructor(e):e}const mu=yo('settings',()=>{const e=_.get(r,Jc),t=void 0===e,n=Qc(Xc,e);t&&!n.custom_prompt&&(n.custom_prompt=su);const s=Lt(n);return Vn(s,e=>{_.set(r,Jc,hu(e)),o()},{deep:!0}),{settings:s}}),gu={'zh-TW':{'':'','':'','Debug ':'Debug ','':'','':'','':'','':'','':'','':'','':'','':'',English:'English','':'','':'','':'','':'','AI':'AI','':'','':'','':'','':'','':'','':'',' Prompt':' Prompt','Prompt ':'Prompt ',' Prompt':' Prompt',' Prompt':' Prompt','':'','':'','':'','':'','':'','':'','':'','':'','Prompt ':'Prompt ','':'','':''},'zh-CN':{'':'','':'','Debug ':'Debug ','':'','':'','':'','':'','':'','':'','':'','':'',English:'English','':'','':'','':'','':'','AI':'AI','':'','':'','':'','':'','':'','':'',' Prompt':' Prompt','Prompt ':'Prompt ',' Prompt':' Prompt',' Prompt':' Prompt','':'','':'','':'','':'','':'','':'','':'','':'','Prompt ':'Prompt ','':'','':''},en:{'':'Status Tracking','':'Enable Status Panel','Debug ':'Debug Mode','':'Extension Settings','':'Field Settings','':'Panel Position','':'Left','':'Right','':'Language','':'Traditional Chinese','':'Simplified Chinese',English:'English','':'THE NEWS','':'No fields configured. Please click the \'Field Settings\' button below.','':'Add Field','':'Field Name','AI':'Description to AI','':'Number','':'Text','':'Progress Bar Colors','':'Low Value Color','':'High Value Color','':'Preview',' Prompt':'Copy Prompt','Prompt ':'Prompt copied to clipboard',' Prompt':'Edit Prompts',' Prompt':'Edit Fixed Field Prompts','':'Time','':'Location','':'Weather','':'News Title','':'News Content','':'Restore Defaults','':'Save','':'General Settings','Prompt ':'Prompt Settings','':'Fixed Fields Settings','':'Custom Fields Settings'}},vu=yo('i18n',()=>{const e=mu(),t=oi(()=>e.settings.language);return{currentLanguage:t,t:function(e,...n){let s;s='string'==typeof e?e:e[0];const i=t.value,o=gu[i];return o&&o[s]?o[s]:s}}}),yu={class:'status-tracking-settings'},bu={class:'inline-drawer'},_u={class:'inline-drawer-toggle inline-drawer-header'},wu={class:'inline-drawer-content'},ku={class:'toggles-container'},Su={class:'toggle-item'},Eu={for:'status-tracking_enabled'},xu={class:'toggle-item'},Tu={for:'status-tracking_debug'},Nu=En({__name:'Panel',setup(e){const{settings:t}=bo(mu()),{t:n}=vu();return(e,s)=>(xs(),As('div',yu,[zs('div',bu,[zs('div',_u,[zs('b',null,ue(Ft(n)``),1),s[2]||(s[2]=zs('div',{class:'inline-drawer-icon fa-solid fa-circle-chevron-down down'},null,-1))]),zs('div',wu,[zs('div',ku,[zs('div',Su,[bn(zs('input',{id:'status-tracking_enabled','onUpdate:modelValue':s[0]||(s[0]=e=>Ft(t).panel_enabled=e),type:'checkbox'},null,512),[[Ui,Ft(t).panel_enabled]]),zs('label',Eu,ue(Ft(n)``),1)]),zs('div',xu,[bn(zs('input',{id:'status-tracking_debug','onUpdate:modelValue':s[1]||(s[1]=e=>Ft(t).debug_mode=e),type:'checkbox'},null,512),[[Ui,Ft(t).debug_mode]]),zs('label',Tu,ue(Ft(n)`Debug `),1)])]),s[3]||(s[3]=Fs('<hr class="sysHR"><div class="links-container"><a href="https://github.com/lilminzyu" target="_blank" class="menu_button link-button"><i class="fa-brands fa-github"></i> GitHub </a><a href="https://discord.gg/NFmesS7ubb" target="_blank" class="menu_button link-button"><i class="fa-brands fa-discord"></i> Discord </a></div>',2))])])]))}}),Ou=Gi(Nu),Au=so();Ou.use(Au);const Iu={install:e=>{e.config.globalProperties.t=l}};
/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function Cu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,s)}return n}function $u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cu(Object(n),!0).forEach(function(t){Pu(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Du(e){return Du='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},Du(e)}function Pu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zu(){return zu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},zu.apply(this,arguments)}function ju(e,t){if(null==e)return{};var n,s,i=function(e,t){if(null==e)return{};var n,s,i={},o=Object.keys(e);for(s=0;s<o.length;s++)n=o[s],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}Ou.use(Iu);function Lu(e){if('undefined'!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var Mu=Lu(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Fu=Lu(/Edge/i),Ru=Lu(/firefox/i),Bu=Lu(/safari/i)&&!Lu(/chrome/i)&&!Lu(/android/i),Uu=Lu(/iP(ad|od|hone)/i),Vu=Lu(/chrome/i)&&Lu(/android/i),Ku={capture:!1,passive:!1};function Zu(e,t,n){e.addEventListener(t,n,!Mu&&Ku)}function qu(e,t,n){e.removeEventListener(t,n,!Mu&&Ku)}function Wu(e,t){if(t){if('>'===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(_){return!1}return!1}}function Yu(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Hu(e,t,n,s){if(e){n=n||document;do{if(null!=t&&('>'===t[0]?e.parentNode===n&&Wu(e,t):Wu(e,t))||s&&e===n)return e;if(e===n)break}while(e=Yu(e))}return null}var Gu,Xu=/\s+/g;function Ju(e,t,n){if(e&&t)if(e.classList)e.classList[n?'add':'remove'](t);else{var s=(' '+e.className+' ').replace(Xu,' ').replace(' '+t+' ',' ');e.className=(s+(n?' '+t:'')).replace(Xu,' ')}}function Qu(e,t,n){var s=e&&e.style;if(s){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,''):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in s||-1!==t.indexOf('webkit')||(t='-webkit-'+t),s[t]=n+('string'==typeof n?'':'px')}}function ed(e,t){var n='';if('string'==typeof e)n=e;else do{var s=Qu(e,'transform');s&&'none'!==s&&(n=s+' '+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function td(e,t,n){if(e){var s=e.getElementsByTagName(t),i=0,o=s.length;if(n)for(;i<o;i++)n(s[i],i);return s}return[]}function nd(){var e=document.scrollingElement;return e||document.documentElement}function sd(e,t,n,s,i){if(e.getBoundingClientRect||e===window){var o,r,a,l,c,u,d;if(e!==window&&e.parentNode&&e!==nd()?(r=(o=e.getBoundingClientRect()).top,a=o.left,l=o.bottom,c=o.right,u=o.height,d=o.width):(r=0,a=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!Mu))do{if(i&&i.getBoundingClientRect&&('none'!==Qu(i,'transform')||n&&'static'!==Qu(i,'position'))){var f=i.getBoundingClientRect();r-=f.top+parseInt(Qu(i,'border-top-width')),a-=f.left+parseInt(Qu(i,'border-left-width')),l=r+o.height,c=a+o.width;break}}while(i=i.parentNode);if(s&&e!==window){var p=ed(i||e),h=p&&p.a,m=p&&p.d;p&&(l=(r/=m)+(u/=m),c=(a/=h)+(d/=h))}return{top:r,left:a,bottom:l,right:c,width:d,height:u}}}function id(e,t,n){for(var s=cd(e,!0),i=sd(e)[t];s;){if(!(i>=sd(s)[n]))return s;if(s===nd())break;s=cd(s,!1)}return!1}function od(e,t,n,s){for(var i=0,o=0,r=e.children;o<r.length;){if('none'!==r[o].style.display&&r[o]!==hf.ghost&&(s||r[o]!==hf.dragged)&&Hu(r[o],n.draggable,e,!1)){if(i===t)return r[o];i++}o++}return null}function rd(e,t){for(var n=e.lastElementChild;n&&(n===hf.ghost||'none'===Qu(n,'display')||t&&!Wu(n,t));)n=n.previousElementSibling;return n||null}function ad(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)'TEMPLATE'===e.nodeName.toUpperCase()||e===hf.clone||t&&!Wu(e,t)||n++;return n}function ld(e){var t=0,n=0,s=nd();if(e)do{var i=ed(e),o=i.a,r=i.d;t+=e.scrollLeft*o,n+=e.scrollTop*r}while(e!==s&&(e=e.parentNode));return[t,n]}function cd(e,t){if(!e||!e.getBoundingClientRect)return nd();var n=e,s=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=Qu(n);if(n.clientWidth<n.scrollWidth&&('auto'==i.overflowX||'scroll'==i.overflowX)||n.clientHeight<n.scrollHeight&&('auto'==i.overflowY||'scroll'==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return nd();if(s||t)return n;s=!0}}}while(n=n.parentNode);return nd()}function ud(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function dd(e,t){return function(){if(!Gu){var n=arguments;1===n.length?e.call(this,n[0]):e.apply(this,n),Gu=setTimeout(function(){Gu=void 0},t)}}}function fd(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function pd(e){var t=window.Polymer,$=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):$?$(e).clone(!0)[0]:e.cloneNode(!0)}function hd(e,t,n){var s={};return Array.from(e.children).forEach(function(i){var o,r,a,l;if(Hu(i,t.draggable,e,!1)&&!i.animated&&i!==n){var c=sd(i);s.left=Math.min(null!==(o=s.left)&&void 0!==o?o:1/0,c.left),s.top=Math.min(null!==(r=s.top)&&void 0!==r?r:1/0,c.top),s.right=Math.max(null!==(a=s.right)&&void 0!==a?a:-1/0,c.right),s.bottom=Math.max(null!==(l=s.bottom)&&void 0!==l?l:-1/0,c.bottom)}}),s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}var md='Sortable'+(new Date).getTime();function gd(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach(function(e){if('none'!==Qu(e,'display')&&e!==hf.ghost){t.push({target:e,rect:sd(e)});var n=$u({},t[t.length-1].rect);if(e.thisAnimationDuration){var s=ed(e,!0);s&&(n.top-=s.f,n.left-=s.e)}e.fromRect=n}})},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var s in t)if(t.hasOwnProperty(s)&&t[s]===e[n][s])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var s=this;if(!this.options.animation)return clearTimeout(e),void('function'==typeof n&&n());var i=!1,o=0;t.forEach(function(e){var t=0,n=e.target,r=n.fromRect,a=sd(n),l=n.prevFromRect,c=n.prevToRect,u=e.rect,d=ed(n,!0);d&&(a.top-=d.f,a.left-=d.e),n.toRect=a,n.thisAnimationDuration&&ud(l,a)&&!ud(r,a)&&(u.top-a.top)/(u.left-a.left)===(r.top-a.top)/(r.left-a.left)&&(t=function(e,t,n,s){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*s.animation}(u,l,c,s.options)),ud(a,r)||(n.prevFromRect=r,n.prevToRect=a,t||(t=s.options.animation),s.animate(n,u,a,t)),t&&(i=!0,o=Math.max(o,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout(function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null},t),n.thisAnimationDuration=t)}),clearTimeout(e),i?e=setTimeout(function(){'function'==typeof n&&n()},o):'function'==typeof n&&n(),t=[]},animate:function(e,t,n,s){if(s){Qu(e,'transition',''),Qu(e,'transform','');var i=ed(this.el),o=i&&i.a,r=i&&i.d,a=(t.left-n.left)/(o||1),l=(t.top-n.top)/(r||1);e.animatingX=!!a,e.animatingY=!!l,Qu(e,'transform','translate3d('+a+'px,'+l+'px,0)'),this.forRepaintDummy=function(e){return e.offsetWidth}(e),Qu(e,'transition','transform '+s+'ms'+(this.options.easing?' '+this.options.easing:'')),Qu(e,'transform','translate3d(0,0,0)'),'number'==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout(function(){Qu(e,'transition',''),Qu(e,'transform',''),e.animated=!1,e.animatingX=!1,e.animatingY=!1},s)}}}}var vd=[],yd={initializeByDefault:!0},bd={mount:function(e){for(var t in yd)yd.hasOwnProperty(t)&&!(t in e)&&(e[t]=yd[t]);vd.forEach(function(t){if(t.pluginName===e.pluginName)throw'Sortable: Cannot mount plugin '.concat(e.pluginName,' more than once')}),vd.push(e)},pluginEvent:function(e,t,n){var s=this;this.eventCanceled=!1,n.cancel=function(){s.eventCanceled=!0};var i=e+'Global';vd.forEach(function(s){t[s.pluginName]&&(t[s.pluginName][i]&&t[s.pluginName][i]($u({sortable:t},n)),t.options[s.pluginName]&&t[s.pluginName][e]&&t[s.pluginName][e]($u({sortable:t},n)))})},initializePlugins:function(e,t,n,s){for(var i in vd.forEach(function(s){var i=s.pluginName;if(e.options[i]||s.initializeByDefault){var o=new s(e,t,e.options);o.sortable=e,o.options=e.options,e[i]=o,zu(n,o.defaults)}}),e.options)if(e.options.hasOwnProperty(i)){var o=this.modifyOption(e,i,e.options[i]);void 0!==o&&(e.options[i]=o)}},getEventProperties:function(e,t){var n={};return vd.forEach(function(s){'function'==typeof s.eventProperties&&zu(n,s.eventProperties.call(t[s.pluginName],e))}),n},modifyOption:function(e,t,n){var s;return vd.forEach(function(i){e[i.pluginName]&&i.optionListeners&&'function'==typeof i.optionListeners[t]&&(s=i.optionListeners[t].call(e[i.pluginName],n))}),s}};var _d=['evt'],wd=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=n.evt,i=ju(n,_d);bd.pluginEvent.bind(hf)(e,t,$u({dragEl:Sd,parentEl:Ed,ghostEl:xd,rootEl:Td,nextEl:Nd,lastDownEl:Od,cloneEl:Ad,cloneHidden:Id,dragStarted:Vd,putSortable:jd,activeSortable:hf.active,originalEvent:s,oldIndex:Cd,oldDraggableIndex:Dd,newIndex:$d,newDraggableIndex:Pd,hideGhostForTarget:uf,unhideGhostForTarget:df,cloneNowHidden:function(){Id=!0},cloneNowShown:function(){Id=!1},dispatchSortableEvent:function(e){kd({sortable:t,name:e,originalEvent:s})}},i))};function kd(e){!function(e){var t=e.sortable,n=e.rootEl,s=e.name,i=e.targetEl,o=e.cloneEl,r=e.toEl,a=e.fromEl,l=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,d=e.newDraggableIndex,f=e.originalEvent,p=e.putSortable,h=e.extraEventProperties;if(t=t||n&&n[md]){var m,g=t.options,v='on'+s.charAt(0).toUpperCase()+s.substr(1);!window.CustomEvent||Mu||Fu?(m=document.createEvent('Event')).initEvent(s,!0,!0):m=new CustomEvent(s,{bubbles:!0,cancelable:!0}),m.to=r||n,m.from=a||n,m.item=i||n,m.clone=o,m.oldIndex=l,m.newIndex=c,m.oldDraggableIndex=u,m.newDraggableIndex=d,m.originalEvent=f,m.pullMode=p?p.lastPutMode:void 0;var y=$u($u({},h),bd.getEventProperties(s,t));for(var b in y)m[b]=y[b];n&&n.dispatchEvent(m),g[v]&&g[v].call(t,m)}}($u({putSortable:jd,cloneEl:Ad,targetEl:Sd,rootEl:Td,oldIndex:Cd,oldDraggableIndex:Dd,newIndex:$d,newDraggableIndex:Pd},e))}var Sd,Ed,xd,Td,Nd,Od,Ad,Id,Cd,$d,Dd,Pd,zd,jd,Ld,Md,Fd,Rd,Bd,Ud,Vd,Kd,Zd,qd,Wd,Yd=!1,Hd=!1,Gd=[],Xd=!1,Jd=!1,Qd=[],ef=!1,tf=[],nf='undefined'!=typeof document,sf=Uu,of=Fu||Mu?'cssFloat':'float',rf=nf&&!Vu&&!Uu&&'draggable'in document.createElement('div'),af=function(){if(nf){if(Mu)return!1;var e=document.createElement('x');return e.style.cssText='pointer-events:auto','auto'===e.style.pointerEvents}}(),lf=function(e,t){var n=Qu(e),s=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=od(e,0,t),o=od(e,1,t),r=i&&Qu(i),a=o&&Qu(o),l=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+sd(i).width,c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+sd(o).width;if('flex'===n.display)return'column'===n.flexDirection||'column-reverse'===n.flexDirection?'vertical':'horizontal';if('grid'===n.display)return n.gridTemplateColumns.split(' ').length<=1?'vertical':'horizontal';if(i&&r.float&&'none'!==r.float){var u='left'===r.float?'left':'right';return!o||'both'!==a.clear&&a.clear!==u?'horizontal':'vertical'}return i&&('block'===r.display||'flex'===r.display||'table'===r.display||'grid'===r.display||l>=s&&'none'===n[of]||o&&'none'===n[of]&&l+c>s)?'vertical':'horizontal'},cf=function(e){function t(e,n){return function(s,i,o,r){var a=s.options.group.name&&i.options.group.name&&s.options.group.name===i.options.group.name;if(null==e&&(n||a))return!0;if(null==e||!1===e)return!1;if(n&&'clone'===e)return e;if('function'==typeof e)return t(e(s,i,o,r),n)(s,i,o,r);var l=(n?s:i).options.group.name;return!0===e||'string'==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},s=e.group;s&&'object'==Du(s)||(s={name:s}),n.name=s.name,n.checkPull=t(s.pull,!0),n.checkPut=t(s.put),n.revertClone=s.revertClone,e.group=n},uf=function(){!af&&xd&&Qu(xd,'display','none')},df=function(){!af&&xd&&Qu(xd,'display','')};nf&&!Vu&&document.addEventListener('click',function(e){if(Hd)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Hd=!1,!1},!0);var ff=function(e){if(Sd){e=e.touches?e.touches[0]:e;var t=(i=e.clientX,o=e.clientY,Gd.some(function(e){var t=e[md].options.emptyInsertThreshold;if(t&&!rd(e)){var n=sd(e),s=i>=n.left-t&&i<=n.right+t,a=o>=n.top-t&&o<=n.bottom+t;return s&&a?r=e:void 0}}),r);if(t){var n={};for(var s in e)e.hasOwnProperty(s)&&(n[s]=e[s]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[md]._onDragOver(n)}}var i,o,r},pf=function(e){Sd&&Sd.parentNode[md]._isOutsideThisEl(e.target)};function hf(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw'Sortable: `el` must be an HTMLElement, not '.concat({}.toString.call(e));this.el=e,this.options=t=zu({},t),e[md]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?'>li':'>*',swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return lf(e,this.options)},ghostClass:'sortable-ghost',chosenClass:'sortable-chosen',dragClass:'sortable-drag',ignore:'a, img',filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData('Text',t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:'data-id',delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:'sortable-fallback',fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==hf.supportPointer&&'PointerEvent'in window&&(!Bu||Uu),emptyInsertThreshold:5};for(var s in bd.initializePlugins(this,e,n),n)!(s in t)&&(t[s]=n[s]);for(var i in cf(t),this)'_'===i.charAt(0)&&'function'==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&rf,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Zu(e,'pointerdown',this._onTapStart):(Zu(e,'mousedown',this._onTapStart),Zu(e,'touchstart',this._onTapStart)),this.nativeDraggable&&(Zu(e,'dragover',this),Zu(e,'dragenter',this)),Gd.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),zu(this,gd())}function mf(e,t,n,s,i,o,r,a){var l,c,u=e[md],d=u.options.onMove;return!window.CustomEvent||Mu||Fu?(l=document.createEvent('Event')).initEvent('move',!0,!0):l=new CustomEvent('move',{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=s,l.related=i||t,l.relatedRect=o||sd(t),l.willInsertAfter=a,l.originalEvent=r,e.dispatchEvent(l),d&&(c=d.call(u,l,r)),c}function gf(e){e.draggable=!1}function vf(){ef=!1}function yf(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,s=0;n--;)s+=t.charCodeAt(n);return s.toString(36)}function bf(e){return setTimeout(e,0)}function _f(e){return clearTimeout(e)}hf.prototype={constructor:hf,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(Kd=null)},_getDirection:function(e,t){return'function'==typeof this.options.direction?this.options.direction.call(this,e,t,Sd):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,s=this.options,i=s.preventOnFilter,o=e.type,r=e.touches&&e.touches[0]||e.pointerType&&'touch'===e.pointerType&&e,a=(r||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,c=s.filter;if(function(e){tf.length=0;var t=e.getElementsByTagName('input'),n=t.length;for(;n--;){var s=t[n];s.checked&&tf.push(s)}}(n),!Sd&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||s.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!Bu||!a||'SELECT'!==a.tagName.toUpperCase())&&!((a=Hu(a,s.draggable,n,!1))&&a.animated||Od===a)){if(Cd=ad(a),Dd=ad(a,s.draggable),'function'==typeof c){if(c.call(this,e,a,this))return kd({sortable:t,rootEl:l,name:'filter',targetEl:a,toEl:n,fromEl:n}),wd('filter',t,{evt:e}),void(i&&e.preventDefault())}else if(c&&(c=c.split(',').some(function(s){if(s=Hu(l,s.trim(),n,!1))return kd({sortable:t,rootEl:s,name:'filter',targetEl:a,fromEl:n,toEl:n}),wd('filter',t,{evt:e}),!0})))return void(i&&e.preventDefault());s.handle&&!Hu(l,s.handle,n,!1)||this._prepareDragStart(e,r,a)}}},_prepareDragStart:function(e,t,n){var s,i=this,o=i.el,r=i.options,a=o.ownerDocument;if(n&&!Sd&&n.parentNode===o){var l=sd(n);if(Td=o,Ed=(Sd=n).parentNode,Nd=Sd.nextSibling,Od=n,zd=r.group,hf.dragged=Sd,Ld={target:Sd,clientX:(t||e).clientX,clientY:(t||e).clientY},Bd=Ld.clientX-l.left,Ud=Ld.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Sd.style['will-change']='all',s=function(){wd('delayEnded',i,{evt:e}),hf.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!Ru&&i.nativeDraggable&&(Sd.draggable=!0),i._triggerDragStart(e,t),kd({sortable:i,name:'choose',originalEvent:e}),Ju(Sd,r.chosenClass,!0))},r.ignore.split(',').forEach(function(e){td(Sd,e.trim(),gf)}),Zu(a,'dragover',ff),Zu(a,'mousemove',ff),Zu(a,'touchmove',ff),r.supportPointer?(Zu(a,'pointerup',i._onDrop),!this.nativeDraggable&&Zu(a,'pointercancel',i._onDrop)):(Zu(a,'mouseup',i._onDrop),Zu(a,'touchend',i._onDrop),Zu(a,'touchcancel',i._onDrop)),Ru&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Sd.draggable=!0),wd('delayStart',this,{evt:e}),!r.delay||r.delayOnTouchOnly&&!t||this.nativeDraggable&&(Fu||Mu))s();else{if(hf.eventCanceled)return void this._onDrop();r.supportPointer?(Zu(a,'pointerup',i._disableDelayedDrag),Zu(a,'pointercancel',i._disableDelayedDrag)):(Zu(a,'mouseup',i._disableDelayedDrag),Zu(a,'touchend',i._disableDelayedDrag),Zu(a,'touchcancel',i._disableDelayedDrag)),Zu(a,'mousemove',i._delayedDragTouchMoveHandler),Zu(a,'touchmove',i._delayedDragTouchMoveHandler),r.supportPointer&&Zu(a,'pointermove',i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(s,r.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Sd&&gf(Sd),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;qu(e,'mouseup',this._disableDelayedDrag),qu(e,'touchend',this._disableDelayedDrag),qu(e,'touchcancel',this._disableDelayedDrag),qu(e,'pointerup',this._disableDelayedDrag),qu(e,'pointercancel',this._disableDelayedDrag),qu(e,'mousemove',this._delayedDragTouchMoveHandler),qu(e,'touchmove',this._delayedDragTouchMoveHandler),qu(e,'pointermove',this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||'touch'==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?Zu(document,'pointermove',this._onTouchMove):Zu(document,t?'touchmove':'mousemove',this._onTouchMove):(Zu(Sd,'dragend',this),Zu(Td,'dragstart',this._onDragStart));try{document.selection?bf(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(Yd=!1,Td&&Sd){wd('dragStarted',this,{evt:t}),this.nativeDraggable&&Zu(document,'dragover',pf);var n=this.options;!e&&Ju(Sd,n.dragClass,!1),Ju(Sd,n.ghostClass,!0),hf.active=this,e&&this._appendGhost(),kd({sortable:this,name:'start',originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Md){this._lastX=Md.clientX,this._lastY=Md.clientY,uf();for(var e=document.elementFromPoint(Md.clientX,Md.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Md.clientX,Md.clientY))!==t;)t=e;if(Sd.parentNode[md]._isOutsideThisEl(e),t)do{if(t[md]){if(t[md]._onDragOver({clientX:Md.clientX,clientY:Md.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=Yu(t));df()}},_onTouchMove:function(e){if(Ld){var t=this.options,n=t.fallbackTolerance,s=t.fallbackOffset,i=e.touches?e.touches[0]:e,o=xd&&ed(xd,!0),r=xd&&o&&o.a,a=xd&&o&&o.d,l=sf&&Wd&&ld(Wd),c=(i.clientX-Ld.clientX+s.x)/(r||1)+(l?l[0]-Qd[0]:0)/(r||1),u=(i.clientY-Ld.clientY+s.y)/(a||1)+(l?l[1]-Qd[1]:0)/(a||1);if(!hf.active&&!Yd){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(xd){o?(o.e+=c-(Fd||0),o.f+=u-(Rd||0)):o={a:1,b:0,c:0,d:1,e:c,f:u};var d='matrix('.concat(o.a,',').concat(o.b,',').concat(o.c,',').concat(o.d,',').concat(o.e,',').concat(o.f,')');Qu(xd,'webkitTransform',d),Qu(xd,'mozTransform',d),Qu(xd,'msTransform',d),Qu(xd,'transform',d),Fd=c,Rd=u,Md=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!xd){var e=this.options.fallbackOnBody?document.body:Td,t=sd(Sd,!0,sf,!0,e),n=this.options;if(sf){for(Wd=e;'static'===Qu(Wd,'position')&&'none'===Qu(Wd,'transform')&&Wd!==document;)Wd=Wd.parentNode;Wd!==document.body&&Wd!==document.documentElement?(Wd===document&&(Wd=nd()),t.top+=Wd.scrollTop,t.left+=Wd.scrollLeft):Wd=nd(),Qd=ld(Wd)}Ju(xd=Sd.cloneNode(!0),n.ghostClass,!1),Ju(xd,n.fallbackClass,!0),Ju(xd,n.dragClass,!0),Qu(xd,'transition',''),Qu(xd,'transform',''),Qu(xd,'box-sizing','border-box'),Qu(xd,'margin',0),Qu(xd,'top',t.top),Qu(xd,'left',t.left),Qu(xd,'width',t.width),Qu(xd,'height',t.height),Qu(xd,'opacity','0.8'),Qu(xd,'position',sf?'absolute':'fixed'),Qu(xd,'zIndex','100000'),Qu(xd,'pointerEvents','none'),hf.ghost=xd,e.appendChild(xd),Qu(xd,'transform-origin',Bd/parseInt(xd.style.width)*100+'% '+Ud/parseInt(xd.style.height)*100+'%')}},_onDragStart:function(e,t){var n=this,s=e.dataTransfer,i=n.options;wd('dragStart',this,{evt:e}),hf.eventCanceled?this._onDrop():(wd('setupClone',this),hf.eventCanceled||((Ad=pd(Sd)).removeAttribute('id'),Ad.draggable=!1,Ad.style['will-change']='',this._hideClone(),Ju(Ad,this.options.chosenClass,!1),hf.clone=Ad),n.cloneId=bf(function(){wd('clone',n),hf.eventCanceled||(n.options.removeCloneOnHide||Td.insertBefore(Ad,Sd),n._hideClone(),kd({sortable:n,name:'clone'}))}),!t&&Ju(Sd,i.dragClass,!0),t?(Hd=!0,n._loopId=setInterval(n._emulateDragOver,50)):(qu(document,'mouseup',n._onDrop),qu(document,'touchend',n._onDrop),qu(document,'touchcancel',n._onDrop),s&&(s.effectAllowed='move',i.setData&&i.setData.call(n,s,Sd)),Zu(document,'drop',n),Qu(Sd,'transform','translateZ(0)')),Yd=!0,n._dragStartId=bf(n._dragStarted.bind(n,t,e)),Zu(document,'selectstart',n),Vd=!0,window.getSelection().removeAllRanges(),Bu&&Qu(document.body,'user-select','none'))},_onDragOver:function(e){var t,n,s,i,o=this.el,r=e.target,a=this.options,l=a.group,c=hf.active,u=zd===l,d=a.sort,f=jd||c,p=this,h=!1;if(!ef){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),r=Hu(r,a.draggable,o,!0),I('dragOver'),hf.eventCanceled)return h;if(Sd.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||p._ignoreWhileAnimating===r)return D(!1);if(Hd=!1,c&&!a.disabled&&(u?d||(s=Ed!==Td):jd===this||(this.lastPutMode=zd.checkPull(this,c,Sd,e))&&l.checkPut(this,c,Sd,e))){if(i='vertical'===this._getDirection(e,r),t=sd(Sd),I('dragOverValid'),hf.eventCanceled)return h;if(s)return Ed=Td,C(),this._hideClone(),I('revert'),hf.eventCanceled||(Nd?Td.insertBefore(Sd,Nd):Td.appendChild(Sd)),D(!0);var m=rd(o,a.draggable);if(!m||function(e,t,n){var s=sd(rd(n.el,n.options.draggable)),i=hd(n.el,n.options,xd),o=10;return t?e.clientX>i.right+o||e.clientY>s.bottom&&e.clientX>s.left:e.clientY>i.bottom+o||e.clientX>s.right&&e.clientY>s.top}(e,i,this)&&!m.animated){if(m===Sd)return D(!1);if(m&&o===e.target&&(r=m),r&&(n=sd(r)),!1!==mf(Td,o,Sd,t,r,n,e,!!r))return C(),m&&m.nextSibling?o.insertBefore(Sd,m.nextSibling):o.appendChild(Sd),Ed=o,P(),D(!0)}else if(m&&function(e,t,n){var s=sd(od(n.el,0,n.options,!0)),i=hd(n.el,n.options,xd),o=10;return t?e.clientX<i.left-o||e.clientY<s.top&&e.clientX<s.right:e.clientY<i.top-o||e.clientY<s.bottom&&e.clientX<s.left}(e,i,this)){var g=od(o,0,a,!0);if(g===Sd)return D(!1);if(n=sd(r=g),!1!==mf(Td,o,Sd,t,r,n,e,!1))return C(),o.insertBefore(Sd,g),Ed=o,P(),D(!0)}else if(r.parentNode===o){n=sd(r);var v,y,b,w=Sd.parentNode!==o,k=!function(e,t,n){var s=n?e.left:e.top,i=n?e.right:e.bottom,o=n?e.width:e.height,r=n?t.left:t.top,a=n?t.right:t.bottom,l=n?t.width:t.height;return s===r||i===a||s+o/2===r+l/2}(Sd.animated&&Sd.toRect||t,r.animated&&r.toRect||n,i),S=i?'top':'left',E=id(r,'top','top')||id(Sd,'top','top'),x=E?E.scrollTop:void 0;if(Kd!==r&&(y=n[S],Xd=!1,Jd=!k&&a.invertSwap||w),v=function(e,t,n,s,i,o,r,a){var l=s?e.clientY:e.clientX,c=s?n.height:n.width,u=s?n.top:n.left,d=s?n.bottom:n.right,f=!1;if(!r)if(a&&qd<c*i){if(!Xd&&(1===Zd?l>u+c*o/2:l<d-c*o/2)&&(Xd=!0),Xd)f=!0;else if(1===Zd?l<u+qd:l>d-qd)return-Zd}else if(l>u+c*(1-i)/2&&l<d-c*(1-i)/2)return function(e){return ad(Sd)<ad(e)?1:-1}(t);if((f=f||r)&&(l<u+c*o/2||l>d-c*o/2))return l>u+c/2?1:-1;return 0}(e,r,n,i,k?1:a.swapThreshold,null==a.invertedSwapThreshold?a.swapThreshold:a.invertedSwapThreshold,Jd,Kd===r),0!==v){var T=ad(Sd);do{T-=v,b=Ed.children[T]}while(b&&('none'===Qu(b,'display')||b===xd))}if(0===v||b===r)return D(!1);Kd=r,Zd=v;var N=r.nextElementSibling,O=!1,A=mf(Td,o,Sd,t,r,n,e,O=1===v);if(!1!==A)return 1!==A&&-1!==A||(O=1===A),ef=!0,setTimeout(vf,30),C(),O&&!N?o.appendChild(Sd):r.parentNode.insertBefore(Sd,O?N:r),E&&fd(E,0,x-E.scrollTop),Ed=Sd.parentNode,void 0===y||Jd||(qd=Math.abs(y-sd(r)[S])),P(),D(!0)}if(o.contains(Sd))return D(!1)}return!1}function I(a,l){wd(a,p,$u({evt:e,isOwner:u,axis:i?'vertical':'horizontal',revert:s,dragRect:t,targetRect:n,canSort:d,fromSortable:f,target:r,completed:D,onMove:function(n,s){return mf(Td,o,Sd,t,n,sd(n),e,s)},changed:P},l))}function C(){I('dragOverAnimationCapture'),p.captureAnimationState(),p!==f&&f.captureAnimationState()}function D(t){return I('dragOverCompleted',{insertion:t}),t&&(u?c._hideClone():c._showClone(p),p!==f&&(Ju(Sd,jd?jd.options.ghostClass:c.options.ghostClass,!1),Ju(Sd,a.ghostClass,!0)),jd!==p&&p!==hf.active?jd=p:p===hf.active&&jd&&(jd=null),f===p&&(p._ignoreWhileAnimating=r),p.animateAll(function(){I('dragOverAnimationComplete'),p._ignoreWhileAnimating=null}),p!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(r===Sd&&!Sd.animated||r===o&&!r.animated)&&(Kd=null),a.dragoverBubble||e.rootEl||r===document||(Sd.parentNode[md]._isOutsideThisEl(e.target),!t&&ff(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),h=!0}function P(){$d=ad(Sd),Pd=ad(Sd,a.draggable),kd({sortable:p,name:'change',toEl:o,newIndex:$d,newDraggableIndex:Pd,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){qu(document,'mousemove',this._onTouchMove),qu(document,'touchmove',this._onTouchMove),qu(document,'pointermove',this._onTouchMove),qu(document,'dragover',ff),qu(document,'mousemove',ff),qu(document,'touchmove',ff)},_offUpEvents:function(){var e=this.el.ownerDocument;qu(e,'mouseup',this._onDrop),qu(e,'touchend',this._onDrop),qu(e,'pointerup',this._onDrop),qu(e,'pointercancel',this._onDrop),qu(e,'touchcancel',this._onDrop),qu(document,'selectstart',this)},_onDrop:function(e){var t=this.el,n=this.options;$d=ad(Sd),Pd=ad(Sd,n.draggable),wd('drop',this,{evt:e}),Ed=Sd&&Sd.parentNode,$d=ad(Sd),Pd=ad(Sd,n.draggable),hf.eventCanceled||(Yd=!1,Jd=!1,Xd=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),_f(this.cloneId),_f(this._dragStartId),this.nativeDraggable&&(qu(document,'drop',this),qu(t,'dragstart',this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Bu&&Qu(document.body,'user-select',''),Qu(Sd,'transform',''),e&&(Vd&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),xd&&xd.parentNode&&xd.parentNode.removeChild(xd),(Td===Ed||jd&&'clone'!==jd.lastPutMode)&&Ad&&Ad.parentNode&&Ad.parentNode.removeChild(Ad),Sd&&(this.nativeDraggable&&qu(Sd,'dragend',this),gf(Sd),Sd.style['will-change']='',Vd&&!Yd&&Ju(Sd,jd?jd.options.ghostClass:this.options.ghostClass,!1),Ju(Sd,this.options.chosenClass,!1),kd({sortable:this,name:'unchoose',toEl:Ed,newIndex:null,newDraggableIndex:null,originalEvent:e}),Td!==Ed?($d>=0&&(kd({rootEl:Ed,name:'add',toEl:Ed,fromEl:Td,originalEvent:e}),kd({sortable:this,name:'remove',toEl:Ed,originalEvent:e}),kd({rootEl:Ed,name:'sort',toEl:Ed,fromEl:Td,originalEvent:e}),kd({sortable:this,name:'sort',toEl:Ed,originalEvent:e})),jd&&jd.save()):$d!==Cd&&$d>=0&&(kd({sortable:this,name:'update',toEl:Ed,originalEvent:e}),kd({sortable:this,name:'sort',toEl:Ed,originalEvent:e})),hf.active&&(null!=$d&&-1!==$d||($d=Cd,Pd=Dd),kd({sortable:this,name:'end',toEl:Ed,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){wd('nulling',this),Td=Sd=Ed=xd=Nd=Ad=Od=Id=Ld=Md=Vd=$d=Pd=Cd=Dd=Kd=Zd=jd=zd=hf.dragged=hf.ghost=hf.clone=hf.active=null,tf.forEach(function(e){e.checked=!0}),tf.length=Fd=Rd=0},handleEvent:function(e){switch(e.type){case'drop':case'dragend':this._onDrop(e);break;case'dragenter':case'dragover':Sd&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect='move');e.cancelable&&e.preventDefault()}(e));break;case'selectstart':e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,s=0,i=n.length,o=this.options;s<i;s++)Hu(e=n[s],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||yf(e));return t},sort:function(e,t){var n={},s=this.el;this.toArray().forEach(function(e,t){var i=s.children[t];Hu(i,this.options.draggable,s,!1)&&(n[e]=i)},this),t&&this.captureAnimationState(),e.forEach(function(e){n[e]&&(s.removeChild(n[e]),s.appendChild(n[e]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Hu(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var s=bd.modifyOption(this,e,t);n[e]=void 0!==s?s:t,'group'===e&&cf(n)},destroy:function(){wd('destroy',this);var e=this.el;e[md]=null,qu(e,'mousedown',this._onTapStart),qu(e,'touchstart',this._onTapStart),qu(e,'pointerdown',this._onTapStart),this.nativeDraggable&&(qu(e,'dragover',this),qu(e,'dragenter',this)),Array.prototype.forEach.call(e.querySelectorAll('[draggable]'),function(e){e.removeAttribute('draggable')}),this._onDrop(),this._disableDelayedDragEvents(),Gd.splice(Gd.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Id){if(wd('hideClone',this),hf.eventCanceled)return;Qu(Ad,'display','none'),this.options.removeCloneOnHide&&Ad.parentNode&&Ad.parentNode.removeChild(Ad),Id=!0}},_showClone:function(e){if('clone'===e.lastPutMode){if(Id){if(wd('showClone',this),hf.eventCanceled)return;Sd.parentNode!=Td||this.options.group.revertClone?Nd?Td.insertBefore(Ad,Nd):Td.appendChild(Ad):Td.insertBefore(Ad,Sd),this.options.group.revertClone&&this.animate(Sd,Ad),Qu(Ad,'display',''),Id=!1}}else this._hideClone()}},nf&&Zu(document,'touchmove',function(e){(hf.active||Yd)&&e.cancelable&&e.preventDefault()}),hf.utils={on:Zu,off:qu,css:Qu,find:td,is:function(e,t){return!!Hu(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:dd,closest:Hu,toggleClass:Ju,clone:pd,index:ad,nextTick:bf,cancelNextTick:_f,detectDirection:lf,getChild:od,expando:md},hf.get=function(e){return e[md]},hf.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(e){if(!e.prototype||!e.prototype.constructor)throw'Sortable: Mounted plugin must be a constructor function, not '.concat({}.toString.call(e));e.utils&&(hf.utils=$u($u({},hf.utils),e.utils)),bd.mount(e)})},hf.create=function(e,t){return new hf(e,t)},hf.version='1.15.6';var wf,kf,Sf,Ef,xf,Tf,Nf=[],Of=!1;function Af(){Nf.forEach(function(e){clearInterval(e.pid)}),Nf=[]}function If(){clearInterval(Tf)}var Cf=dd(function(e,t,n,s){if(t.scroll){var i,o=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,l=t.scrollSpeed,c=nd(),u=!1;kf!==n&&(kf=n,Af(),wf=t.scroll,i=t.scrollFn,!0===wf&&(wf=cd(n,!0)));var d=0,f=wf;do{var p=f,h=sd(p),m=h.top,g=h.bottom,v=h.left,y=h.right,b=h.width,w=h.height,k=void 0,S=void 0,E=p.scrollWidth,x=p.scrollHeight,T=Qu(p),N=p.scrollLeft,O=p.scrollTop;p===c?(k=b<E&&('auto'===T.overflowX||'scroll'===T.overflowX||'visible'===T.overflowX),S=w<x&&('auto'===T.overflowY||'scroll'===T.overflowY||'visible'===T.overflowY)):(k=b<E&&('auto'===T.overflowX||'scroll'===T.overflowX),S=w<x&&('auto'===T.overflowY||'scroll'===T.overflowY));var A=k&&(Math.abs(y-o)<=a&&N+b<E)-(Math.abs(v-o)<=a&&!!N),I=S&&(Math.abs(g-r)<=a&&O+w<x)-(Math.abs(m-r)<=a&&!!O);if(!Nf[d])for(var C=0;C<=d;C++)Nf[C]||(Nf[C]={});Nf[d].vx==A&&Nf[d].vy==I&&Nf[d].el===p||(Nf[d].el=p,Nf[d].vx=A,Nf[d].vy=I,clearInterval(Nf[d].pid),0==A&&0==I||(u=!0,Nf[d].pid=setInterval(function(){s&&0===this.layer&&hf.active._onTouchMove(xf);var t=Nf[this.layer].vy?Nf[this.layer].vy*l:0,n=Nf[this.layer].vx?Nf[this.layer].vx*l:0;'function'==typeof i&&'continue'!==i.call(hf.dragged.parentNode[md],n,t,e,xf,Nf[this.layer].el)||fd(Nf[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&f!==c&&(f=cd(f,!1)));Of=u}},30),$f=function(e){var t=e.originalEvent,n=e.putSortable,s=e.dragEl,i=e.activeSortable,o=e.dispatchSortableEvent,r=e.hideGhostForTarget,a=e.unhideGhostForTarget;if(t){var l=n||i;r();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);a(),l&&!l.el.contains(u)&&(o('spill'),this.onSpill({dragEl:s,putSortable:n}))}};function Df(){}function Pf(){}Df.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var s=od(this.sortable.el,this.startIndex,this.options);s?this.sortable.el.insertBefore(t,s):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:$f},zu(Df,{pluginName:'revertOnSpill'}),Pf.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:$f},zu(Pf,{pluginName:'removeOnSpill'}),hf.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)'_'===e.charAt(0)&&'function'==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?Zu(document,'dragover',this._handleAutoScroll):this.options.supportPointer?Zu(document,'pointermove',this._handleFallbackAutoScroll):t.touches?Zu(document,'touchmove',this._handleFallbackAutoScroll):Zu(document,'mousemove',this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?qu(document,'dragover',this._handleAutoScroll):(qu(document,'pointermove',this._handleFallbackAutoScroll),qu(document,'touchmove',this._handleFallbackAutoScroll),qu(document,'mousemove',this._handleFallbackAutoScroll)),If(),Af(),clearTimeout(Gu),Gu=void 0},nulling:function(){xf=kf=wf=Of=Tf=Sf=Ef=null,Nf.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,s=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(s,i);if(xf=e,t||this.options.forceAutoScrollFallback||Fu||Mu||Bu){Cf(e,this.options,o,t);var r=cd(o,!0);!Of||Tf&&s===Sf&&i===Ef||(Tf&&If(),Tf=setInterval(function(){var o=cd(document.elementFromPoint(s,i),!0);o!==r&&(r=o,Af()),Cf(e,n.options,o,t)},10),Sf=s,Ef=i)}else{if(!this.options.bubbleScroll||cd(o,!0)===nd())return void Af();Cf(e,this.options,cd(o,!1),!1)}}},zu(e,{pluginName:'scroll',initializeByDefault:!0})}),hf.mount(Pf,Df);const zf={class:'field-item'},jf=['checked'],Lf=['value','placeholder'],Mf=['value','placeholder'],Ff=['checked'],Rf=['checked'],Bf=En({__name:'FieldItem',props:{field:{}},emits:['update:enabled','update:name','update:description','update:type','delete'],setup(e){const{t:t}=vu();return(n,s)=>(xs(),As('div',zf,[s[7]||(s[7]=zs('div',{class:'drag-handle'},[zs('i',{class:'fa-solid fa-grip-vertical'})],-1)),zs('input',{type:'checkbox',checked:e.field.enabled,onChange:s[0]||(s[0]=e=>n.$emit('update:enabled',e.target.checked))},null,40,jf),zs('input',{type:'text',class:'text_pole field_key',value:e.field.name,placeholder:Ft(t)``,onInput:s[1]||(s[1]=e=>n.$emit('update:name',e.target.value))},null,40,Lf),zs('input',{type:'text',class:'text_pole field_value',value:e.field.description,placeholder:Ft(t)`AI`,onInput:s[2]||(s[2]=e=>n.$emit('update:description',e.target.value))},null,40,Mf),zs('label',null,[zs('input',{type:'radio',checked:'number'===e.field.type,onChange:s[3]||(s[3]=e=>n.$emit('update:type','number'))},null,40,Ff),Ms(' '+ue(Ft(t)``),1)]),zs('label',null,[zs('input',{type:'radio',checked:'text'===e.field.type,onChange:s[4]||(s[4]=e=>n.$emit('update:type','text'))},null,40,Rf),Ms(' '+ue(Ft(t)``),1)]),zs('div',{class:'menu_button',onClick:s[5]||(s[5]=e=>n.$emit('delete'))},[...s[6]||(s[6]=[zs('i',{class:'fa-solid fa-trash'},null,-1)])])]))}}),Uf={class:'fixed-fields-settings-container'},Vf={class:'field-list'},Kf={class:'field-row'},Zf={class:'field-left'},qf={for:'fixed-field-time',class:'field-name'},Wf=['placeholder','disabled'],Yf={class:'field-row'},Hf={class:'field-left'},Gf={for:'fixed-field-place',class:'field-name'},Xf=['placeholder','disabled'],Jf={class:'field-row'},Qf={class:'field-left'},ep={for:'fixed-field-weather',class:'field-name'},tp=['placeholder','disabled'],np={class:'news-header'},sp={for:'fixed-field-news',class:'field-name'},ip={class:'news-child-row'},op={class:'news-child-label'},rp={class:'field-name'},ap=['placeholder','disabled'],lp={class:'news-child-row'},cp={class:'news-child-label'},up={class:'field-name'},dp=['placeholder','disabled'],fp={class:'prompt-actions'},pp=En({__name:'FixedFieldsSettings',props:{initialSettings:{}},setup(e,{expose:t}){const n=e,{t:s}=vu(),i=Lt({time:n.initialSettings.fixed_fields_enabled.time,place:n.initialSettings.fixed_fields_enabled.place,weather:n.initialSettings.fixed_fields_enabled.weather,news:n.initialSettings.fixed_fields_enabled.news}),o=oi(()=>'en'===n.initialSettings.language?ou:su),r=Lt({time:'',place:'',weather:'',newsTitle:'',newsContent:''});function a(){const e='en'===n.initialSettings.language?ou:su;r.value={time:e.time,place:e.place,weather:e.weather,newsTitle:e.newsTitle,newsContent:e.newsContent}}return Vn([()=>n.initialSettings.custom_prompt,()=>n.initialSettings.language],([e,t])=>{const n='en'===t?ou:su;r.value={time:e?.time||n.time,place:e?.place||n.place,weather:e?.weather||n.weather,newsTitle:e?.newsTitle||n.newsTitle,newsContent:e?.newsContent||n.newsContent}},{immediate:!0}),Vn(()=>n.initialSettings.fixed_fields_enabled,e=>{i.value=hu(e)},{immediate:!0,deep:!0}),t({getData:function(){const e='en'===n.initialSettings.language?ou:su,t={};return r.value.time?.trim()&&r.value.time!==e.time&&(t.time=r.value.time.trim()),r.value.place?.trim()&&r.value.place!==e.place&&(t.place=r.value.place.trim()),r.value.weather?.trim()&&r.value.weather!==e.weather&&(t.weather=r.value.weather.trim()),r.value.newsTitle?.trim()&&r.value.newsTitle!==e.newsTitle&&(t.newsTitle=r.value.newsTitle.trim()),r.value.newsContent?.trim()&&r.value.newsContent!==e.newsContent&&(t.newsContent=r.value.newsContent.trim()),{fixed_fields_enabled:hu(i.value),custom_prompt:Object.keys(t).length>0?t:void 0}}}),(e,t)=>(xs(),As('div',Uf,[zs('div',Vf,[zs('div',{class:ie(['fixed-field-item',{disabled:!Ft(i).time}])},[zs('div',Kf,[zs('div',Zf,[bn(zs('input',{id:'fixed-field-time','onUpdate:modelValue':t[0]||(t[0]=e=>Ft(i).time=e),type:'checkbox',class:'field-checkbox'},null,512),[[Ui,Ft(i).time]]),zs('label',qf,ue(Ft(s)``),1)]),bn(zs('textarea',{'onUpdate:modelValue':t[1]||(t[1]=e=>Ft(r).time=e),class:'text_pole field-textarea',placeholder:Ft(o).time,disabled:!Ft(i).time},null,8,Wf),[[Bi,Ft(r).time]])])],2),zs('div',{class:ie(['fixed-field-item',{disabled:!Ft(i).place}])},[zs('div',Yf,[zs('div',Hf,[bn(zs('input',{id:'fixed-field-place','onUpdate:modelValue':t[2]||(t[2]=e=>Ft(i).place=e),type:'checkbox',class:'field-checkbox'},null,512),[[Ui,Ft(i).place]]),zs('label',Gf,ue(Ft(s)``),1)]),bn(zs('textarea',{'onUpdate:modelValue':t[3]||(t[3]=e=>Ft(r).place=e),class:'text_pole field-textarea',placeholder:Ft(o).place,disabled:!Ft(i).place},null,8,Xf),[[Bi,Ft(r).place]])])],2),zs('div',{class:ie(['fixed-field-item',{disabled:!Ft(i).weather}])},[zs('div',Jf,[zs('div',Qf,[bn(zs('input',{id:'fixed-field-weather','onUpdate:modelValue':t[4]||(t[4]=e=>Ft(i).weather=e),type:'checkbox',class:'field-checkbox'},null,512),[[Ui,Ft(i).weather]]),zs('label',ep,ue(Ft(s)``),1)]),bn(zs('textarea',{'onUpdate:modelValue':t[5]||(t[5]=e=>Ft(r).weather=e),class:'text_pole field-textarea',placeholder:Ft(o).weather,disabled:!Ft(i).weather},null,8,tp),[[Bi,Ft(r).weather]])])],2),zs('div',{class:ie(['fixed-field-item',{disabled:!Ft(i).news}])},[zs('div',np,[bn(zs('input',{id:'fixed-field-news','onUpdate:modelValue':t[6]||(t[6]=e=>Ft(i).news=e),type:'checkbox',class:'field-checkbox'},null,512),[[Ui,Ft(i).news]]),zs('label',sp,ue(Ft(s)``),1)]),zs('div',ip,[zs('div',op,[zs('label',rp,ue(Ft(s)``),1)]),bn(zs('textarea',{'onUpdate:modelValue':t[7]||(t[7]=e=>Ft(r).newsTitle=e),class:'text_pole field-textarea',placeholder:Ft(o).newsTitle,disabled:!Ft(i).news},null,8,ap),[[Bi,Ft(r).newsTitle]])]),zs('div',lp,[zs('div',cp,[zs('label',up,ue(Ft(s)``)+' (content)',1)]),bn(zs('textarea',{'onUpdate:modelValue':t[8]||(t[8]=e=>Ft(r).newsContent=e),class:'text_pole field-textarea',placeholder:Ft(o).newsContent,disabled:!Ft(i).news},null,8,dp),[[Bi,Ft(r).newsContent]])])],2)]),zs('div',fp,[zs('div',{class:'menu_button',onClick:a},[t[9]||(t[9]=zs('i',{class:'fa-solid fa-rotate-left'},null,-1)),Ms(' '+ue(Ft(s)``),1)])])]))}}),hp={class:'field-list-wrapper'},mp={class:'tabs-container'},gp={class:'tab-content'},vp={class:'field-list-container'},yp={class:'field-actions'},bp={class:'tab-content'},_p=En({__name:'FieldList',props:{initialSettings:{},initialFields:{}},setup(e,{expose:t}){const{t:n}=vu(),s=e,i=Lt(),o=Lt(),r=Lt('custom'),a=Lt([]);An(()=>{a.value=hu(s.initialFields),i.value&&hf.create(i.value,{animation:150,handle:'.drag-handle',onEnd:e=>{const t=e.oldIndex,n=e.newIndex,s=a.value.splice(t,1)[0];a.value.splice(n,0,s),a.value.forEach((e,t)=>e.order=t)}})});const l=oi(()=>[...a.value].sort((e,t)=>e.order-t.order));function c(){const e={id:_o(),enabled:!0,name:'',description:'',order:a.value.length,type:'number'};a.value.push(e)}function u(e,t,n){const s=a.value.find(t=>t.id===e);s&&(s[t]=n)}function d(){a.value=[{id:_o(),enabled:!0,name:'',description:'<char><user>, 0-100%, 0.5',order:0,type:'number'},{id:_o(),enabled:!0,name:'',description:'<char>\'\', 100',order:1,type:'text'}]}return t({getData:function(){const e=o.value?.getData();return{fields:hu(a.value),fixed_fields_enabled:e?.fixed_fields_enabled,custom_prompt:e?.custom_prompt}}}),(e,t)=>(xs(),As('div',hp,[zs('div',mp,[zs('div',{class:ie(['tab-button',{active:'custom'===Ft(r)}]),onClick:t[0]||(t[0]=e=>r.value='custom')},ue(Ft(n)``),3),zs('div',{class:ie(['tab-button',{active:'fixed'===Ft(r)}]),onClick:t[1]||(t[1]=e=>r.value='fixed')},ue(Ft(n)``),3)]),bn(zs('div',gp,[zs('div',vp,[zs('div',{ref_key:'listRef',ref:i,class:'field-list'},[(xs(!0),As(bs,null,$n(Ft(l),e=>(xs(),Is(Bf,{key:e.id,field:e,'data-id':e.id,'onUpdate:enabled':t=>u(e.id,'enabled',t),'onUpdate:name':t=>u(e.id,'name',t),'onUpdate:description':t=>u(e.id,'description',t),'onUpdate:type':t=>u(e.id,'type',t),onDelete:t=>function(e){const t=a.value.findIndex(t=>t.id===e);-1!==t&&(a.value.splice(t,1),a.value.forEach((e,t)=>e.order=t))}(e.id)},null,8,['field','data-id','onUpdate:enabled','onUpdate:name','onUpdate:description','onUpdate:type','onDelete']))),128))],512),zs('div',yp,[zs('div',{class:'menu_button',onClick:c},[t[2]||(t[2]=zs('i',{class:'fa-solid fa-plus'},null,-1)),Ms(' '+ue(Ft(n)``),1)]),zs('div',{class:'menu_button',onClick:d},[t[3]||(t[3]=zs('i',{class:'fa-solid fa-rotate-left'},null,-1)),Ms(' '+ue(Ft(n)``),1)])])])],512),[[vi,'custom'===Ft(r)]]),bn(zs('div',bp,[js(pp,{ref_key:'fixedFieldsRef',ref:o,'initial-settings':s.initialSettings},null,8,['initial-settings'])],512),[[vi,'fixed'===Ft(r)]])]))}}),wp={class:'panel-settings-container'},kp={class:'settings-title'},Sp={class:'setting-item gal-settings'},Ep={class:'setting-label',for:'position-select'},xp={value:'left'},Tp={value:'right'},Np={class:'setting-item gal-settings'},Op={class:'setting-label',for:'language-select'},Ap={value:'zh-TW'},Ip={value:'zh-CN'},Cp={value:'en'},$p={class:'setting-item bar-settings'},Dp={class:'setting-label'},Pp={class:'color-picker-group'},zp={class:'color-picker-item'},jp={class:'color-value'},Lp={class:'color-picker-item'},Mp={class:'color-value'},Fp={class:'progress-preview'},Rp={class:'preview-label'},Bp=En({__name:'PanelSettings',props:{initialSettings:{}},setup(e,{expose:t}){const n=e,{t:s}=vu(),i=Lt({panel_position:n.initialSettings.panel_position,language:n.initialSettings.language,progress_color_low:n.initialSettings.progress_color_low,progress_color_high:n.initialSettings.progress_color_high});return t({getData:function(){return hu(i.value)}}),(e,t)=>(xs(),As('div',wp,[zs('h3',kp,ue(Ft(s)``),1),zs('div',Sp,[zs('label',Ep,ue(Ft(s)``),1),bn(zs('select',{id:'position-select','onUpdate:modelValue':t[0]||(t[0]=e=>Ft(i).panel_position=e),class:'setting-select'},[zs('option',xp,ue(Ft(s)``),1),zs('option',Tp,ue(Ft(s)``),1)],512),[[Ki,Ft(i).panel_position]])]),zs('div',Np,[zs('label',Op,ue(Ft(s)``),1),bn(zs('select',{id:'language-select','onUpdate:modelValue':t[1]||(t[1]=e=>Ft(i).language=e),class:'setting-select'},[zs('option',Ap,ue(Ft(s)``),1),zs('option',Ip,ue(Ft(s)``),1),zs('option',Cp,ue(Ft(s)`English`),1)],512),[[Ki,Ft(i).language]])]),zs('div',$p,[zs('label',Dp,ue(Ft(s)``),1),zs('div',Pp,[zs('div',zp,[zs('label',null,ue(Ft(s)``),1),bn(zs('input',{type:'color','onUpdate:modelValue':t[2]||(t[2]=e=>Ft(i).progress_color_low=e),class:'color-input'},null,512),[[Bi,Ft(i).progress_color_low]]),zs('span',jp,ue(Ft(i).progress_color_low),1)]),zs('div',Lp,[zs('label',null,ue(Ft(s)``),1),bn(zs('input',{type:'color','onUpdate:modelValue':t[3]||(t[3]=e=>Ft(i).progress_color_high=e),class:'color-input'},null,512),[[Bi,Ft(i).progress_color_high]]),zs('span',Mp,ue(Ft(i).progress_color_high),1)])]),zs('div',Fp,[zs('div',Rp,ue(Ft(s)``),1),zs('div',{class:'preview-bar-container',style:Q({'--progress-low-color':Ft(i).progress_color_low,'--progress-high-color':Ft(i).progress_color_high})},[...t[4]||(t[4]=[zs('div',{class:'preview-bar-fill',style:{width:'75%'}},null,-1),zs('span',{class:'preview-bar-text'},'75',-1)])],4)])])]))}}),Up=yo('statusData',()=>{const e=Lt({date:'',location:'',weather:'',news:{title:'',content:''},customFields:{}});return{data:e,clearData:function(){e.value={date:'',location:'',weather:'',news:{title:'',content:''},customFields:{}}}}}),Vp={class:'panel-content'},Kp={class:'panel-header'},Zp={class:'fixed-info-section'},qp={class:'info-item'},Wp={key:0},Yp={class:'info-text'},Hp={key:1},Gp={class:'info-text'},Xp={key:2},Jp={class:'info-text'},Qp={key:0,class:'news-section'},eh={class:'news-section2'},th={class:'news-header'},nh={class:'news-no-header'},sh={class:'news-title'},ih={class:'news-content'},oh={class:'custom-fields-section'},rh={class:'status-list'},ah={class:'status-name'},lh={key:0,class:'status-value'},ch={class:'progress-text'},uh={key:1,class:'status-value'},dh={class:'value-text'},fh={key:0,class:'empty-hint'},ph={class:'panel-actions'},hh=En({__name:'StatusDisplay',setup(e){const{settings:t}=bo(mu()),n=Up(),{t:s}=vu(),i=oi(()=>{const e='right'===t.value.panel_position,n=t.value.panel_collapsed;return e?n?'fa-chevron-left':'fa-chevron-right':n?'fa-chevron-right':'fa-chevron-left'}),o=oi(()=>t.value.fields.filter(e=>e.enabled).sort((e,t)=>e.order-t.order));function r(e){const t=n.data.customFields[e];if(null==t)return 0;let s;return s='object'==typeof t&&'value'in t?t.value:'number'==typeof t?t:Number(t),isNaN(s)?0:Math.max(0,Math.min(100,s))}function a(e){const t=n.data.customFields[e];return null==t?'':'object'==typeof t&&'display'in t?t.display:String(t)}function l(){tu('[StatusDisplay] '),t.value.panel_collapsed=!t.value.panel_collapsed}async function f(){tu('[StatusDisplay] ');const e=document.createElement('h3');e.textContent=s``,e.style.marginBottom='15px';const n=document.createElement('div');n.appendChild(e);const i=document.createElement('div');n.appendChild(i);const o=Gi(_p,{initialSettings:t.value,initialFields:t.value.fields}),r=so();o.use(r);const a={install:e=>{e.config.globalProperties.t=s}};o.use(a);const l=o.mount(i),f=new c(n,u.TEXT,'',{wide:!0,okButton:!0,cancelButton:!0});if(await f.show()===d.AFFIRMATIVE){tu('[StatusDisplay] ');const e=l.getData();t.value.fields=e.fields,t.value.fixed_fields_enabled=e.fixed_fields_enabled,t.value.custom_prompt=e.custom_prompt}else tu('[StatusDisplay] ');o.unmount()}async function p(){tu('[StatusDisplay] ');const e=document.createElement('div'),n=Gi(Bp,{initialSettings:t.value}),i=so();n.use(i);const o={install:e=>{e.config.globalProperties.t=s}};n.use(o);const r=n.mount(e),a=new c(e,u.TEXT,'',{wide:!0,okButton:!0,cancelButton:!0});if(await a.show()===d.AFFIRMATIVE){tu('[StatusDisplay] ');const e=r.getData();t.value.panel_position=e.panel_position,t.value.language=e.language,t.value.progress_color_low=e.progress_color_low,t.value.progress_color_high=e.progress_color_high,t.value.custom_prompt=e.custom_prompt}else tu('[StatusDisplay] ');n.unmount()}return(e,c)=>Ft(t).panel_enabled?(xs(),As('div',{key:0,class:ie(['status-panel drawer-content',[Ft(t).panel_position,{collapsed:Ft(t).panel_collapsed,fillLeft:'left'===Ft(t).panel_position,fillRight:'right'===Ft(t).panel_position}]])},[zs('div',{class:ie(['collapse-toggle',[Ft(t).panel_position,{collapsed:Ft(t).panel_collapsed}]]),onClick:l},[zs('i',{class:ie(['fa-solid',Ft(i)])},null,2)],2),bn(zs('div',Vp,[zs('div',Kp,[zs('h3',null,ue(Ft(s)``),1)]),zs('div',Zp,[zs('div',qp,[Ft(t).fixed_fields_enabled.time?(xs(),As('div',Wp,[c[0]||(c[0]=zs('span',{class:'info-icon'},'',-1)),zs('span',Yp,ue(Ft(n).data.date),1)])):Rs('',!0),Ft(t).fixed_fields_enabled.place?(xs(),As('div',Hp,[c[1]||(c[1]=zs('span',{class:'info-icon'},'',-1)),zs('span',Gp,ue(Ft(n).data.location),1)])):Rs('',!0),Ft(t).fixed_fields_enabled.weather?(xs(),As('div',Xp,[c[2]||(c[2]=zs('span',{class:'info-icon'},'',-1)),zs('span',Jp,ue(Ft(n).data.weather),1)])):Rs('',!0)]),Ft(t).fixed_fields_enabled.news?(xs(),As('div',Qp,[zs('div',eh,[zs('div',th,''+ue(Ft(s)``)+'',1),zs('div',nh,[c[3]||(c[3]=zs('div',{class:'news-divider'},null,-1)),zs('div',sh,ue(Ft(n).data.news.title),1),zs('div',ih,ue(Ft(n).data.news.content),1)])])])):Rs('',!0)]),zs('div',oh,[zs('div',rh,[(xs(!0),As(bs,null,$n(Ft(o),e=>(xs(),As('div',{key:e.id,class:'status-item'},[zs('span',ah,ue(e.name),1),'number'===e.type?(xs(),As('div',lh,[zs('div',{class:'progress-bar-container',style:Q({'--progress-low-color':Ft(t).progress_color_low,'--progress-high-color':Ft(t).progress_color_high})},[zs('div',{class:'progress-bar-fill',style:Q({width:r(e.id)+'%'})},null,4),zs('span',ch,ue(a(e.id)),1)],4)])):(xs(),As('div',uh,[zs('span',dh,ue(Ft(n).data.customFields[e.id]||''),1)]))]))),128)),0===Ft(o).length?(xs(),As('div',fh,ue(Ft(s)``),1)):Rs('',!0)])]),zs('div',ph,[zs('button',{class:'menu_button',onClick:f},[c[4]||(c[4]=zs('i',{class:'fa-solid fa-list'},null,-1)),Ms(' '+ue(Ft(s)``),1)]),zs('button',{class:'menu_button',onClick:p},[c[5]||(c[5]=zs('i',{class:'fa-solid fa-cog'},null,-1)),Ms(' '+ue(Ft(s)``),1)])])],512),[[vi,!Ft(t).panel_collapsed]])],2)):Rs('',!0)}});let mh=null;const gh={install:e=>{e.config.globalProperties.t=l}};const vh=Symbol.for('yaml.alias'),yh=Symbol.for('yaml.document'),bh=Symbol.for('yaml.map'),_h=Symbol.for('yaml.pair'),wh=Symbol.for('yaml.scalar'),kh=Symbol.for('yaml.seq'),Sh=Symbol.for('yaml.node.type'),Eh=e=>!!e&&'object'==typeof e&&e[Sh]===vh,xh=e=>!!e&&'object'==typeof e&&e[Sh]===yh,Th=e=>!!e&&'object'==typeof e&&e[Sh]===bh,Nh=e=>!!e&&'object'==typeof e&&e[Sh]===_h,Oh=e=>!!e&&'object'==typeof e&&e[Sh]===wh,Ah=e=>!!e&&'object'==typeof e&&e[Sh]===kh;function Ih(e){if(e&&'object'==typeof e)switch(e[Sh]){case bh:case kh:return!0}return!1}function Ch(e){if(e&&'object'==typeof e)switch(e[Sh]){case vh:case bh:case wh:case kh:return!0}return!1}const $h=e=>(Oh(e)||Ih(e))&&!!e.anchor,Dh=Symbol('break visit'),Ph=Symbol('skip children'),zh=Symbol('remove node');function jh(e,t){const n=function(e){if('object'==typeof e&&(e.Collection||e.Node||e.Value))return Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e);return e}(t);if(xh(e)){Lh(null,e.contents,n,Object.freeze([e]))===zh&&(e.contents=null)}else Lh(null,e,n,Object.freeze([]))}function Lh(e,t,n,s){const i=function(e,t,n,s){return'function'==typeof n?n(e,t,s):Th(t)?n.Map?.(e,t,s):Ah(t)?n.Seq?.(e,t,s):Nh(t)?n.Pair?.(e,t,s):Oh(t)?n.Scalar?.(e,t,s):Eh(t)?n.Alias?.(e,t,s):void 0}(e,t,n,s);if(Ch(i)||Nh(i))return function(e,t,n){const s=t[t.length-1];if(Ih(s))s.items[e]=n;else if(Nh(s))'key'===e?s.key=n:s.value=n;else{if(!xh(s)){const e=Eh(s)?'alias':'scalar';throw new Error(`Cannot replace node with ${e} parent`)}s.contents=n}}(e,s,i),Lh(e,i,n,s);if('symbol'!=typeof i)if(Ih(t)){s=Object.freeze(s.concat(t));for(let e=0;e<t.items.length;++e){const i=Lh(e,t.items[e],n,s);if('number'==typeof i)e=i-1;else{if(i===Dh)return Dh;i===zh&&(t.items.splice(e,1),e-=1)}}}else if(Nh(t)){s=Object.freeze(s.concat(t));const e=Lh('key',t.key,n,s);if(e===Dh)return Dh;e===zh&&(t.key=null);const i=Lh('value',t.value,n,s);if(i===Dh)return Dh;i===zh&&(t.value=null)}return i}jh.BREAK=Dh,jh.SKIP=Ph,jh.REMOVE=zh;const Mh={'!':'%21',',':'%2C','[':'%5B',']':'%5D','{':'%7B','}':'%7D'},Fh=e=>e.replace(/[!,[\]{}]/g,e=>Mh[e]);class Rh{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Rh.defaultYaml,e),this.tags=Object.assign({},Rh.defaultTags,t)}clone(){const e=new Rh(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new Rh(this.yaml,this.tags);switch(this.yaml.version){case'1.1':this.atNextDocument=!0;break;case'1.2':this.atNextDocument=!1,this.yaml={explicit:Rh.defaultYaml.explicit,version:'1.2'},this.tags=Object.assign({},Rh.defaultTags)}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:Rh.defaultYaml.explicit,version:'1.1'},this.tags=Object.assign({},Rh.defaultTags),this.atNextDocument=!1);const n=e.trim().split(/[ \t]+/),s=n.shift();switch(s){case'%TAG':{if(2!==n.length&&(t(0,'%TAG directive should contain exactly two parts'),n.length<2))return!1;const[e,s]=n;return this.tags[e]=s,!0}case'%YAML':{if(this.yaml.explicit=!0,1!==n.length)return t(0,'%YAML directive should contain exactly one part'),!1;const[e]=n;if('1.1'===e||'1.2'===e)return this.yaml.version=e,!0;return t(6,`Unsupported YAML version ${e}`,/^\d+\.\d+$/.test(e)),!1}default:return t(0,`Unknown directive ${s}`,!0),!1}}tagName(e,t){if('!'===e)return'!';if('!'!==e[0])return t(`Not a valid tag: ${e}`),null;if('<'===e[1]){const n=e.slice(2,-1);return'!'===n||'!!'===n?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):('>'!==e[e.length-1]&&t('Verbatim tags must end with a >'),n)}const[,n,s]=e.match(/^(.*!)([^!]*)$/s);s||t(`The ${e} tag has no suffix`);const i=this.tags[n];if(i)try{return i+decodeURIComponent(s)}catch(o){return t(String(o)),null}return'!'===n?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[t,n]of Object.entries(this.tags))if(e.startsWith(n))return t+Fh(e.substring(n.length));return'!'===e[0]?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||'1.2'}`]:[],n=Object.entries(this.tags);let s;if(e&&n.length>0&&Ch(e.contents)){const t={};jh(e.contents,(e,n)=>{Ch(n)&&n.tag&&(t[n.tag]=!0)}),s=Object.keys(t)}else s=[];for(const[i,o]of n)'!!'===i&&'tag:yaml.org,2002:'===o||e&&!s.some(e=>e.startsWith(o))||t.push(`%TAG ${i} ${o}`);return t.join('\n')}}function Bh(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const t=JSON.stringify(e);throw new Error(`Anchor must not contain whitespace or control characters: ${t}`)}return!0}function Uh(e){const t=new Set;return jh(e,{Value(e,n){n.anchor&&t.add(n.anchor)}}),t}function Vh(e,t){for(let n=1;;++n){const s=`${e}${n}`;if(!t.has(s))return s}}function Kh(e,t,n,s){if(s&&'object'==typeof s)if(Array.isArray(s))for(let i=0,o=s.length;i<o;++i){const t=s[i],n=Kh(e,s,String(i),t);void 0===n?delete s[i]:n!==t&&(s[i]=n)}else if(s instanceof Map)for(const i of Array.from(s.keys())){const t=s.get(i),n=Kh(e,s,i,t);void 0===n?s.delete(i):n!==t&&s.set(i,n)}else if(s instanceof Set)for(const i of Array.from(s)){const t=Kh(e,s,i,i);void 0===t?s.delete(i):t!==i&&(s.delete(i),s.add(t))}else for(const[i,o]of Object.entries(s)){const t=Kh(e,s,i,o);void 0===t?delete s[i]:t!==o&&(s[i]=t)}return e.call(t,n,s)}function Zh(e,t,n){if(Array.isArray(e))return e.map((e,t)=>Zh(e,String(t),n));if(e&&'function'==typeof e.toJSON){if(!n||!$h(e))return e.toJSON(t,n);const s={aliasCount:0,count:1,res:void 0};n.anchors.set(e,s),n.onCreate=e=>{s.res=e,delete n.onCreate};const i=e.toJSON(t,n);return n.onCreate&&n.onCreate(i),i}return'bigint'!=typeof e||n?.keep?e:Number(e)}Rh.defaultYaml={explicit:!1,version:'1.2'},Rh.defaultTags={'!!':'tag:yaml.org,2002:'};class qh{constructor(e){Object.defineProperty(this,Sh,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:t,maxAliasCount:n,onAnchor:s,reviver:i}={}){if(!xh(e))throw new TypeError('A document argument is required');const o={anchors:new Map,doc:e,keep:!0,mapAsMap:!0===t,mapKeyWarned:!1,maxAliasCount:'number'==typeof n?n:100},r=Zh(this,'',o);if('function'==typeof s)for(const{count:a,res:l}of o.anchors.values())s(l,a);return'function'==typeof i?Kh(i,{'':r},'',r):r}}class Wh extends qh{constructor(e){super(vh),this.source=e,Object.defineProperty(this,'tag',{set(){throw new Error('Alias nodes cannot have tags')}})}resolve(e,t){let n,s;t?.aliasResolveCache?n=t.aliasResolveCache:(n=[],jh(e,{Node:(e,t)=>{(Eh(t)||$h(t))&&n.push(t)}}),t&&(t.aliasResolveCache=n));for(const i of n){if(i===this)break;i.anchor===this.source&&(s=i)}return s}toJSON(e,t){if(!t)return{source:this.source};const{anchors:n,doc:s,maxAliasCount:i}=t,o=this.resolve(s,t);if(!o){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(e)}let r=n.get(o);if(r||(Zh(o,null,t),r=n.get(o)),void 0===r?.res){throw new ReferenceError('This should not happen: Alias anchor was not resolved?')}if(i>=0&&(r.count+=1,0===r.aliasCount&&(r.aliasCount=Yh(s,o,n)),r.count*r.aliasCount>i)){throw new ReferenceError('Excessive alias count indicates a resource exhaustion attack')}return r.res}toString(e,t,n){const s=`*${this.source}`;if(e){if(Bh(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(e)}if(e.implicitKey)return`${s} `}return s}}function Yh(e,t,n){if(Eh(t)){const s=t.resolve(e),i=n&&s&&n.get(s);return i?i.count*i.aliasCount:0}if(Ih(t)){let s=0;for(const i of t.items){const t=Yh(e,i,n);t>s&&(s=t)}return s}if(Nh(t)){const s=Yh(e,t.key,n),i=Yh(e,t.value,n);return Math.max(s,i)}return 1}const Hh=e=>!e||'function'!=typeof e&&'object'!=typeof e;class Gh extends qh{constructor(e){super(wh),this.value=e}toJSON(e,t){return t?.keep?this.value:Zh(this.value,e,t)}toString(){return String(this.value)}}Gh.BLOCK_FOLDED='BLOCK_FOLDED',Gh.BLOCK_LITERAL='BLOCK_LITERAL',Gh.PLAIN='PLAIN',Gh.QUOTE_DOUBLE='QUOTE_DOUBLE',Gh.QUOTE_SINGLE='QUOTE_SINGLE';function Xh(e,t,n){if(xh(e)&&(e=e.contents),Ch(e))return e;if(Nh(e)){const t=n.schema[bh].createNode?.(n.schema,null,n);return t.items.push(e),t}(e instanceof String||e instanceof Number||e instanceof Boolean||'undefined'!=typeof BigInt&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:s,onAnchor:i,onTagObj:o,schema:r,sourceObjects:a}=n;let l;if(s&&e&&'object'==typeof e){if(l=a.get(e),l)return l.anchor??(l.anchor=i(e)),new Wh(l.anchor);l={anchor:null,node:null},a.set(e,l)}t?.startsWith('!!')&&(t='tag:yaml.org,2002:'+t.slice(2));let c=function(e,t,n){if(t){const e=n.filter(e=>e.tag===t),s=e.find(e=>!e.format)??e[0];if(!s)throw new Error(`Tag ${t} not found`);return s}return n.find(t=>t.identify?.(e)&&!t.format)}(e,t,r.tags);if(!c){if(e&&'function'==typeof e.toJSON&&(e=e.toJSON()),!e||'object'!=typeof e){const t=new Gh(e);return l&&(l.node=t),t}c=e instanceof Map?r[bh]:Symbol.iterator in Object(e)?r[kh]:r[bh]}o&&(o(c),delete n.onTagObj);const u=c?.createNode?c.createNode(n.schema,e,n):'function'==typeof c?.nodeClass?.from?c.nodeClass.from(n.schema,e,n):new Gh(e);return t?u.tag=t:c.default||(u.tag=c.tag),l&&(l.node=u),u}function Jh(e,t,n){let s=n;for(let i=t.length-1;i>=0;--i){const e=t[i];if('number'==typeof e&&Number.isInteger(e)&&e>=0){const t=[];t[e]=s,s=t}else s=new Map([[e,s]])}return Xh(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error('This should not happen, please report a bug.')},schema:e,sourceObjects:new Map})}const Qh=e=>null==e||'object'==typeof e&&!!e[Symbol.iterator]().next().done;class em extends qh{constructor(e,t){super(e),Object.defineProperty(this,'schema',{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map(t=>Ch(t)||Nh(t)?t.clone(e):t),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(Qh(e))this.add(t);else{const[n,...s]=e,i=this.get(n,!0);if(Ih(i))i.addIn(s,t);else{if(void 0!==i||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`);this.set(n,Jh(this.schema,s,t))}}}deleteIn(e){const[t,...n]=e;if(0===n.length)return this.delete(t);const s=this.get(t,!0);if(Ih(s))return s.deleteIn(n);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${n}`)}getIn(e,t){const[n,...s]=e,i=this.get(n,!0);return 0===s.length?!t&&Oh(i)?i.value:i:Ih(i)?i.getIn(s,t):void 0}hasAllNullValues(e){return this.items.every(t=>{if(!Nh(t))return!1;const n=t.value;return null==n||e&&Oh(n)&&null==n.value&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(e){const[t,...n]=e;if(0===n.length)return this.has(t);const s=this.get(t,!0);return!!Ih(s)&&s.hasIn(n)}setIn(e,t){const[n,...s]=e;if(0===s.length)this.set(n,t);else{const e=this.get(n,!0);if(Ih(e))e.setIn(s,t);else{if(void 0!==e||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`);this.set(n,Jh(this.schema,s,t))}}}}const tm=e=>e.replace(/^(?!$)(?: $)?/gm,'#');function nm(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const sm=(e,t,n)=>e.endsWith('\n')?nm(n,t):n.includes('\n')?'\n'+nm(n,t):(e.endsWith(' ')?'':' ')+n,im='flow',om='block',rm='quoted';function am(e,t,n='flow',{indentAtStart:s,lineWidth:i=80,minContentWidth:o=20,onFold:r,onOverflow:a}={}){if(!i||i<0)return e;i<o&&(o=0);const l=Math.max(1+o,1+i-t.length);if(e.length<=l)return e;const c=[],u={};let d,f,p=i-t.length;'number'==typeof s&&(s>i-Math.max(2,o)?c.push(0):p=i-s);let h=!1,m=-1,g=-1,v=-1;n===om&&(m=lm(e,m,t.length),-1!==m&&(p=m+l));for(let b;b=e[m+=1];){if(n===rm&&'\\'===b){switch(g=m,e[m+1]){case'x':m+=3;break;case'u':m+=5;break;case'U':m+=9;break;default:m+=1}v=m}if('\n'===b)n===om&&(m=lm(e,m,t.length)),p=m+t.length+l,d=void 0;else{if(' '===b&&f&&' '!==f&&'\n'!==f&&'\t'!==f){const t=e[m+1];t&&' '!==t&&'\n'!==t&&'\t'!==t&&(d=m)}if(m>=p)if(d)c.push(d),p=d+l,d=void 0;else if(n===rm){for(;' '===f||'\t'===f;)f=b,b=e[m+=1],h=!0;const t=m>v+1?m-2:g-1;if(u[t])return e;c.push(t),u[t]=!0,p=t+l,d=void 0}else h=!0}f=b}if(h&&a&&a(),0===c.length)return e;r&&r();let y=e.slice(0,c[0]);for(let b=0;b<c.length;++b){const s=c[b],i=c[b+1]||e.length;0===s?y=`\n${t}${e.slice(0,i)}`:(n===rm&&u[s]&&(y+=`${e[s]}\\`),y+=`\n${t}${e.slice(s+1,i)}`)}return y}function lm(e,t,n){let s=t,i=t+1,o=e[i];for(;' '===o||'\t'===o;)if(t<i+n)o=e[++t];else{do{o=e[++t]}while(o&&'\n'!==o);s=t,i=t+1,o=e[i]}return s}const cm=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),um=e=>/^(%|---|\.\.\.)/m.test(e);function dm(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:s}=t,i=t.options.doubleQuotedMinMultiLineLength,o=t.indent||(um(e)?'  ':'');let r='',a=0;for(let l=0,c=n[l];c;c=n[++l])if(' '===c&&'\\'===n[l+1]&&'n'===n[l+2]&&(r+=n.slice(a,l)+'\\ ',l+=1,a=l,c='\\'),'\\'===c)switch(n[l+1]){case'u':{r+=n.slice(a,l);const e=n.substr(l+2,4);switch(e){case'0000':r+='\\0';break;case'0007':r+='\\a';break;case'000b':r+='\\v';break;case'001b':r+='\\e';break;case'0085':r+='\\N';break;case'00a0':r+='\\_';break;case'2028':r+='\\L';break;case'2029':r+='\\P';break;default:'00'===e.substr(0,2)?r+='\\x'+e.substr(2):r+=n.substr(l,6)}l+=5,a=l+1}break;case'n':if(s||'"'===n[l+2]||n.length<i)l+=1;else{for(r+=n.slice(a,l)+'\n\n';'\\'===n[l+2]&&'n'===n[l+3]&&'"'!==n[l+4];)r+='\n',l+=2;r+=o,' '===n[l+2]&&(r+='\\'),l+=1,a=l+1}break;default:l+=1}return r=a?r+n.slice(a):n,s?r:am(r,o,rm,cm(t,!1))}function fm(e,t){if(!1===t.options.singleQuote||t.implicitKey&&e.includes('\n')||/[ \t]\n|\n[ \t]/.test(e))return dm(e,t);const n=t.indent||(um(e)?'  ':''),s='\''+e.replace(/'/g,'\'\'').replace(/\n+/g,`$&\n${n}`)+'\'';return t.implicitKey?s:am(s,n,im,cm(t,!1))}function pm(e,t){const{singleQuote:n}=t.options;let s;if(!1===n)s=dm;else{const t=e.includes('"'),i=e.includes('\'');s=t&&!i?fm:i&&!t?dm:n?fm:dm}return s(e,t)}let hm;try{hm=new RegExp('(^|(?<!\n))\n+(?!\n|$)','g')}catch{hm=/\n+(?!\n|$)/g}function mm({comment:e,type:t,value:n},s,i,o){const{blockQuote:r,commentString:a,lineWidth:l}=s.options;if(!r||/\n[\t ]+$/.test(n))return pm(n,s);const c=s.indent||(s.forceBlockIndent||um(n)?'  ':''),u='literal'===r||'folded'!==r&&t!==Gh.BLOCK_FOLDED&&(t===Gh.BLOCK_LITERAL||!function(e,t,n){if(!t||t<0)return!1;const s=t-n,i=e.length;if(i<=s)return!1;for(let o=0,r=0;o<i;++o)if('\n'===e[o]){if(o-r>s)return!0;if(r=o+1,i-r<=s)return!1}return!0}(n,l,c.length));if(!n)return u?'|\n':'>\n';let d,f;for(f=n.length;f>0;--f){const e=n[f-1];if('\n'!==e&&'\t'!==e&&' '!==e)break}let p=n.substring(f);const h=p.indexOf('\n');-1===h?d='-':n===p||h!==p.length-1?(d='+',o&&o()):d='',p&&(n=n.slice(0,-p.length),'\n'===p[p.length-1]&&(p=p.slice(0,-1)),p=p.replace(hm,`$&${c}`));let m,g=!1,v=-1;for(m=0;m<n.length;++m){const e=n[m];if(' '===e)g=!0;else{if('\n'!==e)break;v=m}}let y=n.substring(0,v<m?v+1:m);y&&(n=n.substring(y.length),y=y.replace(/\n+/g,`$&${c}`));let b=(g?c?'2':'1':'')+d;if(e&&(b+=' '+a(e.replace(/ ?[\r\n]+/g,' ')),i&&i()),!u){const e=n.replace(/\n+/g,'\n$&').replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,'$1$2').replace(/\n+/g,`$&${c}`);let i=!1;const o=cm(s,!0);'folded'!==r&&t!==Gh.BLOCK_FOLDED&&(o.onOverflow=()=>{i=!0});const a=am(`${y}${e}${p}`,c,om,o);if(!i)return`>${b}\n${c}${a}`}return`|${b}\n${c}${y}${n=n.replace(/\n+/g,`$&${c}`)}${p}`}function gm(e,t,n,s){const{implicitKey:i,inFlow:o}=t,r='string'==typeof e.value?e:Object.assign({},e,{value:String(e.value)});let{type:a}=e;a!==Gh.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(r.value)&&(a=Gh.QUOTE_DOUBLE);const l=e=>{switch(e){case Gh.BLOCK_FOLDED:case Gh.BLOCK_LITERAL:return i||o?pm(r.value,t):mm(r,t,n,s);case Gh.QUOTE_DOUBLE:return dm(r.value,t);case Gh.QUOTE_SINGLE:return fm(r.value,t);case Gh.PLAIN:return function(e,t,n,s){const{type:i,value:o}=e,{actualString:r,implicitKey:a,indent:l,indentStep:c,inFlow:u}=t;if(a&&o.includes('\n')||u&&/[[\]{},]/.test(o))return pm(o,t);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return a||u||!o.includes('\n')?pm(o,t):mm(e,t,n,s);if(!a&&!u&&i!==Gh.PLAIN&&o.includes('\n'))return mm(e,t,n,s);if(um(o)){if(''===l)return t.forceBlockIndent=!0,mm(e,t,n,s);if(a&&l===c)return pm(o,t)}const d=o.replace(/\n+/g,`$&\n${l}`);if(r){const e=e=>e.default&&'tag:yaml.org,2002:str'!==e.tag&&e.test?.test(d),{compat:n,tags:s}=t.doc.schema;if(s.some(e)||n?.some(e))return pm(o,t)}return a?d:am(d,l,im,cm(t,!1))}(r,t,n,s);default:return null}};let c=l(a);if(null===c){const{defaultKeyType:e,defaultStringType:n}=t.options,s=i&&e||n;if(c=l(s),null===c)throw new Error(`Unsupported default string type ${s}`)}return c}function vm(e,t){const n=Object.assign({blockQuote:!0,commentString:tm,defaultKeyType:null,defaultStringType:'PLAIN',directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:'false',flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:'null',simpleKeys:!1,singleQuote:null,trueStr:'true',verifyAliasOrder:!0},e.schema.toStringOptions,t);let s;switch(n.collectionStyle){case'block':s=!1;break;case'flow':s=!0;break;default:s=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?' ':'',indent:'',indentStep:'number'==typeof n.indent?' '.repeat(n.indent):'  ',inFlow:s,options:n}}function ym(e,t,n,s){if(Nh(e))return e.toString(t,n,s);if(Eh(e)){if(t.doc.directives)return e.toString(t);if(t.resolvedAliases?.has(e))throw new TypeError('Cannot stringify circular structure without alias nodes');t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let i;const o=Ch(e)?e:t.doc.createNode(e,{onTagObj:e=>i=e});i??(i=function(e,t){if(t.tag){const n=e.filter(e=>e.tag===t.tag);if(n.length>0)return n.find(e=>e.format===t.format)??n[0]}let n,s;if(Oh(t)){s=t.value;let i=e.filter(e=>e.identify?.(s));if(i.length>1){const e=i.filter(e=>e.test);e.length>0&&(i=e)}n=i.find(e=>e.format===t.format)??i.find(e=>!e.format)}else s=t,n=e.find(e=>e.nodeClass&&s instanceof e.nodeClass);if(!n)throw new Error(`Tag not resolved for ${s?.constructor?.name??(null===s?'null':typeof s)} value`);return n}(t.doc.schema.tags,o));const r=function(e,t,{anchors:n,doc:s}){if(!s.directives)return'';const i=[],o=(Oh(e)||Ih(e))&&e.anchor;o&&Bh(o)&&(n.add(o),i.push(`&${o}`));const r=e.tag??(t.default?null:t.tag);return r&&i.push(s.directives.tagString(r)),i.join(' ')}(o,i,t);r.length>0&&(t.indentAtStart=(t.indentAtStart??0)+r.length+1);const a='function'==typeof i.stringify?i.stringify(o,t,n,s):Oh(o)?gm(o,t,n,s):o.toString(t,n,s);return r?Oh(o)||'{'===a[0]||'['===a[0]?`${r} ${a}`:`${r}\n${t.indent}${a}`:a}function bm(e,t){'debug'!==e&&'warn'!==e||console.warn(t)}const _m='<<',wm={identify:e=>e===_m||'symbol'==typeof e&&e.description===_m,default:'key',tag:'tag:yaml.org,2002:merge',test:/^<<$/,resolve:()=>Object.assign(new Gh(Symbol(_m)),{addToJSMap:km}),stringify:()=>_m};function km(e,t,n){if(n=e&&Eh(n)?n.resolve(e.doc):n,Ah(n))for(const s of n.items)Sm(e,t,s);else if(Array.isArray(n))for(const s of n)Sm(e,t,s);else Sm(e,t,n)}function Sm(e,t,n){const s=e&&Eh(n)?n.resolve(e.doc):n;if(!Th(s))throw new Error('Merge sources must be maps or map aliases');const i=s.toJSON(null,e,Map);for(const[o,r]of i)t instanceof Map?t.has(o)||t.set(o,r):t instanceof Set?t.add(o):Object.prototype.hasOwnProperty.call(t,o)||Object.defineProperty(t,o,{value:r,writable:!0,enumerable:!0,configurable:!0});return t}function Em(e,t,{key:n,value:s}){if(Ch(n)&&n.addToJSMap)n.addToJSMap(e,t,s);else if(((e,t)=>(wm.identify(t)||Oh(t)&&(!t.type||t.type===Gh.PLAIN)&&wm.identify(t.value))&&e?.doc.schema.tags.some(e=>e.tag===wm.tag&&e.default))(e,n))km(e,t,s);else{const i=Zh(n,'',e);if(t instanceof Map)t.set(i,Zh(s,i,e));else if(t instanceof Set)t.add(i);else{const o=function(e,t,n){if(null===t)return'';if('object'!=typeof t)return String(t);if(Ch(e)&&n?.doc){const t=vm(n.doc,{});t.anchors=new Set;for(const e of n.anchors.keys())t.anchors.add(e.anchor);t.inFlow=!0,t.inStringifyKey=!0;const s=e.toString(t);if(!n.mapKeyWarned){let e=JSON.stringify(s);e.length>40&&(e=e.substring(0,36)+'..."'),bm(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${e}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return s}return JSON.stringify(t)}(n,i,e),r=Zh(s,o,e);o in t?Object.defineProperty(t,o,{value:r,writable:!0,enumerable:!0,configurable:!0}):t[o]=r}}return t}function xm(e,t,n){const s=Xh(e,void 0,n),i=Xh(t,void 0,n);return new Tm(s,i)}class Tm{constructor(e,t=null){Object.defineProperty(this,Sh,{value:_h}),this.key=e,this.value=t}clone(e){let{key:t,value:n}=this;return Ch(t)&&(t=t.clone(e)),Ch(n)&&(n=n.clone(e)),new Tm(t,n)}toJSON(_,e){return Em(e,e?.mapAsMap?new Map:{},this)}toString(e,t,n){return e?.doc?function({key:e,value:t},n,s,i){const{allNullValues:o,doc:r,indent:a,indentStep:l,options:{commentString:c,indentSeq:u,simpleKeys:d}}=n;let f=Ch(e)&&e.comment||null;if(d){if(f)throw new Error('With simple keys, key nodes cannot have comments');if(Ih(e)||!Ch(e)&&'object'==typeof e)throw new Error('With simple keys, collection cannot be used as a key value')}let p=!d&&(!e||f&&null==t&&!n.inFlow||Ih(e)||(Oh(e)?e.type===Gh.BLOCK_FOLDED||e.type===Gh.BLOCK_LITERAL:'object'==typeof e));n=Object.assign({},n,{allNullValues:!1,implicitKey:!p&&(d||!o),indent:a+l});let h,m,g,v=!1,y=!1,b=ym(e,n,()=>v=!0,()=>y=!0);if(!p&&!n.inFlow&&b.length>1024){if(d)throw new Error('With simple keys, single line scalar must not span more than 1024 characters');p=!0}if(n.inFlow){if(o||null==t)return v&&s&&s(),''===b?'?':p?`? ${b}`:b}else if(o&&!d||null==t&&p)return b=`? ${b}`,f&&!v?b+=sm(b,n.indent,c(f)):y&&i&&i(),b;v&&(f=null),p?(f&&(b+=sm(b,n.indent,c(f))),b=`? ${b}\n${a}:`):(b=`${b}:`,f&&(b+=sm(b,n.indent,c(f)))),Ch(t)?(h=!!t.spaceBefore,m=t.commentBefore,g=t.comment):(h=!1,m=null,g=null,t&&'object'==typeof t&&(t=r.createNode(t))),n.implicitKey=!1,p||f||!Oh(t)||(n.indentAtStart=b.length+1),y=!1,u||!(l.length>=2)||n.inFlow||p||!Ah(t)||t.flow||t.tag||t.anchor||(n.indent=n.indent.substring(2));let w=!1;const k=ym(t,n,()=>w=!0,()=>y=!0);let S=' ';if(f||h||m)S=h?'\n':'',m&&(S+=`\n${nm(c(m),n.indent)}`),''!==k||n.inFlow?S+=`\n${n.indent}`:'\n'===S&&g&&(S='\n\n');else if(!p&&Ih(t)){const e=k[0],s=k.indexOf('\n'),i=-1!==s,o=n.inFlow??t.flow??0===t.items.length;if(i||!o){let t=!1;if(i&&('&'===e||'!'===e)){let n=k.indexOf(' ');'&'===e&&-1!==n&&n<s&&'!'===k[n+1]&&(n=k.indexOf(' ',n+1)),(-1===n||s<n)&&(t=!0)}t||(S=`\n${n.indent}`)}}else''!==k&&'\n'!==k[0]||(S='');return b+=S+k,n.inFlow?w&&s&&s():g&&!w?b+=sm(b,n.indent,c(g)):y&&i&&i(),b}(this,e,t,n):JSON.stringify(this)}}function Nm(e,t,n){return(t.inFlow??e.flow?Am:Om)(e,t,n)}function Om({comment:e,items:t},n,{blockItemPrefix:s,flowChars:i,itemIndent:o,onChompKeep:r,onComment:a}){const{indent:l,options:{commentString:c}}=n,u=Object.assign({},n,{indent:o,type:null});let d=!1;const f=[];for(let h=0;h<t.length;++h){const e=t[h];let i=null;if(Ch(e))!d&&e.spaceBefore&&f.push(''),Im(n,f,e.commentBefore,d),e.comment&&(i=e.comment);else if(Nh(e)){const t=Ch(e.key)?e.key:null;t&&(!d&&t.spaceBefore&&f.push(''),Im(n,f,t.commentBefore,d))}d=!1;let r=ym(e,u,()=>i=null,()=>d=!0);i&&(r+=sm(r,o,c(i))),d&&i&&(d=!1),f.push(s+r)}let p;if(0===f.length)p=i.start+i.end;else{p=f[0];for(let e=1;e<f.length;++e){const t=f[e];p+=t?`\n${l}${t}`:'\n'}}return e?(p+='\n'+nm(c(e),l),a&&a()):d&&r&&r(),p}function Am({items:e},t,{flowChars:n,itemIndent:s}){const{indent:i,indentStep:o,flowCollectionPadding:r,options:{commentString:a}}=t;s+=o;const l=Object.assign({},t,{indent:s,inFlow:!0,type:null});let c=!1,u=0;const d=[];for(let h=0;h<e.length;++h){const n=e[h];let i=null;if(Ch(n))n.spaceBefore&&d.push(''),Im(t,d,n.commentBefore,!1),n.comment&&(i=n.comment);else if(Nh(n)){const e=Ch(n.key)?n.key:null;e&&(e.spaceBefore&&d.push(''),Im(t,d,e.commentBefore,!1),e.comment&&(c=!0));const s=Ch(n.value)?n.value:null;s?(s.comment&&(i=s.comment),s.commentBefore&&(c=!0)):null==n.value&&e?.comment&&(i=e.comment)}i&&(c=!0);let o=ym(n,l,()=>i=null);h<e.length-1&&(o+=','),i&&(o+=sm(o,s,a(i))),!c&&(d.length>u||o.includes('\n'))&&(c=!0),d.push(o),u=d.length}const{start:f,end:p}=n;if(0===d.length)return f+p;if(!c){const e=d.reduce((e,t)=>e+t.length+2,2);c=t.options.lineWidth>0&&e>t.options.lineWidth}if(c){let e=f;for(const t of d)e+=t?`\n${o}${i}${t}`:'\n';return`${e}\n${i}${p}`}return`${f}${r}${d.join(' ')}${r}${p}`}function Im({indent:e,options:{commentString:t}},n,s,i){if(s&&i&&(s=s.replace(/^\n+/,'')),s){const i=nm(t(s),e);n.push(i.trimStart())}}function Cm(e,t){const n=Oh(t)?t.value:t;for(const s of e)if(Nh(s)){if(s.key===t||s.key===n)return s;if(Oh(s.key)&&s.key.value===n)return s}}class $m extends em{static get tagName(){return'tag:yaml.org,2002:map'}constructor(e){super(bh,e),this.items=[]}static from(e,t,n){const{keepUndefined:s,replacer:i}=n,o=new this(e),r=(e,r)=>{if('function'==typeof i)r=i.call(t,e,r);else if(Array.isArray(i)&&!i.includes(e))return;(void 0!==r||s)&&o.items.push(xm(e,r,n))};if(t instanceof Map)for(const[a,l]of t)r(a,l);else if(t&&'object'==typeof t)for(const a of Object.keys(t))r(a,t[a]);return'function'==typeof e.sortMapEntries&&o.items.sort(e.sortMapEntries),o}add(e,t){let n;n=Nh(e)?e:e&&'object'==typeof e&&'key'in e?new Tm(e.key,e.value):new Tm(e,e?.value);const s=Cm(this.items,n.key),i=this.schema?.sortMapEntries;if(s){if(!t)throw new Error(`Key ${n.key} already set`);Oh(s.value)&&Hh(n.value)?s.value.value=n.value:s.value=n.value}else if(i){const e=this.items.findIndex(e=>i(n,e)<0);-1===e?this.items.push(n):this.items.splice(e,0,n)}else this.items.push(n)}delete(e){const t=Cm(this.items,e);if(!t)return!1;return this.items.splice(this.items.indexOf(t),1).length>0}get(e,t){const n=Cm(this.items,e),s=n?.value;return(!t&&Oh(s)?s.value:s)??void 0}has(e){return!!Cm(this.items,e)}set(e,t){this.add(new Tm(e,t),!0)}toJSON(_,e,t){const n=t?new t:e?.mapAsMap?new Map:{};e?.onCreate&&e.onCreate(n);for(const s of this.items)Em(e,n,s);return n}toString(e,t,n){if(!e)return JSON.stringify(this);for(const s of this.items)if(!Nh(s))throw new Error(`Map items must all be pairs; found ${JSON.stringify(s)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),Nm(this,e,{blockItemPrefix:'',flowChars:{start:'{',end:'}'},itemIndent:e.indent||'',onChompKeep:n,onComment:t})}}const Dm={collection:'map',default:!0,nodeClass:$m,tag:'tag:yaml.org,2002:map',resolve:(e,t)=>(Th(e)||t('Expected a mapping for this tag'),e),createNode:(e,t,n)=>$m.from(e,t,n)};class Pm extends em{static get tagName(){return'tag:yaml.org,2002:seq'}constructor(e){super(kh,e),this.items=[]}add(e){this.items.push(e)}delete(e){const t=zm(e);if('number'!=typeof t)return!1;return this.items.splice(t,1).length>0}get(e,t){const n=zm(e);if('number'!=typeof n)return;const s=this.items[n];return!t&&Oh(s)?s.value:s}has(e){const t=zm(e);return'number'==typeof t&&t<this.items.length}set(e,t){const n=zm(e);if('number'!=typeof n)throw new Error(`Expected a valid index, not ${e}.`);const s=this.items[n];Oh(s)&&Hh(t)?s.value=t:this.items[n]=t}toJSON(_,e){const t=[];e?.onCreate&&e.onCreate(t);let n=0;for(const s of this.items)t.push(Zh(s,String(n++),e));return t}toString(e,t,n){return e?Nm(this,e,{blockItemPrefix:'- ',flowChars:{start:'[',end:']'},itemIndent:(e.indent||'')+'  ',onChompKeep:n,onComment:t}):JSON.stringify(this)}static from(e,t,n){const{replacer:s}=n,i=new this(e);if(t&&Symbol.iterator in Object(t)){let e=0;for(let o of t){if('function'==typeof s){const n=t instanceof Set?o:String(e++);o=s.call(t,n,o)}i.items.push(Xh(o,void 0,n))}}return i}}function zm(e){let t=Oh(e)?e.value:e;return t&&'string'==typeof t&&(t=Number(t)),'number'==typeof t&&Number.isInteger(t)&&t>=0?t:null}const jm={collection:'seq',default:!0,nodeClass:Pm,tag:'tag:yaml.org,2002:seq',resolve:(e,t)=>(Ah(e)||t('Expected a sequence for this tag'),e),createNode:(e,t,n)=>Pm.from(e,t,n)},Lm={identify:e=>'string'==typeof e,default:!0,tag:'tag:yaml.org,2002:str',resolve:e=>e,stringify:(e,t,n,s)=>gm(e,t=Object.assign({actualString:!0},t),n,s)},Mm={identify:e=>null==e,createNode:()=>new Gh(null),default:!0,tag:'tag:yaml.org,2002:null',test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Gh(null),stringify:({source:e},t)=>'string'==typeof e&&Mm.test.test(e)?e:t.options.nullStr},Fm={identify:e=>'boolean'==typeof e,default:!0,tag:'tag:yaml.org,2002:bool',test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new Gh('t'===e[0]||'T'===e[0]),stringify({source:e,value:t},n){if(e&&Fm.test.test(e)){if(t===('t'===e[0]||'T'===e[0]))return e}return t?n.options.trueStr:n.options.falseStr}};function Rm({format:e,minFractionDigits:t,tag:n,value:s}){if('bigint'==typeof s)return String(s);const i='number'==typeof s?s:Number(s);if(!isFinite(i))return isNaN(i)?'.nan':i<0?'-.inf':'.inf';let o=Object.is(s,-0)?'-0':JSON.stringify(s);if(!e&&t&&(!n||'tag:yaml.org,2002:float'===n)&&/^\d/.test(o)){let e=o.indexOf('.');e<0&&(e=o.length,o+='.');let n=t-(o.length-e-1);for(;n-- >0;)o+='0'}return o}const Bm={identify:e=>'number'==typeof e,default:!0,tag:'tag:yaml.org,2002:float',test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>'nan'===e.slice(-3).toLowerCase()?NaN:'-'===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Rm},Um={identify:e=>'number'==typeof e,default:!0,tag:'tag:yaml.org,2002:float',format:'EXP',test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Rm(e)}},Vm={identify:e=>'number'==typeof e,default:!0,tag:'tag:yaml.org,2002:float',test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new Gh(parseFloat(e)),n=e.indexOf('.');return-1!==n&&'0'===e[e.length-1]&&(t.minFractionDigits=e.length-n-1),t},stringify:Rm},Km=e=>'bigint'==typeof e||Number.isInteger(e),Zm=(e,t,n,{intAsBigInt:s})=>s?BigInt(e):parseInt(e.substring(t),n);function qm(e,t,n){const{value:s}=e;return Km(s)&&s>=0?n+s.toString(t):Rm(e)}const Wm={identify:e=>Km(e)&&e>=0,default:!0,tag:'tag:yaml.org,2002:int',format:'OCT',test:/^0o[0-7]+$/,resolve:(e,t,n)=>Zm(e,2,8,n),stringify:e=>qm(e,8,'0o')},Ym={identify:Km,default:!0,tag:'tag:yaml.org,2002:int',test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>Zm(e,0,10,n),stringify:Rm},Hm={identify:e=>Km(e)&&e>=0,default:!0,tag:'tag:yaml.org,2002:int',format:'HEX',test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>Zm(e,2,16,n),stringify:e=>qm(e,16,'0x')},Gm=[Dm,jm,Lm,Mm,Fm,Wm,Ym,Hm,Bm,Um,Vm];function Xm(e){return'bigint'==typeof e||Number.isInteger(e)}const Jm=({value:e})=>JSON.stringify(e),Qm=[Dm,jm].concat([{identify:e=>'string'==typeof e,default:!0,tag:'tag:yaml.org,2002:str',resolve:e=>e,stringify:Jm},{identify:e=>null==e,createNode:()=>new Gh(null),default:!0,tag:'tag:yaml.org,2002:null',test:/^null$/,resolve:()=>null,stringify:Jm},{identify:e=>'boolean'==typeof e,default:!0,tag:'tag:yaml.org,2002:bool',test:/^true$|^false$/,resolve:e=>'true'===e,stringify:Jm},{identify:Xm,default:!0,tag:'tag:yaml.org,2002:int',test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>Xm(e)?e.toString():JSON.stringify(e)},{identify:e=>'number'==typeof e,default:!0,tag:'tag:yaml.org,2002:float',test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:Jm}],{default:!0,tag:'',test:/^/,resolve:(e,t)=>(t(`Unresolved plain scalar ${JSON.stringify(e)}`),e)}),eg={identify:e=>e instanceof Uint8Array,default:!1,tag:'tag:yaml.org,2002:binary',resolve(e,t){if('function'==typeof atob){const t=atob(e.replace(/[\n\r]/g,'')),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}return t('This environment does not support reading binary tags; either Buffer or atob is required'),e},stringify({comment:e,type:t,value:n},s,i,o){if(!n)return'';const r=n;let a;if('function'!=typeof btoa)throw new Error('This environment does not support writing binary tags; either Buffer or btoa is required');{let e='';for(let t=0;t<r.length;++t)e+=String.fromCharCode(r[t]);a=btoa(e)}if(t??(t=Gh.BLOCK_LITERAL),t!==Gh.QUOTE_DOUBLE){const e=Math.max(s.options.lineWidth-s.indent.length,s.options.minContentWidth),n=Math.ceil(a.length/e),i=new Array(n);for(let t=0,s=0;t<n;++t,s+=e)i[t]=a.substr(s,e);a=i.join(t===Gh.BLOCK_LITERAL?'\n':' ')}return gm({comment:e,type:t,value:a},s,i,o)}};function tg(e,t){if(Ah(e))for(let n=0;n<e.items.length;++n){let s=e.items[n];if(!Nh(s)){if(Th(s)){s.items.length>1&&t('Each pair must have its own sequence indicator');const e=s.items[0]||new Tm(new Gh(null));if(s.commentBefore&&(e.key.commentBefore=e.key.commentBefore?`${s.commentBefore}\n${e.key.commentBefore}`:s.commentBefore),s.comment){const t=e.value??e.key;t.comment=t.comment?`${s.comment}\n${t.comment}`:s.comment}s=e}e.items[n]=Nh(s)?s:new Tm(s)}}else t('Expected a sequence for this tag');return e}function ng(e,t,n){const{replacer:s}=n,i=new Pm(e);i.tag='tag:yaml.org,2002:pairs';let o=0;if(t&&Symbol.iterator in Object(t))for(let r of t){let e,a;if('function'==typeof s&&(r=s.call(t,String(o++),r)),Array.isArray(r)){if(2!==r.length)throw new TypeError(`Expected [key, value] tuple: ${r}`);e=r[0],a=r[1]}else if(r&&r instanceof Object){const t=Object.keys(r);if(1!==t.length)throw new TypeError(`Expected tuple with one key, not ${t.length} keys`);e=t[0],a=r[e]}else e=r;i.items.push(xm(e,a,n))}return i}const sg={collection:'seq',default:!1,tag:'tag:yaml.org,2002:pairs',resolve:tg,createNode:ng};class ig extends Pm{constructor(){super(),this.add=$m.prototype.add.bind(this),this.delete=$m.prototype.delete.bind(this),this.get=$m.prototype.get.bind(this),this.has=$m.prototype.has.bind(this),this.set=$m.prototype.set.bind(this),this.tag=ig.tag}toJSON(_,e){if(!e)return super.toJSON(_);const t=new Map;e?.onCreate&&e.onCreate(t);for(const n of this.items){let s,i;if(Nh(n)?(s=Zh(n.key,'',e),i=Zh(n.value,s,e)):s=Zh(n,'',e),t.has(s))throw new Error('Ordered maps must not include duplicate keys');t.set(s,i)}return t}static from(e,t,n){const s=ng(e,t,n),i=new this;return i.items=s.items,i}}ig.tag='tag:yaml.org,2002:omap';const og={collection:'seq',identify:e=>e instanceof Map,nodeClass:ig,default:!1,tag:'tag:yaml.org,2002:omap',resolve(e,t){const n=tg(e,t),s=[];for(const{key:i}of n.items)Oh(i)&&(s.includes(i.value)?t(`Ordered maps must not include duplicate keys: ${i.value}`):s.push(i.value));return Object.assign(new ig,n)},createNode:(e,t,n)=>ig.from(e,t,n)};function rg({value:e,source:t},n){return t&&(e?ag:lg).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const ag={identify:e=>!0===e,default:!0,tag:'tag:yaml.org,2002:bool',test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Gh(!0),stringify:rg},lg={identify:e=>!1===e,default:!0,tag:'tag:yaml.org,2002:bool',test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new Gh(!1),stringify:rg},cg={identify:e=>'number'==typeof e,default:!0,tag:'tag:yaml.org,2002:float',test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>'nan'===e.slice(-3).toLowerCase()?NaN:'-'===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Rm},ug={identify:e=>'number'==typeof e,default:!0,tag:'tag:yaml.org,2002:float',format:'EXP',test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,'')),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Rm(e)}},dg={identify:e=>'number'==typeof e,default:!0,tag:'tag:yaml.org,2002:float',test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new Gh(parseFloat(e.replace(/_/g,''))),n=e.indexOf('.');if(-1!==n){const s=e.substring(n+1).replace(/_/g,'');'0'===s[s.length-1]&&(t.minFractionDigits=s.length)}return t},stringify:Rm},fg=e=>'bigint'==typeof e||Number.isInteger(e);function pg(e,t,n,{intAsBigInt:s}){const i=e[0];if('-'!==i&&'+'!==i||(t+=1),e=e.substring(t).replace(/_/g,''),s){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`}const t=BigInt(e);return'-'===i?BigInt(-1)*t:t}const o=parseInt(e,n);return'-'===i?-1*o:o}function hg(e,t,n){const{value:s}=e;if(fg(s)){const e=s.toString(t);return s<0?'-'+n+e.substr(1):n+e}return Rm(e)}const mg={identify:fg,default:!0,tag:'tag:yaml.org,2002:int',format:'BIN',test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>pg(e,2,2,n),stringify:e=>hg(e,2,'0b')},gg={identify:fg,default:!0,tag:'tag:yaml.org,2002:int',format:'OCT',test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>pg(e,1,8,n),stringify:e=>hg(e,8,'0')},vg={identify:fg,default:!0,tag:'tag:yaml.org,2002:int',test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>pg(e,0,10,n),stringify:Rm},yg={identify:fg,default:!0,tag:'tag:yaml.org,2002:int',format:'HEX',test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>pg(e,2,16,n),stringify:e=>hg(e,16,'0x')};class bg extends $m{constructor(e){super(e),this.tag=bg.tag}add(e){let t;t=Nh(e)?e:e&&'object'==typeof e&&'key'in e&&'value'in e&&null===e.value?new Tm(e.key,null):new Tm(e,null);Cm(this.items,t.key)||this.items.push(t)}get(e,t){const n=Cm(this.items,e);return!t&&Nh(n)?Oh(n.key)?n.key.value:n.key:n}set(e,t){if('boolean'!=typeof t)throw new Error('Expected boolean value for set(key, value) in a YAML set, not '+typeof t);const n=Cm(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new Tm(e))}toJSON(_,e){return super.toJSON(_,e,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,n);throw new Error('Set items must all have null values')}static from(e,t,n){const{replacer:s}=n,i=new this(e);if(t&&Symbol.iterator in Object(t))for(let o of t)'function'==typeof s&&(o=s.call(t,o,o)),i.items.push(xm(o,null,n));return i}}bg.tag='tag:yaml.org,2002:set';const _g={collection:'map',identify:e=>e instanceof Set,nodeClass:bg,default:!1,tag:'tag:yaml.org,2002:set',createNode:(e,t,n)=>bg.from(e,t,n),resolve(e,t){if(Th(e)){if(e.hasAllNullValues(!0))return Object.assign(new bg,e);t('Set items must all have null values')}else t('Expected a mapping for this tag');return e}};function wg(e,t){const n=e[0],s='-'===n||'+'===n?e.substring(1):e,i=e=>t?BigInt(e):Number(e),o=s.replace(/_/g,'').split(':').reduce((e,t)=>e*i(60)+i(t),i(0));return'-'===n?i(-1)*o:o}function kg(e){let{value:t}=e,n=e=>e;if('bigint'==typeof t)n=e=>BigInt(e);else if(isNaN(t)||!isFinite(t))return Rm(e);let s='';t<0&&(s='-',t*=n(-1));const i=n(60),o=[t%i];return t<60?o.unshift(0):(t=(t-o[0])/i,o.unshift(t%i),t>=60&&(t=(t-o[0])/i,o.unshift(t))),s+o.map(e=>String(e).padStart(2,'0')).join(':').replace(/000000\d*$/,'')}const Sg={identify:e=>'bigint'==typeof e||Number.isInteger(e),default:!0,tag:'tag:yaml.org,2002:int',format:'TIME',test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>wg(e,n),stringify:kg},Eg={identify:e=>'number'==typeof e,default:!0,tag:'tag:yaml.org,2002:float',format:'TIME',test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>wg(e,!1),stringify:kg},xg={identify:e=>e instanceof Date,default:!0,tag:'tag:yaml.org,2002:timestamp',test:RegExp('^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$'),resolve(e){const t=e.match(xg.test);if(!t)throw new Error('!!timestamp expects a date, starting with yyyy-mm-dd');const[,n,s,i,o,r,a]=t.map(Number),l=t[7]?Number((t[7]+'00').substr(1,3)):0;let c=Date.UTC(n,s-1,i,o||0,r||0,a||0,l);const u=t[8];if(u&&'Z'!==u){let e=wg(u,!1);Math.abs(e)<30&&(e*=60),c-=6e4*e}return new Date(c)},stringify:({value:e})=>e?.toISOString().replace(/(T00:00:00)?\.000Z$/,'')??''},Tg=[Dm,jm,Lm,Mm,ag,lg,mg,gg,vg,yg,cg,ug,dg,eg,wm,og,sg,_g,Sg,Eg,xg],Ng=new Map([['core',Gm],['failsafe',[Dm,jm,Lm]],['json',Qm],['yaml11',Tg],['yaml-1.1',Tg]]),Og={binary:eg,bool:Fm,float:Vm,floatExp:Um,floatNaN:Bm,floatTime:Eg,int:Ym,intHex:Hm,intOct:Wm,intTime:Sg,map:Dm,merge:wm,null:Mm,omap:og,pairs:sg,seq:jm,set:_g,timestamp:xg},Ag={'tag:yaml.org,2002:binary':eg,'tag:yaml.org,2002:merge':wm,'tag:yaml.org,2002:omap':og,'tag:yaml.org,2002:pairs':sg,'tag:yaml.org,2002:set':_g,'tag:yaml.org,2002:timestamp':xg};function Ig(e,t,n){const s=Ng.get(t);if(s&&!e)return n&&!s.includes(wm)?s.concat(wm):s.slice();let i=s;if(!i){if(!Array.isArray(e)){const e=Array.from(Ng.keys()).filter(e=>'yaml11'!==e).map(e=>JSON.stringify(e)).join(', ');throw new Error(`Unknown schema "${t}"; use one of ${e} or define customTags array`)}i=[]}if(Array.isArray(e))for(const o of e)i=i.concat(o);else'function'==typeof e&&(i=e(i.slice()));return n&&(i=i.concat(wm)),i.reduce((e,t)=>{const n='string'==typeof t?Og[t]:t;if(!n){const e=JSON.stringify(t),n=Object.keys(Og).map(e=>JSON.stringify(e)).join(', ');throw new Error(`Unknown custom tag ${e}; use one of ${n}`)}return e.includes(n)||e.push(n),e},[])}const Cg=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class $g{constructor({compat:e,customTags:t,merge:n,resolveKnownTags:s,schema:i,sortMapEntries:o,toStringDefaults:r}){this.compat=Array.isArray(e)?Ig(e,'compat'):e?Ig(null,e):null,this.name='string'==typeof i&&i||'core',this.knownTags=s?Ag:{},this.tags=Ig(t,this.name,n),this.toStringOptions=r??null,Object.defineProperty(this,bh,{value:Dm}),Object.defineProperty(this,wh,{value:Lm}),Object.defineProperty(this,kh,{value:jm}),this.sortMapEntries='function'==typeof o?o:!0===o?Cg:null}clone(){const e=Object.create($g.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}class Dg{constructor(e,t,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Sh,{value:yh});let s=null;'function'==typeof t||Array.isArray(t)?s=t:void 0===n&&t&&(n=t,t=void 0);const i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:'warn',prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:'1.2'},n);this.options=i;let{version:o}=i;n?._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new Rh({version:o}),this.setSchema(o,n),this.contents=void 0===e?null:this.createNode(e,s,n)}clone(){const e=Object.create(Dg.prototype,{[Sh]:{value:yh}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=Ch(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Pg(this.contents)&&this.contents.add(e)}addIn(e,t){Pg(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){const n=Uh(this);e.anchor=!t||n.has(t)?Vh(t||'a',n):t}return new Wh(e.anchor)}createNode(e,t,n){let s;if('function'==typeof t)e=t.call({'':e},'',e),s=t;else if(Array.isArray(t)){const e=e=>'number'==typeof e||e instanceof String||e instanceof Number,n=t.filter(e).map(String);n.length>0&&(t=t.concat(n)),s=t}else void 0===n&&t&&(n=t,t=void 0);const{aliasDuplicateObjects:i,anchorPrefix:o,flow:r,keepUndefined:a,onTagObj:l,tag:c}=n??{},{onAnchor:u,setAnchors:d,sourceObjects:f}=function(e,t){const n=[],s=new Map;let i=null;return{onAnchor:s=>{n.push(s),i??(i=Uh(e));const o=Vh(t,i);return i.add(o),o},setAnchors:()=>{for(const e of n){const t=s.get(e);if('object'!=typeof t||!t.anchor||!Oh(t.node)&&!Ih(t.node)){const t=new Error('Failed to resolve repeated object (this should not happen)');throw t.source=e,t}t.node.anchor=t.anchor}},sourceObjects:s}}(this,o||'a'),p=Xh(e,c,{aliasDuplicateObjects:i??!0,keepUndefined:a??!1,onAnchor:u,onTagObj:l,replacer:s,schema:this.schema,sourceObjects:f});return r&&Ih(p)&&(p.flow=!0),d(),p}createPair(e,t,n={}){const s=this.createNode(e,null,n),i=this.createNode(t,null,n);return new Tm(s,i)}delete(e){return!!Pg(this.contents)&&this.contents.delete(e)}deleteIn(e){return Qh(e)?null!=this.contents&&(this.contents=null,!0):!!Pg(this.contents)&&this.contents.deleteIn(e)}get(e,t){return Ih(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return Qh(e)?!t&&Oh(this.contents)?this.contents.value:this.contents:Ih(this.contents)?this.contents.getIn(e,t):void 0}has(e){return!!Ih(this.contents)&&this.contents.has(e)}hasIn(e){return Qh(e)?void 0!==this.contents:!!Ih(this.contents)&&this.contents.hasIn(e)}set(e,t){null==this.contents?this.contents=Jh(this.schema,[e],t):Pg(this.contents)&&this.contents.set(e,t)}setIn(e,t){Qh(e)?this.contents=t:null==this.contents?this.contents=Jh(this.schema,Array.from(e),t):Pg(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){let n;switch('number'==typeof e&&(e=String(e)),e){case'1.1':this.directives?this.directives.yaml.version='1.1':this.directives=new Rh({version:'1.1'}),n={resolveKnownTags:!1,schema:'yaml-1.1'};break;case'1.2':case'next':this.directives?this.directives.yaml.version=e:this.directives=new Rh({version:e}),n={resolveKnownTags:!0,schema:'core'};break;case null:this.directives&&delete this.directives,n=null;break;default:{const t=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${t}`)}}if(t.schema instanceof Object)this.schema=t.schema;else{if(!n)throw new Error('With a null YAML version, the { schema: Schema } option is required');this.schema=new $g(Object.assign(n,t))}}toJS({json:e,jsonArg:t,mapAsMap:n,maxAliasCount:s,onAnchor:i,reviver:o}={}){const r={anchors:new Map,doc:this,keep:!e,mapAsMap:!0===n,mapKeyWarned:!1,maxAliasCount:'number'==typeof s?s:100},a=Zh(this.contents,t??'',r);if('function'==typeof i)for(const{count:l,res:c}of r.anchors.values())i(c,l);return'function'==typeof o?Kh(o,{'':a},'',a):a}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error('Document with errors cannot be stringified');if('indent'in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return function(e,t){const n=[];let s=!0===t.directives;if(!1!==t.directives&&e.directives){const t=e.directives.toString(e);t?(n.push(t),s=!0):e.directives.docStart&&(s=!0)}s&&n.push('---');const i=vm(e,t),{commentString:o}=i.options;if(e.commentBefore){1!==n.length&&n.unshift('');const t=o(e.commentBefore);n.unshift(nm(t,''))}let r=!1,a=null;if(e.contents){if(Ch(e.contents)){if(e.contents.spaceBefore&&s&&n.push(''),e.contents.commentBefore){const t=o(e.contents.commentBefore);n.push(nm(t,''))}i.forceBlockIndent=!!e.comment,a=e.contents.comment}const t=a?void 0:()=>r=!0;let l=ym(e.contents,i,()=>a=null,t);a&&(l+=sm(l,'',o(a))),'|'!==l[0]&&'>'!==l[0]||'---'!==n[n.length-1]?n.push(l):n[n.length-1]=`--- ${l}`}else n.push(ym(e.contents,i));if(e.directives?.docEnd)if(e.comment){const t=o(e.comment);t.includes('\n')?(n.push('...'),n.push(nm(t,''))):n.push(`... ${t}`)}else n.push('...');else{let t=e.comment;t&&r&&(t=t.replace(/^\n+/,'')),t&&(r&&!a||''===n[n.length-1]||n.push(''),n.push(nm(o(t),'')))}return n.join('\n')+'\n'}(this,e)}}function Pg(e){if(Ih(e))return!0;throw new Error('Expected a YAML collection as document contents')}class zg extends Error{constructor(e,t,n,s){super(),this.name=e,this.code=n,this.message=s,this.pos=t}}class jg extends zg{constructor(e,t,n){super('YAMLParseError',e,t,n)}}class Lg extends zg{constructor(e,t,n){super('YAMLWarning',e,t,n)}}const Mg=(e,t)=>n=>{if(-1===n.pos[0])return;n.linePos=n.pos.map(e=>t.linePos(e));const{line:s,col:i}=n.linePos[0];n.message+=` at line ${s}, column ${i}`;let o=i-1,r=e.substring(t.lineStarts[s-1],t.lineStarts[s]).replace(/[\n\r]+$/,'');if(o>=60&&r.length>80){const e=Math.min(o-39,r.length-79);r=''+r.substring(e),o-=e-1}if(r.length>80&&(r=r.substring(0,79)+''),s>1&&/^ *$/.test(r.substring(0,o))){let n=e.substring(t.lineStarts[s-2],t.lineStarts[s-1]);n.length>80&&(n=n.substring(0,79)+'\n'),r=n+r}if(/[^ ]/.test(r)){let e=1;const t=n.linePos[1];t?.line===s&&t.col>i&&(e=Math.max(1,Math.min(t.col-i,80-o)));const a=' '.repeat(o)+'^'.repeat(e);n.message+=`:\n\n${r}\n${a}\n`}};function Fg(e,{flow:t,indicator:n,next:s,offset:i,onError:o,parentIndent:r,startOnNewline:a}){let l=!1,c=a,u=a,d='',f='',p=!1,h=!1,m=null,g=null,v=null,y=null,b=null,w=null,k=null;for(const x of e)switch(h&&('space'!==x.type&&'newline'!==x.type&&'comma'!==x.type&&o(x.offset,'MISSING_CHAR','Tags and anchors must be separated from the next token by white space'),h=!1),m&&(c&&'comment'!==x.type&&'newline'!==x.type&&o(m,'TAB_AS_INDENT','Tabs are not allowed as indentation'),m=null),x.type){case'space':t||'doc-start'===n&&'flow-collection'===s?.type||!x.source.includes('\t')||(m=x),u=!0;break;case'comment':{u||o(x,'MISSING_CHAR','Comments must be separated from other tokens by white space characters');const e=x.source.substring(1)||' ';d?d+=f+e:d=e,f='',c=!1;break}case'newline':c?d?d+=x.source:w&&'seq-item-ind'===n||(l=!0):f+=x.source,c=!0,p=!0,(g||v)&&(y=x),u=!0;break;case'anchor':g&&o(x,'MULTIPLE_ANCHORS','A node can have at most one anchor'),x.source.endsWith(':')&&o(x.offset+x.source.length-1,'BAD_ALIAS','Anchor ending in : is ambiguous',!0),g=x,k??(k=x.offset),c=!1,u=!1,h=!0;break;case'tag':v&&o(x,'MULTIPLE_TAGS','A node can have at most one tag'),v=x,k??(k=x.offset),c=!1,u=!1,h=!0;break;case n:(g||v)&&o(x,'BAD_PROP_ORDER',`Anchors and tags must be after the ${x.source} indicator`),w&&o(x,'UNEXPECTED_TOKEN',`Unexpected ${x.source} in ${t??'collection'}`),w=x,c='seq-item-ind'===n||'explicit-key-ind'===n,u=!1;break;case'comma':if(t){b&&o(x,'UNEXPECTED_TOKEN',`Unexpected , in ${t}`),b=x,c=!1,u=!1;break}default:o(x,'UNEXPECTED_TOKEN',`Unexpected ${x.type} token`),c=!1,u=!1}const S=e[e.length-1],E=S?S.offset+S.source.length:i;return h&&s&&'space'!==s.type&&'newline'!==s.type&&'comma'!==s.type&&('scalar'!==s.type||''!==s.source)&&o(s.offset,'MISSING_CHAR','Tags and anchors must be separated from the next token by white space'),m&&(c&&m.indent<=r||'block-map'===s?.type||'block-seq'===s?.type)&&o(m,'TAB_AS_INDENT','Tabs are not allowed as indentation'),{comma:b,found:w,spaceBefore:l,comment:d,hasNewline:p,anchor:g,tag:v,newlineAfterProp:y,end:E,start:k??E}}function Rg(e){if(!e)return null;switch(e.type){case'alias':case'scalar':case'double-quoted-scalar':case'single-quoted-scalar':if(e.source.includes('\n'))return!0;if(e.end)for(const t of e.end)if('newline'===t.type)return!0;return!1;case'flow-collection':for(const t of e.items){for(const e of t.start)if('newline'===e.type)return!0;if(t.sep)for(const e of t.sep)if('newline'===e.type)return!0;if(Rg(t.key)||Rg(t.value))return!0}return!1;default:return!0}}function Bg(e,t,n){if('flow-collection'===t?.type){const s=t.end[0];if(s.indent===e&&(']'===s.source||'}'===s.source)&&Rg(t)){n(s,'BAD_INDENT','Flow end indicator should be more indented than parent',!0)}}}function Ug(e,t,n){const{uniqueKeys:s}=e.options;if(!1===s)return!1;const i='function'==typeof s?s:(e,t)=>e===t||Oh(e)&&Oh(t)&&e.value===t.value;return t.some(e=>i(e.key,n))}const Vg='All mapping items must start at the same column';function Kg(e,t,n,s){let i='';if(e){let o=!1,r='';for(const a of e){const{source:e,type:l}=a;switch(l){case'space':o=!0;break;case'comment':{n&&!o&&s(a,'MISSING_CHAR','Comments must be separated from other tokens by white space characters');const t=e.substring(1)||' ';i?i+=r+t:i=t,r='';break}case'newline':i&&(r+=e),o=!0;break;default:s(a,'UNEXPECTED_TOKEN',`Unexpected ${l} at node end`)}t+=e.length}}return{comment:i,offset:t}}const Zg='Block collections are not allowed within flow collections',qg=e=>e&&('block-map'===e.type||'block-seq'===e.type);function Wg(e,t,n,s,i,o){const r='block-map'===n.type?function({composeNode:e,composeEmptyNode:t},n,s,i,o){const r=new(o?.nodeClass??$m)(n.schema);n.atRoot&&(n.atRoot=!1);let a=s.offset,l=null;for(const c of s.items){const{start:o,key:u,sep:d,value:f}=c,p=Fg(o,{indicator:'explicit-key-ind',next:u??d?.[0],offset:a,onError:i,parentIndent:s.indent,startOnNewline:!0}),h=!p.found;if(h){if(u&&('block-seq'===u.type?i(a,'BLOCK_AS_IMPLICIT_KEY','A block sequence may not be used as an implicit map key'):'indent'in u&&u.indent!==s.indent&&i(a,'BAD_INDENT',Vg)),!p.anchor&&!p.tag&&!d){l=p.end,p.comment&&(r.comment?r.comment+='\n'+p.comment:r.comment=p.comment);continue}(p.newlineAfterProp||Rg(u))&&i(u??o[o.length-1],'MULTILINE_IMPLICIT_KEY','Implicit keys need to be on a single line')}else p.found?.indent!==s.indent&&i(a,'BAD_INDENT',Vg);n.atKey=!0;const m=p.end,g=u?e(n,u,p,i):t(n,m,o,null,p,i);n.schema.compat&&Bg(s.indent,u,i),n.atKey=!1,Ug(n,r.items,g)&&i(m,'DUPLICATE_KEY','Map keys must be unique');const v=Fg(d??[],{indicator:'map-value-ind',next:f,offset:g.range[2],onError:i,parentIndent:s.indent,startOnNewline:!u||'block-scalar'===u.type});if(a=v.end,v.found){h&&('block-map'!==f?.type||v.hasNewline||i(a,'BLOCK_AS_IMPLICIT_KEY','Nested mappings are not allowed in compact mappings'),n.options.strict&&p.start<v.found.offset-1024&&i(g.range,'KEY_OVER_1024_CHARS','The : indicator must be at most 1024 chars after the start of an implicit block mapping key'));const o=f?e(n,f,v,i):t(n,a,d,null,v,i);n.schema.compat&&Bg(s.indent,f,i),a=o.range[2];const l=new Tm(g,o);n.options.keepSourceTokens&&(l.srcToken=c),r.items.push(l)}else{h&&i(g.range,'MISSING_CHAR','Implicit map keys need to be followed by map values'),v.comment&&(g.comment?g.comment+='\n'+v.comment:g.comment=v.comment);const e=new Tm(g);n.options.keepSourceTokens&&(e.srcToken=c),r.items.push(e)}}return l&&l<a&&i(l,'IMPOSSIBLE','Map comment with trailing content'),r.range=[s.offset,a,l??a],r}(e,t,n,s,o):'block-seq'===n.type?function({composeNode:e,composeEmptyNode:t},n,s,i,o){const r=new(o?.nodeClass??Pm)(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let a=s.offset,l=null;for(const{start:c,value:u}of s.items){const o=Fg(c,{indicator:'seq-item-ind',next:u,offset:a,onError:i,parentIndent:s.indent,startOnNewline:!0});if(!o.found){if(!(o.anchor||o.tag||u)){l=o.end,o.comment&&(r.comment=o.comment);continue}'block-seq'===u?.type?i(o.end,'BAD_INDENT','All sequence items must start at the same column'):i(a,'MISSING_CHAR','Sequence item without - indicator')}const d=u?e(n,u,o,i):t(n,o.end,c,null,o,i);n.schema.compat&&Bg(s.indent,u,i),a=d.range[2],r.items.push(d)}return r.range=[s.offset,a,l??a],r}(e,t,n,s,o):function({composeNode:e,composeEmptyNode:t},n,s,i,o){const r='{'===s.start.source,a=r?'flow map':'flow sequence',l=new(o?.nodeClass??(r?$m:Pm))(n.schema);l.flow=!0;const c=n.atRoot;c&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let u=s.offset+s.start.source.length;for(let m=0;m<s.items.length;++m){const o=s.items[m],{start:c,key:d,sep:f,value:p}=o,h=Fg(c,{flow:a,indicator:'explicit-key-ind',next:d??f?.[0],offset:u,onError:i,parentIndent:s.indent,startOnNewline:!1});if(!h.found){if(!(h.anchor||h.tag||f||p)){0===m&&h.comma?i(h.comma,'UNEXPECTED_TOKEN',`Unexpected , in ${a}`):m<s.items.length-1&&i(h.start,'UNEXPECTED_TOKEN',`Unexpected empty item in ${a}`),h.comment&&(l.comment?l.comment+='\n'+h.comment:l.comment=h.comment),u=h.end;continue}!r&&n.options.strict&&Rg(d)&&i(d,'MULTILINE_IMPLICIT_KEY','Implicit keys of flow sequence pairs need to be on a single line')}if(0===m)h.comma&&i(h.comma,'UNEXPECTED_TOKEN',`Unexpected , in ${a}`);else if(h.comma||i(h.start,'MISSING_CHAR',`Missing , between ${a} items`),h.comment){let e='';e:for(const t of c)switch(t.type){case'comma':case'space':break;case'comment':e=t.source.substring(1);break e;default:break e}if(e){let t=l.items[l.items.length-1];Nh(t)&&(t=t.value??t.key),t.comment?t.comment+='\n'+e:t.comment=e,h.comment=h.comment.substring(e.length+1)}}if(r||f||h.found){n.atKey=!0;const m=h.end,g=d?e(n,d,h,i):t(n,m,c,null,h,i);qg(d)&&i(g.range,'BLOCK_IN_FLOW',Zg),n.atKey=!1;const v=Fg(f??[],{flow:a,indicator:'map-value-ind',next:p,offset:g.range[2],onError:i,parentIndent:s.indent,startOnNewline:!1});if(v.found){if(!r&&!h.found&&n.options.strict){if(f)for(const e of f){if(e===v.found)break;if('newline'===e.type){i(e,'MULTILINE_IMPLICIT_KEY','Implicit keys of flow sequence pairs need to be on a single line');break}}h.start<v.found.offset-1024&&i(v.found,'KEY_OVER_1024_CHARS','The : indicator must be at most 1024 chars after the start of an implicit flow sequence key')}}else p&&('source'in p&&':'===p.source?.[0]?i(p,'MISSING_CHAR',`Missing space after : in ${a}`):i(v.start,'MISSING_CHAR',`Missing , or : between ${a} items`));const y=p?e(n,p,v,i):v.found?t(n,v.end,f,null,v,i):null;y?qg(p)&&i(y.range,'BLOCK_IN_FLOW',Zg):v.comment&&(g.comment?g.comment+='\n'+v.comment:g.comment=v.comment);const b=new Tm(g,y);if(n.options.keepSourceTokens&&(b.srcToken=o),r){const e=l;Ug(n,e.items,g)&&i(m,'DUPLICATE_KEY','Map keys must be unique'),e.items.push(b)}else{const e=new $m(n.schema);e.flow=!0,e.items.push(b);const t=(y??g).range;e.range=[g.range[0],t[1],t[2]],l.items.push(e)}u=y?y.range[2]:v.end}else{const s=p?e(n,p,h,i):t(n,h.end,f,null,h,i);l.items.push(s),u=s.range[2],qg(p)&&i(s.range,'BLOCK_IN_FLOW',Zg)}}const d=r?'}':']',[f,...p]=s.end;let h=u;if(f?.source===d)h=f.offset+f.source.length;else{const e=a[0].toUpperCase()+a.substring(1);i(u,c?'MISSING_CHAR':'BAD_INDENT',c?`${e} must end with a ${d}`:`${e} in block collection must be sufficiently indented and end with a ${d}`),f&&1!==f.source.length&&p.unshift(f)}if(p.length>0){const e=Kg(p,h,n.options.strict,i);e.comment&&(l.comment?l.comment+='\n'+e.comment:l.comment=e.comment),l.range=[s.offset,h,e.offset]}else l.range=[s.offset,h,h];return l}(e,t,n,s,o),a=r.constructor;return'!'===i||i===a.tagName?(r.tag=a.tagName,r):(i&&(r.tag=i),r)}function Yg(e,t,n){const s=t.offset,i=function({offset:e,props:t},n,s){if('block-scalar-header'!==t[0].type)return s(t[0],'IMPOSSIBLE','Block scalar header not found'),null;const{source:i}=t[0],o=i[0];let r=0,a='',l=-1;for(let f=1;f<i.length;++f){const t=i[f];if(a||'-'!==t&&'+'!==t){const n=Number(t);!r&&n?r=n:-1===l&&(l=e+f)}else a=t}-1!==l&&s(l,'UNEXPECTED_TOKEN',`Block scalar header includes extra characters: ${i}`);let c=!1,u='',d=i.length;for(let f=1;f<t.length;++f){const e=t[f];switch(e.type){case'space':c=!0;case'newline':d+=e.source.length;break;case'comment':if(n&&!c){s(e,'MISSING_CHAR','Comments must be separated from other tokens by white space characters')}d+=e.source.length,u=e.source.substring(1);break;case'error':s(e,'UNEXPECTED_TOKEN',e.message),d+=e.source.length;break;default:{s(e,'UNEXPECTED_TOKEN',`Unexpected token in block scalar header: ${e.type}`);const t=e.source;t&&'string'==typeof t&&(d+=t.length)}}}return{mode:o,indent:r,chomp:a,comment:u,length:d}}(t,e.options.strict,n);if(!i)return{value:'',type:null,comment:'',range:[s,s,s]};const o='>'===i.mode?Gh.BLOCK_FOLDED:Gh.BLOCK_LITERAL,r=t.source?function(e){const t=e.split(/\n( *)/),n=t[0],s=n.match(/^( *)/),i=[s?.[1]?[s[1],n.slice(s[1].length)]:['',n]];for(let o=1;o<t.length;o+=2)i.push([t[o],t[o+1]]);return i}(t.source):[];let a=r.length;for(let m=r.length-1;m>=0;--m){const e=r[m][1];if(''!==e&&'\r'!==e)break;a=m}if(0===a){const e='+'===i.chomp&&r.length>0?'\n'.repeat(Math.max(1,r.length-1)):'';let n=s+i.length;return t.source&&(n+=t.source.length),{value:e,type:o,comment:i.comment,range:[s,n,n]}}let l=t.indent+i.indent,c=t.offset+i.length,u=0;for(let m=0;m<a;++m){const[t,s]=r[m];if(''!==s&&'\r'!==s){if(t.length<l){const e='Block scalars with more-indented leading empty lines must use an explicit indentation indicator';n(c+t.length,'MISSING_CHAR',e)}if(0===i.indent&&(l=t.length),u=m,0===l&&!e.atRoot){n(c,'BAD_INDENT','Block scalar values in collections must be indented')}break}0===i.indent&&t.length>l&&(l=t.length),c+=t.length+s.length+1}for(let m=r.length-1;m>=a;--m)r[m][0].length>l&&(a=m+1);let d='',f='',p=!1;for(let m=0;m<u;++m)d+=r[m][0].slice(l)+'\n';for(let m=u;m<a;++m){let[e,t]=r[m];c+=e.length+t.length+1;const s='\r'===t[t.length-1];if(s&&(t=t.slice(0,-1)),t&&e.length<l){const o=`Block scalar lines must not be less indented than their ${i.indent?'explicit indentation indicator':'first line'}`;n(c-t.length-(s?2:1),'BAD_INDENT',o),e=''}o===Gh.BLOCK_LITERAL?(d+=f+e.slice(l)+t,f='\n'):e.length>l||'\t'===t[0]?(' '===f?f='\n':p||'\n'!==f||(f='\n\n'),d+=f+e.slice(l)+t,f='\n',p=!0):''===t?'\n'===f?d+='\n':f='\n':(d+=f+t,f=' ',p=!1)}switch(i.chomp){case'-':break;case'+':for(let e=a;e<r.length;++e)d+='\n'+r[e][0].slice(l);'\n'!==d[d.length-1]&&(d+='\n');break;default:d+='\n'}const h=s+i.length+t.source.length;return{value:d,type:o,comment:i.comment,range:[s,h,h]}}function Hg(e,t,n){const{offset:s,type:i,source:o,end:r}=e;let a,l;const c=(e,t,i)=>n(s+e,t,i);switch(i){case'scalar':a=Gh.PLAIN,l=function(e,t){let n='';switch(e[0]){case'\t':n='a tab character';break;case',':n='flow indicator character ,';break;case'%':n='directive indicator character %';break;case'|':case'>':n=`block scalar indicator ${e[0]}`;break;case'@':case'`':n=`reserved character ${e[0]}`}n&&t(0,'BAD_SCALAR_START',`Plain value cannot start with ${n}`);return Gg(e)}(o,c);break;case'single-quoted-scalar':a=Gh.QUOTE_SINGLE,l=function(e,t){'\''===e[e.length-1]&&1!==e.length||t(e.length,'MISSING_CHAR','Missing closing \'quote');return Gg(e.slice(1,-1)).replace(/''/g,'\'')}(o,c);break;case'double-quoted-scalar':a=Gh.QUOTE_DOUBLE,l=function(e,t){let n='';for(let s=1;s<e.length-1;++s){const i=e[s];if('\r'!==i||'\n'!==e[s+1])if('\n'===i){const{fold:t,offset:i}=Xg(e,s);n+=t,s=i}else if('\\'===i){let i=e[++s];const o=Jg[i];if(o)n+=o;else if('\n'===i)for(i=e[s+1];' '===i||'\t'===i;)i=e[1+ ++s];else if('\r'===i&&'\n'===e[s+1])for(i=e[1+ ++s];' '===i||'\t'===i;)i=e[1+ ++s];else if('x'===i||'u'===i||'U'===i){const o={x:2,u:4,U:8}[i];n+=Qg(e,s+1,o,t),s+=o}else{const i=e.substr(s-1,2);t(s-1,'BAD_DQ_ESCAPE',`Invalid escape sequence ${i}`),n+=i}}else if(' '===i||'\t'===i){const t=s;let o=e[s+1];for(;' '===o||'\t'===o;)o=e[1+ ++s];'\n'===o||'\r'===o&&'\n'===e[s+2]||(n+=s>t?e.slice(t,s+1):i)}else n+=i}'"'===e[e.length-1]&&1!==e.length||t(e.length,'MISSING_CHAR','Missing closing "quote');return n}(o,c);break;default:return n(e,'UNEXPECTED_TOKEN',`Expected a flow scalar value, but found: ${i}`),{value:'',type:null,comment:'',range:[s,s+o.length,s+o.length]}}const u=s+o.length,d=Kg(r,u,t,n);return{value:l,type:a,comment:d.comment,range:[s,u,d.offset]}}function Gg(e){let t,n;try{t=new RegExp('(.*?)(?<![ \t])[ \t]*\r?\n','sy'),n=new RegExp('[ \t]*(.*?)(?:(?<![ \t])[ \t]*)?\r?\n','sy')}catch{t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let s=t.exec(e);if(!s)return e;let i=s[1],o=' ',r=t.lastIndex;for(n.lastIndex=r;s=n.exec(e);)''===s[1]?'\n'===o?i+=o:o='\n':(i+=o+s[1],o=' '),r=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=r,s=a.exec(e),i+o+(s?.[1]??'')}function Xg(e,t){let n='',s=e[t+1];for(;!(' '!==s&&'\t'!==s&&'\n'!==s&&'\r'!==s||'\r'===s&&'\n'!==e[t+2]);)'\n'===s&&(n+='\n'),s=e[(t+=1)+1];return n||(n=' '),{fold:n,offset:t}}const Jg={0:'\0',a:'',b:'\b',e:'',f:'\f',n:'\n',r:'\r',t:'\t',v:'\v',N:'',_:'',L:'\u2028',P:'\u2029',' ':' ','"':'"','/':'/','\\':'\\','\t':'\t'};function Qg(e,t,n,s){const i=e.substr(t,n),o=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(o)){const i=e.substr(t-2,n+2);return s(t-2,'BAD_DQ_ESCAPE',`Invalid escape sequence ${i}`),i}return String.fromCodePoint(o)}function ev(e,t,n,s){const{value:i,type:o,comment:r,range:a}='block-scalar'===t.type?Yg(e,t,s):Hg(t,e.options.strict,s),l=n?e.directives.tagName(n.source,e=>s(n,'TAG_RESOLVE_FAILED',e)):null;let c,u;c=e.options.stringKeys&&e.atKey?e.schema[wh]:l?function(e,t,n,s,i){if('!'===n)return e[wh];const o=[];for(const a of e.tags)if(!a.collection&&a.tag===n){if(!a.default||!a.test)return a;o.push(a)}for(const a of o)if(a.test?.test(t))return a;const r=e.knownTags[n];if(r&&!r.collection)return e.tags.push(Object.assign({},r,{default:!1,test:void 0})),r;return i(s,'TAG_RESOLVE_FAILED',`Unresolved tag: ${n}`,'tag:yaml.org,2002:str'!==n),e[wh]}(e.schema,i,l,n,s):'scalar'===t.type?function({atKey:e,directives:t,schema:n},s,i,o){const r=n.tags.find(t=>(!0===t.default||e&&'key'===t.default)&&t.test?.test(s))||n[wh];if(n.compat){const e=n.compat.find(e=>e.default&&e.test?.test(s))??n[wh];if(r.tag!==e.tag){o(i,'TAG_RESOLVE_FAILED',`Value may be parsed as either ${t.tagString(r.tag)} or ${t.tagString(e.tag)}`,!0)}}return r}(e,i,t,s):e.schema[wh];try{const o=c.resolve(i,e=>s(n??t,'TAG_RESOLVE_FAILED',e),e.options);u=Oh(o)?o:new Gh(o)}catch(d){const e=d instanceof Error?d.message:String(d);s(n??t,'TAG_RESOLVE_FAILED',e),u=new Gh(i)}return u.range=a,u.source=i,o&&(u.type=o),l&&(u.tag=l),c.format&&(u.format=c.format),r&&(u.comment=r),u}function tv(e,t,n){if(t){n??(n=t.length);for(let s=n-1;s>=0;--s){let n=t[s];switch(n.type){case'space':case'comment':case'newline':e-=n.source.length;continue}for(n=t[++s];'space'===n?.type;)e+=n.source.length,n=t[++s];break}}return e}const nv={composeNode:sv,composeEmptyNode:iv};function sv(e,t,n,s){const i=e.atKey,{spaceBefore:o,comment:r,anchor:a,tag:l}=n;let c,u=!0;switch(t.type){case'alias':c=function({options:e},{offset:t,source:n,end:s},i){const o=new Wh(n.substring(1));''===o.source&&i(t,'BAD_ALIAS','Alias cannot be an empty string');o.source.endsWith(':')&&i(t+n.length-1,'BAD_ALIAS','Alias ending in : is ambiguous',!0);const r=t+n.length,a=Kg(s,r,e.strict,i);o.range=[t,r,a.offset],a.comment&&(o.comment=a.comment);return o}(e,t,s),(a||l)&&s(t,'ALIAS_PROPS','An alias node must not specify any properties');break;case'scalar':case'single-quoted-scalar':case'double-quoted-scalar':case'block-scalar':c=ev(e,t,l,s),a&&(c.anchor=a.source.substring(1));break;case'block-map':case'block-seq':case'flow-collection':c=function(e,t,n,s,i){const o=s.tag,r=o?t.directives.tagName(o.source,e=>i(o,'TAG_RESOLVE_FAILED',e)):null;if('block-seq'===n.type){const{anchor:e,newlineAfterProp:t}=s,n=e&&o?e.offset>o.offset?e:o:e??o;n&&(!t||t.offset<n.offset)&&i(n,'MISSING_CHAR','Missing newline after block sequence props')}const a='block-map'===n.type?'map':'block-seq'===n.type?'seq':'{'===n.start.source?'map':'seq';if(!o||!r||'!'===r||r===$m.tagName&&'map'===a||r===Pm.tagName&&'seq'===a)return Wg(e,t,n,i,r);let l=t.schema.tags.find(e=>e.tag===r&&e.collection===a);if(!l){const s=t.schema.knownTags[r];if(s?.collection!==a)return s?i(o,'BAD_COLLECTION_TYPE',`${s.tag} used for ${a} collection, but expects ${s.collection??'scalar'}`,!0):i(o,'TAG_RESOLVE_FAILED',`Unresolved tag: ${r}`,!0),Wg(e,t,n,i,r);t.schema.tags.push(Object.assign({},s,{default:!1})),l=s}const c=Wg(e,t,n,i,r,l),u=l.resolve?.(c,e=>i(o,'TAG_RESOLVE_FAILED',e),t.options)??c,d=Ch(u)?u:new Gh(u);return d.range=c.range,d.tag=r,l?.format&&(d.format=l.format),d}(nv,e,t,n,s),a&&(c.anchor=a.source.substring(1));break;default:s(t,'UNEXPECTED_TOKEN','error'===t.type?t.message:`Unsupported token (type: ${t.type})`),c=iv(e,t.offset,void 0,null,n,s),u=!1}if(a&&''===c.anchor&&s(a,'BAD_ALIAS','Anchor cannot be an empty string'),i&&e.options.stringKeys&&(!Oh(c)||'string'!=typeof c.value||c.tag&&'tag:yaml.org,2002:str'!==c.tag)){s(l??t,'NON_STRING_KEY','With stringKeys, all keys must be strings')}return o&&(c.spaceBefore=!0),r&&('scalar'===t.type&&''===t.source?c.comment=r:c.commentBefore=r),e.options.keepSourceTokens&&u&&(c.srcToken=t),c}function iv(e,t,n,s,{spaceBefore:i,comment:o,anchor:r,tag:a,end:l},c){const u=ev(e,{type:'scalar',offset:tv(t,n,s),indent:-1,source:''},a,c);return r&&(u.anchor=r.source.substring(1),''===u.anchor&&c(r,'BAD_ALIAS','Anchor cannot be an empty string')),i&&(u.spaceBefore=!0),o&&(u.comment=o,u.range[2]=l),u}function ov(e){if('number'==typeof e)return[e,e+1];if(Array.isArray(e))return 2===e.length?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+('string'==typeof n?n.length:1)]}function rv(e){let t='',n=!1,s=!1;for(let i=0;i<e.length;++i){const o=e[i];switch(o[0]){case'#':t+=(''===t?'':s?'\n\n':'\n')+(o.substring(1)||' '),n=!0,s=!1;break;case'%':'#'!==e[i+1]?.[0]&&(i+=1),n=!1;break;default:n||(s=!0),n=!1}}return{comment:t,afterEmptyLine:s}}class av{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(e,t,n,s)=>{const i=ov(e);s?this.warnings.push(new Lg(i,t,n)):this.errors.push(new jg(i,t,n))},this.directives=new Rh({version:e.version||'1.2'}),this.options=e}decorate(e,t){const{comment:n,afterEmptyLine:s}=rv(this.prelude);if(n){const i=e.contents;if(t)e.comment=e.comment?`${e.comment}\n${n}`:n;else if(s||e.directives.docStart||!i)e.commentBefore=n;else if(Ih(i)&&!i.flow&&i.items.length>0){let e=i.items[0];Nh(e)&&(e=e.key);const t=e.commentBefore;e.commentBefore=t?`${n}\n${t}`:n}else{const e=i.commentBefore;i.commentBefore=e?`${n}\n${e}`:n}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:rv(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,n=-1){for(const s of e)yield*this.next(s);yield*this.end(t,n)}*next(e){switch(e.type){case'directive':this.directives.add(e.source,(t,n,s)=>{const i=ov(e);i[0]+=t,this.onError(i,'BAD_DIRECTIVE',n,s)}),this.prelude.push(e.source),this.atDirectives=!0;break;case'document':{const t=function(e,t,{offset:n,start:s,value:i,end:o},r){const a=Object.assign({_directives:t},e),l=new Dg(void 0,a),c={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},u=Fg(s,{indicator:'doc-start',next:i??o?.[0],offset:n,onError:r,parentIndent:0,startOnNewline:!0});u.found&&(l.directives.docStart=!0,!i||'block-map'!==i.type&&'block-seq'!==i.type||u.hasNewline||r(u.end,'MISSING_CHAR','Block collection cannot start on same line with directives-end marker')),l.contents=i?sv(c,i,u,r):iv(c,u.end,s,null,u,r);const d=l.contents.range[2],f=Kg(o,d,!1,r);return f.comment&&(l.comment=f.comment),l.range=[n,d,f.offset],l}(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,'MISSING_CHAR','Missing directives-end/doc-start indicator line'),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case'byte-order-mark':case'space':break;case'comment':case'newline':this.prelude.push(e.source);break;case'error':{const t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,n=new jg(ov(e),'UNEXPECTED_TOKEN',t);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case'doc-end':{if(!this.doc){const t='Unexpected doc-end without preceding document';this.errors.push(new jg(ov(e),'UNEXPECTED_TOKEN',t));break}this.doc.directives.docEnd=!0;const t=Kg(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){const e=this.doc.comment;this.doc.comment=e?`${e}\n${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new jg(ov(e),'UNEXPECTED_TOKEN',`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const e=Object.assign({_directives:this.directives},this.options),n=new Dg(void 0,e);this.atDirectives&&this.onError(t,'MISSING_CHAR','Missing directives-end indicator line'),n.range=[0,t,t],this.decorate(n,!1),yield n}}}function lv(e){switch(e){case void 0:case' ':case'\n':case'\r':case'\t':return!0;default:return!1}}const cv=new Set('0123456789ABCDEFabcdef'),uv=new Set('0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*\'()'),dv=new Set(',[]{}'),fv=new Set(' ,[]{}\n\r\t'),pv=e=>!e||fv.has(e);class hv{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer='',this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){if(e){if('string'!=typeof e)throw TypeError('source is not a string');this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!t;let n=this.next??'stream';for(;n&&(t||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;' '===t||'\t'===t;)t=this.buffer[++e];return!t||'#'===t||'\n'===t||'\r'===t&&'\n'===this.buffer[e+1]}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let n=0;for(;' '===t;)t=this.buffer[++n+e];if('\r'===t){const t=this.buffer[n+e+1];if('\n'===t||!t&&!this.atEnd)return e+n+1}return'\n'===t||n>=this.indentNext||!t&&!this.atEnd?e+n:-1}if('-'===t||'.'===t){const t=this.buffer.substr(e,3);if(('---'===t||'...'===t)&&lv(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return('number'!=typeof e||-1!==e&&e<this.pos)&&(e=this.buffer.indexOf('\n',this.pos),this.lineEndPos=e),-1===e?this.atEnd?this.buffer.substring(this.pos):null:('\r'===this.buffer[e-1]&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case'stream':return yield*this.parseStream();case'line-start':return yield*this.parseLineStart();case'block-start':return yield*this.parseBlockStart();case'doc':return yield*this.parseDocument();case'flow':return yield*this.parseFlowCollection();case'quoted-scalar':return yield*this.parseQuotedScalar();case'block-scalar':return yield*this.parseBlockScalar();case'plain-scalar':return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(null===e)return this.setNext('stream');if('\ufeff'===e[0]&&(yield*this.pushCount(1),e=e.substring(1)),'%'===e[0]){let t=e.length,n=e.indexOf('#');for(;-1!==n;){const s=e[n-1];if(' '===s||'\t'===s){t=n-1;break}n=e.indexOf('#',n+1)}for(;;){const n=e[t-1];if(' '!==n&&'\t'!==n)break;t-=1}const s=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-s),this.pushNewline(),'stream'}if(this.atLineEnd()){const t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),'stream'}return yield'',yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext('line-start');if('-'===e||'.'===e){if(!this.atEnd&&!this.hasChars(4))return this.setNext('line-start');const e=this.peek(3);if(('---'===e||'...'===e)&&lv(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,'---'===e?'doc':'stream'}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!lv(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext('block-start');if(('-'===e||'?'===e||':'===e)&&lv(t)){const e=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=e,yield*this.parseBlockStart()}return'doc'}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(null===e)return this.setNext('doc');let t=yield*this.pushIndicators();switch(e[t]){case'#':yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case'{':case'[':return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,'flow';case'}':case']':return yield*this.pushCount(1),'doc';case'*':return yield*this.pushUntil(pv),'doc';case'"':case'\'':return yield*this.parseQuotedScalar();case'|':case'>':return t+=(yield*this.parseBlockScalarHeader()),t+=(yield*this.pushSpaces(!0)),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,n=-1;do{e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=n=t):t=0,t+=(yield*this.pushSpaces(!0))}while(e+t>0);const s=this.getLine();if(null===s)return this.setNext('flow');if(-1!==n&&n<this.indentNext&&'#'!==s[0]||0===n&&(s.startsWith('---')||s.startsWith('...'))&&lv(s[3])){if(!(n===this.indentNext-1&&1===this.flowLevel&&(']'===s[0]||'}'===s[0])))return this.flowLevel=0,yield'',yield*this.parseLineStart()}let i=0;for(;','===s[i];)i+=(yield*this.pushCount(1)),i+=(yield*this.pushSpaces(!0)),this.flowKey=!1;switch(i+=(yield*this.pushIndicators()),s[i]){case void 0:return'flow';case'#':return yield*this.pushCount(s.length-i),'flow';case'{':case'[':return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,'flow';case'}':case']':return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?'flow':'doc';case'*':return yield*this.pushUntil(pv),'flow';case'"':case'\'':return this.flowKey=!0,yield*this.parseQuotedScalar();case':':{const e=this.charAt(1);if(this.flowKey||lv(e)||','===e)return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),'flow'}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if('\''===e)for(;-1!==t&&'\''===this.buffer[t+1];)t=this.buffer.indexOf('\'',t+2);else for(;-1!==t;){let e=0;for(;'\\'===this.buffer[t-1-e];)e+=1;if(e%2==0)break;t=this.buffer.indexOf('"',t+1)}const n=this.buffer.substring(0,t);let s=n.indexOf('\n',this.pos);if(-1!==s){for(;-1!==s;){const e=this.continueScalar(s+1);if(-1===e)break;s=n.indexOf('\n',e)}-1!==s&&(t=s-('\r'===n[s-1]?2:1))}if(-1===t){if(!this.atEnd)return this.setNext('quoted-scalar');t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?'flow':'doc'}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const t=this.buffer[++e];if('+'===t)this.blockScalarKeep=!0;else if(t>'0'&&t<='9')this.blockScalarIndent=Number(t)-1;else if('-'!==t)break}return yield*this.pushUntil(e=>lv(e)||'#'===e)}*parseBlockScalar(){let e,t=this.pos-1,n=0;e:for(let i=this.pos;e=this.buffer[i];++i)switch(e){case' ':n+=1;break;case'\n':t=i,n=0;break;case'\r':{const e=this.buffer[i+1];if(!e&&!this.atEnd)return this.setNext('block-scalar');if('\n'===e)break}default:break e}if(!e&&!this.atEnd)return this.setNext('block-scalar');if(n>=this.indentNext){-1===this.blockScalarIndent?this.indentNext=n:this.indentNext=this.blockScalarIndent+(0===this.indentNext?1:this.indentNext);do{const e=this.continueScalar(t+1);if(-1===e)break;t=this.buffer.indexOf('\n',e)}while(-1!==t);if(-1===t){if(!this.atEnd)return this.setNext('block-scalar');t=this.buffer.length}}let s=t+1;for(e=this.buffer[s];' '===e;)e=this.buffer[++s];if('\t'===e){for(;'\t'===e||' '===e||'\r'===e||'\n'===e;)e=this.buffer[++s];t=s-1}else if(!this.blockScalarKeep)for(;;){let e=t-1,s=this.buffer[e];'\r'===s&&(s=this.buffer[--e]);const i=e;for(;' '===s;)s=this.buffer[--e];if(!('\n'===s&&e>=this.pos&&e+1+n>i))break;t=e}return yield'',yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let t,n=this.pos-1,s=this.pos-1;for(;t=this.buffer[++s];)if(':'===t){const t=this.buffer[s+1];if(lv(t)||e&&dv.has(t))break;n=s}else if(lv(t)){let i=this.buffer[s+1];if('\r'===t&&('\n'===i?(s+=1,t='\n',i=this.buffer[s+1]):n=s),'#'===i||e&&dv.has(i))break;if('\n'===t){const e=this.continueScalar(s+1);if(-1===e)break;s=Math.max(s,e-2)}}else{if(e&&dv.has(t))break;n=s}return t||this.atEnd?(yield'',yield*this.pushToIndex(n+1,!0),e?'flow':'doc'):this.setNext('plain-scalar')}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){const n=this.buffer.slice(this.pos,e);return n?(yield n,this.pos+=n.length,n.length):(t&&(yield''),0)}*pushIndicators(){switch(this.charAt(0)){case'!':return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case'&':return(yield*this.pushUntil(pv))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case'-':case'?':case':':{const e=this.flowLevel>0,t=this.charAt(1);if(lv(t)||e&&dv.has(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if('<'===this.charAt(1)){let e=this.pos+2,t=this.buffer[e];for(;!lv(t)&&'>'!==t;)t=this.buffer[++e];return yield*this.pushToIndex('>'===t?e+1:e,!1)}{let e=this.pos+1,t=this.buffer[e];for(;t;)if(uv.has(t))t=this.buffer[++e];else{if('%'!==t||!cv.has(this.buffer[e+1])||!cv.has(this.buffer[e+2]))break;t=this.buffer[e+=3]}return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return'\n'===e?yield*this.pushCount(1):'\r'===e&&'\n'===this.charAt(1)?yield*this.pushCount(2):0}*pushSpaces(e){let t,n=this.pos-1;do{t=this.buffer[++n]}while(' '===t||e&&'\t'===t);const s=n-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=n),s}*pushUntil(e){let t=this.pos,n=this.buffer[t];for(;!e(n);)n=this.buffer[++t];return yield*this.pushToIndex(t,!1)}}class mv{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,n=this.lineStarts.length;for(;t<n;){const s=t+n>>1;this.lineStarts[s]<e?t=s+1:n=s}if(this.lineStarts[t]===e)return{line:t+1,col:1};if(0===t)return{line:0,col:e};return{line:t,col:e-this.lineStarts[t-1]+1}}}}function gv(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function vv(e){for(let t=0;t<e.length;++t)switch(e[t].type){case'space':case'comment':case'newline':break;default:return t}return-1}function yv(e){switch(e?.type){case'alias':case'scalar':case'single-quoted-scalar':case'double-quoted-scalar':case'flow-collection':return!0;default:return!1}}function bv(e){switch(e.type){case'document':return e.start;case'block-map':{const t=e.items[e.items.length-1];return t.sep??t.start}case'block-seq':return e.items[e.items.length-1].start;default:return[]}}function _v(e){if(0===e.length)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case'doc-start':case'explicit-key-ind':case'map-value-ind':case'seq-item-ind':case'newline':break e}for(;'space'===e[++t]?.type;);return e.splice(t,e.length)}function wv(e){if('flow-seq-start'===e.start.type)for(const t of e.items)!t.sep||t.value||gv(t.start,'explicit-key-ind')||gv(t.sep,'map-value-ind')||(t.key&&(t.value=t.key),delete t.key,yv(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class kv{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source='',this.type='',this.lexer=new hv,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&0===this.offset&&this.onNewLine(0);for(const n of this.lexer.lex(e,t))yield*this.next(n);t||(yield*this.end())}*next(e){if(this.source=e,this.atScalar)return this.atScalar=!1,yield*this.step(),void(this.offset+=e.length);const t=function(e){switch(e){case'\ufeff':return'byte-order-mark';case'':return'doc-mode';case'':return'flow-error-end';case'':return'scalar';case'---':return'doc-start';case'...':return'doc-end';case'':case'\n':case'\r\n':return'newline';case'-':return'seq-item-ind';case'?':return'explicit-key-ind';case':':return'map-value-ind';case'{':return'flow-map-start';case'}':return'flow-map-end';case'[':return'flow-seq-start';case']':return'flow-seq-end';case',':return'comma'}switch(e[0]){case' ':case'\t':return'space';case'#':return'comment';case'%':return'directive-line';case'*':return'alias';case'&':return'anchor';case'!':return'tag';case'\'':return'single-quoted-scalar';case'"':return'double-quoted-scalar';case'|':case'>':return'block-scalar-header'}return null}(e);if(t)if('scalar'===t)this.atNewLine=!1,this.atScalar=!0,this.type='scalar';else{switch(this.type=t,yield*this.step(),t){case'newline':this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case'space':this.atNewLine&&' '===e[0]&&(this.indent+=e.length);break;case'explicit-key-ind':case'map-value-ind':case'seq-item-ind':this.atNewLine&&(this.indent+=e.length);break;case'doc-mode':case'flow-error-end':return;default:this.atNewLine=!1}this.offset+=e.length}else{const t=`Not a YAML token: ${e}`;yield*this.pop({type:'error',offset:this.offset,message:t,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if('doc-end'!==this.type||'doc-end'===e?.type){if(!e)return yield*this.stream();switch(e.type){case'document':return yield*this.document(e);case'alias':case'scalar':case'single-quoted-scalar':case'double-quoted-scalar':return yield*this.scalar(e);case'block-scalar':return yield*this.blockScalar(e);case'block-map':return yield*this.blockMap(e);case'block-seq':return yield*this.blockSequence(e);case'flow-collection':return yield*this.flowCollection(e);case'doc-end':return yield*this.documentEnd(e)}yield*this.pop()}else{for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:'doc-end',offset:this.offset,source:this.source})}}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=e??this.stack.pop();if(t)if(0===this.stack.length)yield t;else{const e=this.peek(1);switch('block-scalar'===t.type?t.indent='indent'in e?e.indent:0:'flow-collection'===t.type&&'document'===e.type&&(t.indent=0),'flow-collection'===t.type&&wv(t),e.type){case'document':e.value=t;break;case'block-scalar':e.props.push(t);break;case'block-map':{const n=e.items[e.items.length-1];if(n.value)return e.items.push({start:[],key:t,sep:[]}),void(this.onKeyLine=!0);if(!n.sep)return Object.assign(n,{key:t,sep:[]}),void(this.onKeyLine=!n.explicitKey);n.value=t;break}case'block-seq':{const n=e.items[e.items.length-1];n.value?e.items.push({start:[],value:t}):n.value=t;break}case'flow-collection':{const n=e.items[e.items.length-1];return void(!n||n.value?e.items.push({start:[],key:t,sep:[]}):n.sep?n.value=t:Object.assign(n,{key:t,sep:[]}))}default:yield*this.pop(),yield*this.pop(t)}if(!('document'!==e.type&&'block-map'!==e.type&&'block-seq'!==e.type||'block-map'!==t.type&&'block-seq'!==t.type)){const n=t.items[t.items.length-1];n&&!n.sep&&!n.value&&n.start.length>0&&-1===vv(n.start)&&(0===t.indent||n.start.every(e=>'comment'!==e.type||e.indent<t.indent))&&('document'===e.type?e.end=n.start:e.items.push({start:n.start}),t.items.splice(-1,1))}}else{const e='Tried to pop an empty stack';yield{type:'error',offset:this.offset,source:'',message:e}}}*stream(){switch(this.type){case'directive-line':return void(yield{type:'directive',offset:this.offset,source:this.source});case'byte-order-mark':case'space':case'comment':case'newline':return void(yield this.sourceToken);case'doc-mode':case'doc-start':{const e={type:'document',offset:this.offset,start:[]};return'doc-start'===this.type&&e.start.push(this.sourceToken),void this.stack.push(e)}}yield{type:'error',offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case'doc-start':return void(-1!==vv(e.start)?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken));case'anchor':case'tag':case'space':case'comment':case'newline':return void e.start.push(this.sourceToken)}const t=this.startBlockValue(e);t?this.stack.push(t):yield{type:'error',offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if('map-value-ind'===this.type){const t=_v(bv(this.peek(2)));let n;e.end?(n=e.end,n.push(this.sourceToken),delete e.end):n=[this.sourceToken];const s={type:'block-map',offset:e.offset,indent:e.indent,items:[{start:t,key:e,sep:n}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case'space':case'comment':case'newline':return void e.props.push(this.sourceToken);case'scalar':if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let e=this.source.indexOf('\n')+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf('\n',e)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const t=e.items[e.items.length-1];switch(this.type){case'newline':if(this.onKeyLine=!1,t.value){const n='end'in t.value?t.value.end:void 0,s=Array.isArray(n)?n[n.length-1]:void 0;'comment'===s?.type?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case'space':case'comment':if(t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else{if(this.atIndentedComment(t.start,e.indent)){const n=e.items[e.items.length-2],s=n?.value?.end;if(Array.isArray(s))return Array.prototype.push.apply(s,t.start),s.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const n=!this.onKeyLine&&this.indent===e.indent,s=n&&(t.sep||t.explicitKey)&&'seq-item-ind'!==this.type;let i=[];if(s&&t.sep&&!t.value){const n=[];for(let s=0;s<t.sep.length;++s){const i=t.sep[s];switch(i.type){case'newline':n.push(s);break;case'space':break;case'comment':i.indent>e.indent&&(n.length=0);break;default:n.length=0}}n.length>=2&&(i=t.sep.splice(n[1]))}switch(this.type){case'anchor':case'tag':return void(s||t.value?(i.push(this.sourceToken),e.items.push({start:i}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case'explicit-key-ind':return t.sep||t.explicitKey?s||t.value?(i.push(this.sourceToken),e.items.push({start:i,explicitKey:!0})):this.stack.push({type:'block-map',offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}):(t.start.push(this.sourceToken),t.explicitKey=!0),void(this.onKeyLine=!0);case'map-value-ind':if(t.explicitKey)if(t.sep)if(t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(gv(t.sep,'map-value-ind'))this.stack.push({type:'block-map',offset:this.offset,indent:this.indent,items:[{start:i,key:null,sep:[this.sourceToken]}]});else if(yv(t.key)&&!gv(t.sep,'newline')){const e=_v(t.start),n=t.key,s=t.sep;s.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:'block-map',offset:this.offset,indent:this.indent,items:[{start:e,key:n,sep:s}]})}else i.length>0?t.sep=t.sep.concat(i,this.sourceToken):t.sep.push(this.sourceToken);else if(gv(t.start,'newline'))Object.assign(t,{key:null,sep:[this.sourceToken]});else{const e=_v(t.start);this.stack.push({type:'block-map',offset:this.offset,indent:this.indent,items:[{start:e,key:null,sep:[this.sourceToken]}]})}else t.sep?t.value||s?e.items.push({start:i,key:null,sep:[this.sourceToken]}):gv(t.sep,'map-value-ind')?this.stack.push({type:'block-map',offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return void(this.onKeyLine=!0);case'alias':case'scalar':case'single-quoted-scalar':case'double-quoted-scalar':{const n=this.flowScalar(this.type);return void(s||t.value?(e.items.push({start:i,key:n,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(n):(Object.assign(t,{key:n,sep:[]}),this.onKeyLine=!0))}default:{const s=this.startBlockValue(e);if(s){if('block-seq'===s.type){if(!t.explicitKey&&t.sep&&!gv(t.sep,'newline'))return void(yield*this.pop({type:'error',offset:this.offset,message:'Unexpected block-seq-ind on same line with key',source:this.source}))}else n&&e.items.push({start:i});return void this.stack.push(s)}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const t=e.items[e.items.length-1];switch(this.type){case'newline':if(t.value){const n='end'in t.value?t.value.end:void 0,s=Array.isArray(n)?n[n.length-1]:void 0;'comment'===s?.type?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.start.push(this.sourceToken);return;case'space':case'comment':if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){const n=e.items[e.items.length-2],s=n?.value?.end;if(Array.isArray(s))return Array.prototype.push.apply(s,t.start),s.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return;case'anchor':case'tag':if(t.value||this.indent<=e.indent)break;return void t.start.push(this.sourceToken);case'seq-item-ind':if(this.indent!==e.indent)break;return void(t.value||gv(t.start,'seq-item-ind')?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken))}if(this.indent>e.indent){const t=this.startBlockValue(e);if(t)return void this.stack.push(t)}yield*this.pop(),yield*this.step()}*flowCollection(e){const t=e.items[e.items.length-1];if('flow-error-end'===this.type){let e;do{yield*this.pop(),e=this.peek(1)}while('flow-collection'===e?.type)}else if(0===e.end.length){switch(this.type){case'comma':case'explicit-key-ind':return void(!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken));case'map-value-ind':return void(!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]}));case'space':case'comment':case'newline':case'anchor':case'tag':return void(!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case'alias':case'scalar':case'single-quoted-scalar':case'double-quoted-scalar':{const n=this.flowScalar(this.type);return void(!t||t.value?e.items.push({start:[],key:n,sep:[]}):t.sep?this.stack.push(n):Object.assign(t,{key:n,sep:[]}))}case'flow-map-end':case'flow-seq-end':return void e.end.push(this.sourceToken)}const n=this.startBlockValue(e);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{const t=this.peek(2);if('block-map'===t.type&&('map-value-ind'===this.type&&t.indent===e.indent||'newline'===this.type&&!t.items[t.items.length-1].sep))yield*this.pop(),yield*this.step();else if('map-value-ind'===this.type&&'flow-collection'!==t.type){const n=_v(bv(t));wv(e);const s=e.end.splice(1,e.end.length);s.push(this.sourceToken);const i={type:'block-map',offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=i}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let e=this.source.indexOf('\n')+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf('\n',e)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case'alias':case'scalar':case'single-quoted-scalar':case'double-quoted-scalar':return this.flowScalar(this.type);case'block-scalar-header':return{type:'block-scalar',offset:this.offset,indent:this.indent,props:[this.sourceToken],source:''};case'flow-map-start':case'flow-seq-start':return{type:'flow-collection',offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case'seq-item-ind':return{type:'block-seq',offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case'explicit-key-ind':{this.onKeyLine=!0;const t=_v(bv(e));return t.push(this.sourceToken),{type:'block-map',offset:this.offset,indent:this.indent,items:[{start:t,explicitKey:!0}]}}case'map-value-ind':{this.onKeyLine=!0;const t=_v(bv(e));return{type:'block-map',offset:this.offset,indent:this.indent,items:[{start:t,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return'comment'===this.type&&(!(this.indent<=t)&&e.every(e=>'newline'===e.type||'space'===e.type))}*documentEnd(e){'doc-mode'!==this.type&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],'newline'===this.type&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case'comma':case'doc-start':case'doc-end':case'flow-seq-end':case'flow-map-end':case'map-value-ind':yield*this.pop(),yield*this.step();break;case'newline':this.onKeyLine=!1;default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],'newline'===this.type&&(yield*this.pop())}}}function Sv(e,t={}){const{lineCounter:n,prettyErrors:s}=function(e){const t=!1!==e.prettyErrors;return{lineCounter:e.lineCounter||t&&new mv||null,prettyErrors:t}}(t),i=new kv(n?.addNewLine),o=new av(t);let r=null;for(const a of o.compose(i.parse(e),!0,e.length))if(r){if('silent'!==r.options.logLevel){r.errors.push(new jg(a.range.slice(0,2),'MULTIPLE_DOCS','Source contains multiple documents; please use YAML.parseAllDocuments()'));break}}else r=a;return s&&n&&(r.errors.forEach(Mg(e,n)),r.warnings.forEach(Mg(e,n))),r}function Ev(e){if(!e)return null;const t=e.match(/```myst\s*\n([\s\S]*?)```/);if(!t)return null;const n=t[1].trim();try{const e=function(e,t,n){let s;const i=Sv(e,n);if(!i)return null;if(i.warnings.forEach(e=>bm(i.options.logLevel,e)),i.errors.length>0){if('silent'!==i.options.logLevel)throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:s},n))}(n);return tu('[messageParser]  myst '),e}catch(s){return nu('[messageParser]  myst :',s),null}}function xv(e){const t=function(){const e=a();if(!e.chat||0===e.chat.length)return null;for(let t=e.chat.length-1;t>=0;t--){const n=e.chat[t];if(!n.is_user&&!n.is_system)return n}return null}();if(!t)return null;const n=Ev(t.swipes?.[t.swipe_id]||t.mes);return n?function(e,t){const n={date:e.time||e['']||e.date||'',location:e.place||e['']||e.location||'',weather:e.weather||e['']||'',news:{title:e.news?.title||e['']?.['']||'',content:e.news?.content||e['']?.['']||''}},s={};for(const i of t){if(!i.enabled)continue;const t=i.name;if(t&&void 0!==e[t])if('number'===i.type){const n=String(e[t]).trim(),o=n.replace(/%$/,''),r=Number(o);isNaN(r)?s[i.id]=e[t]:s[i.id]={value:r,display:n}}else s[i.id]=String(e[t])}return{...n,customFields:s}}(n,e):null}function Tv(e){if(!e.length)return;const t=e.find('.mes_text');t.length&&t.find('pre').each(function(){const e=$(this),t=e.find('code');if(!t.length)return;const n=e.html(),s=t.text();(t.hasClass('language-myst')||n.includes('language-myst')||s.includes(':')&&s.split('\n').length>1)&&(tu('[messageRenderer]  myst '),e.hide())})}function Nv(e){Tv($(`#chat .mes[mesid="${e}"]`))}function Ov(){tu('[messageRenderer]  myst '),$('#chat .mes').each(function(){const e=$(this);e.hasClass('user_mes')||Tv(e)})}$(()=>{tu('[index] '),function(){const e=$('<div id="status_tracking">').appendTo('#extensions_settings2');Ou.mount(e[0])}(),function(){if(mh)return;const e={setup:()=>()=>ri('div',[ri(hh)])},t=$('<div id="status-tracking-panel">').appendTo('body');mh=Gi(e);const n=so();mh.use(n),mh.use(gh),mh.mount(t[0])}(),tu('[messageRenderer] '),e.on(t.CHARACTER_MESSAGE_RENDERED,e=>{tu('[messageRenderer] AI '),Nv(e)}),e.on(t.MESSAGE_SWIPED,e=>{tu('[messageRenderer]  swipe'),setTimeout(()=>Nv(e),100)}),e.on(t.MESSAGE_EDITED,e=>{tu('[messageRenderer] '),setTimeout(()=>Nv(e),100)}),e.on(t.CHAT_CHANGED,()=>{tu('[messageRenderer]  myst '),setTimeout(()=>Ov(),100)}),setTimeout(()=>Ov(),500);const i=mu(),o=Up();tu('[promptGenerator]  Prompt '),e.on(t.GENERATION_STARTED,pu),tu('[index] '),function(n,s,i){tu('[messageParser] ');const o=()=>{const e=xv(i());e?n(e):s()};e.on(t.MESSAGE_RECEIVED,()=>{tu('[messageParser]  AI '),o()}),e.on(t.MESSAGE_SWIPED,()=>{tu('[messageParser]  swipe'),o()}),e.on(t.MESSAGE_EDITED,()=>{tu('[messageParser] '),o()}),e.on(t.CHAT_CHANGED,()=>{tu('[messageParser] '),o()}),e.on(t.MESSAGE_DELETED,()=>{tu('[messageParser] '),o()}),o()}(e=>{tu('[index] '),o.data.date=e.date,o.data.location=e.location,o.data.weather=e.weather,o.data.news=e.news,o.data.customFields=e.customFields},()=>{tu('[index] '),o.clearData()},()=>i.settings.fields),Vn(()=>i.settings.panel_enabled,e=>{e?fu(i.settings.fields,i.settings.language,i.settings.fixed_fields_enabled,i.settings.custom_prompt):(du=!1,tu('[promptGenerator]  Prompt '),n('status-tracking-prompt','',s.IN_CHAT,0,!1))},{immediate:!0}),Vn(()=>[i.settings.fields,i.settings.language,i.settings.fixed_fields_enabled,i.settings.custom_prompt],([e,t,n,s])=>{i.settings.panel_enabled&&fu(e,t,n,s)},{deep:!0})});
//# sourceMappingURL=index.js.map
